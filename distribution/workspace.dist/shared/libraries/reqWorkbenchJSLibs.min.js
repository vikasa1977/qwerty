var __extends,wijmo;!function(t){"use strict";function e(){return st}function i(t,e){return null==t?null:o(e)?c(t.implementsInterface)&&t.implementsInterface(e)?t:null:t instanceof e?t:null}function n(t){return o(t)||s(t)||l(t)||u(t)}function o(t){return"string"==typeof t}function r(t){return null==t?!0:t.replace(/\s/g,"").length<1}function s(t){return"number"==typeof t}function a(t){return s(t)&&t==Math.round(t)}function l(t){return"boolean"==typeof t}function c(t){return"function"==typeof t}function h(t){return"undefined"==typeof t}function u(t){return t instanceof Date&&!isNaN(t.getTime())}function p(t){return t instanceof Array}function d(t){return null!=t&&"object"==typeof t&&!u(t)&&!p(t)}function f(t){if(t instanceof it)return t;if(t.touches&&t.touches.length>0&&(t=t.touches[0]),s(t.clientX)&&s(t.clientY))return new it(t.clientX+pageXOffset,t.clientY+pageYOffset);throw"Mouse or touch event expected."}function g(t){return s(t)?tt.Number:l(t)?tt.Boolean:u(t)?tt.Date:o(t)?tt.String:p(t)?tt.Array:tt.Object}function m(e,i,n){var r,s;if(null!=e){if(o(e))switch(i){case tt.Number:return r=t.Globalize.parseFloat(e,n),isNaN(r)?e:r;case tt.Date:return s=t.Globalize.parseDate(e,n),s||n||!e||(s=new Date(e)),s&&isFinite(s.getTime())?s:e;case tt.Boolean:switch(e.toLowerCase()){case"true":return!0;case"false":return!1}return e}if(i==tt.String)return t.Globalize.format(e,n)}return e}function _(t,e,i){var n,o;return i?(o=t.toString(),n=o.indexOf("."),n>-1&&(o=o.substr(0,n+1+e),t=parseFloat(o))):(o=t.toFixed(e),t=parseFloat(o)),t}function y(e,i,n){return e=P(e),e.replace(/\{(.*?)(:(.*?))?\}/g,function(e,o,r,s){var a=e;return o&&"{"!=o[0]&&i&&(a=i[o],s&&(a=t.Globalize.format(a,s)),n&&(a=n(i,o,s,a))),null==a?"":a})}function w(t,e,i){return null!=t&&(null!=i&&t>i&&(t=i),null!=e&&e>t&&(t=e)),t}function b(e,i){var n,o;if(i)for(n in i)"_"!=n[0]&&(v(n in e,'Unknown property "'+n+'".'),o=i[n],e._copy&&e._copy(n,o)||(e[n]instanceof t.Event&&c(o)?e[n].addHandler(o):d(o)&&e[n]&&"itemsSource"!=n?b(e[n],o):e[n]=o))}function v(t,e){if(!t)throw"** Assertion failed in Wijmo: "+e}function C(t,e){console.error('** WARNING: "'+t+'" has been deprecated; please use "'+e+'" instead.')}function P(t,e){return void 0===e&&(e=!0),v(e&&null==t||o(t),"String expected."),t}function x(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),v(e&&null==t||s(t),"Number expected."),i&&t&&0>t)throw"Positive number expected.";return t}function j(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),v(e&&null==t||a(t),"Integer expected."),i&&t&&0>t)throw"Positive integer expected.";return t}function E(t,e){return void 0===e&&(e=!1),v(e&&null==t||l(t),"Boolean expected."),t}function S(t,e){return void 0===e&&(e=!1),v(e&&null==t||u(t),"Date expected."),t}function T(t,e){return void 0===e&&(e=!0),v(e&&null==t||c(t),"Function expected."),t}function D(t,e){return void 0===e&&(e=!0),v(e&&null==t||p(t),"Array expected."),t}function M(t,e,n){return void 0===n&&(n=!1),t=i(t,e),v(n||null!=t,e+" expected."),t}function A(t,e,i){if(void 0===i&&(i=!1),null==t&&i)return null;var n=e[t];return v(null!=n,"Invalid enum value."),s(n)?n:t}function R(e,n){if(void 0===n&&(n=!0),null==e&&n)return null;var o=i(e,"ICollectionView");return null!=o?o:(p(e)||v(!1,"Array or ICollectionView expected."),new t.collections.CollectionView(e))}function O(t){return t&&t.items&&t.items.length}function F(t){return t&&t.length?t[0].toUpperCase()+t.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function I(t){return o(t)&&(t=t.replace(/[&<>"'\/]/g,function(t){return et[t]})),t}function k(t,e){if(t&&t.getAttribute){var i=new RegExp("\\b"+e+"\\b");return t&&i.test(t.getAttribute("class"))}return!1}function H(t,e){if(t&&e&&t.setAttribute&&k(t,e)){var i=new RegExp("\\s?\\b"+e+"\\b","g"),n=t.getAttribute("class");t.setAttribute("class",n.replace(i,""))}}function L(t,e){if(t&&e&&t.setAttribute&&!k(t,e)){var i=t.getAttribute("class");t.setAttribute("class",i?i+" "+e:e)}}function N(t,e,i){i?L(t,e):H(t,e)}function B(t,e,i){if(void 0===i&&(i=e),t=M(t,HTMLInputElement),K(document.body,t)&&!t.disabled&&"none"!=t.style.display)try{t.focus(),t.setSelectionRange(x(e),x(i))}catch(n){}}function z(){var t,e=document.activeElement;return e&&(t=e.shadowRoot,t&&t.activeElement&&(e=t.activeElement)),e}function V(t,e){for(var i,n,o=t.querySelectorAll("input,select,textarea,button,a"),r=[],s=0;s<o.length;s++)n=o[s],!n.disabled&&n.tabIndex>-1&&n.clientHeight>0&&!U(n,"[disabled],.wj-state-disabled")&&r.push(n);i=0,e&&(s=r.indexOf(z()),s>-1&&(i=(s+e+r.length)%r.length)),i<r.length&&(n=r[i],n.focus(),n instanceof HTMLInputElement&&n.select())}function G(t){return t instanceof Element?t:o(t)?document.querySelector(t):t&&t.jquery?t[0]:null}function q(t,e){var i,n=document.createElement("div");return n.innerHTML=t,i=n.removeChild(n.firstChild),e instanceof HTMLElement?e.appendChild(i):i}function W(t,e){if(null==e)return void(t.hasChildNodes()&&(t.textContent=""));var i=t.firstChild;1==t.childNodes.length&&3==i.nodeType?i.nodeValue!=e&&(i.nodeValue=e):(i||e)&&(t.textContent=e)}function K(t,e){for(var i=e;i&&t;){if(i===t)return!0;i=i.parentNode||i.host}return!1}function U(t,e){var i=t?t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector:null;if(i)for(;t;t=t.parentNode)if(t instanceof Element&&i.call(t,e))return t;return null}function $(t,e){var i,n,o;for(N(t,"wj-state-disabled",!e),e?t.removeAttribute("disabled"):t.setAttribute("disabled","true"),i=t.querySelectorAll("input"),n=0;n<i.length;n++)o=i[n],e?o.removeAttribute("disabled"):o.setAttribute("disabled","true")}function Y(t){var e=t.getBoundingClientRect();return new ot(e.left+pageXOffset,e.top+pageYOffset,e.width,e.height)}function X(t,e){var i,n,o=t.style;for(i in e)n=e[i],"number"==typeof n&&i.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(n+="px"),o[i]!=n&&(o[i]=n.toString())}function J(t,e,i){void 0===e&&(e=400),void 0===i&&(i=35),T(t),x(e,!1,!0),x(i,!1,!0);var n=Date.now(),o=setInterval(function(){var i=Math.min(1,(Date.now()-n)/e);i=Math.sin(i*Math.PI/2),i*=i,requestAnimationFrame(function(){t(i)}),i>=1&&clearInterval(o)},i);return o}function Z(t,e){var i,n,r,s,a,l;e||(e={});var h=e.method?P(e.method).toUpperCase():"GET",u=null!=e.async?E(e.async):!0,p=e.data;if(null!=p&&"GET"==h){i=[];for(n in p)i.push(n+"="+p[n]);i.length&&(r=t.indexOf("?")<0?"?":"&",t+=r+i.join("&")),p=null}if(s=new XMLHttpRequest,s.URL_DEBUG=t,a=!1,null==p||o(p)||(a=d(p),p=JSON.stringify(p)),s.onload=function(){4==s.readyState&&(s.status<300?e.success&&T(e.success)(s):e.error&&T(e.error)(s),e.complete&&T(e.complete)(s))},s.onerror=function(){if(!e.error)throw"HttpRequest Error: "+s.status+" "+s.statusText;T(e.error)(s)},s.open(h,t,u,e.user,e.password),e.user&&e.password&&s.setRequestHeader("Authorization","Basic "+btoa(e.user+":"+e.password)),a&&s.setRequestHeader("Content-Type","application/json"),e.requestHeaders)for(l in e.requestHeaders)s.setRequestHeader(l,e.requestHeaders[l]);return c(e.beforeSend)&&e.beforeSend(s),s.send(p),s}var Q,tt,et,it,nt,ot,rt,st="5.20162.198";t.getVersion=e,function(t){t[t.Back=8]="Back",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Delete=46]="Delete",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12"}(t.Key||(t.Key={})),Q=t.Key,function(t){t[t.Object=0]="Object",t[t.String=1]="String",t[t.Number=2]="Number",t[t.Boolean=3]="Boolean",t[t.Date=4]="Date",t[t.Array=5]="Array"}(t.DataType||(t.DataType={})),tt=t.DataType,t.tryCast=i,t.isPrimitive=n,t.isString=o,t.isNullOrWhiteSpace=r,t.isNumber=s,t.isInt=a,t.isBoolean=l,t.isFunction=c,t.isUndefined=h,t.isDate=u,t.isArray=p,t.isObject=d,t.mouseToPage=f,t.getType=g,t.changeType=m,t.toFixed=_,t.format=y,t.clamp=w,t.copy=b,t.assert=v,t._deprecated=C,t.asString=P,t.asNumber=x,t.asInt=j,t.asBoolean=E,t.asDate=S,t.asFunction=T,t.asArray=D,t.asType=M,t.asEnum=A,t.asCollectionView=R,t.hasItems=O,t.toHeaderCase=F,t.escapeHtml=I,et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},t.hasClass=k,t.removeClass=H,t.addClass=L,t.toggleClass=N,t.setSelectionRange=B,t.getActiveElement=z,t.moveFocus=V,t.getElement=G,t.createElement=q,t.setText=W,t.contains=K,t.closest=U,t.enable=$,t.getElementRect=Y,t.setCss=X,t.animate=J,it=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=x(t),this.y=x(e)}return t.prototype.equals=function(e){return e instanceof t&&this.x==e.x&&this.y==e.y},t.prototype.clone=function(){return new t(this.x,this.y)},t}(),t.Point=it,nt=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=x(t),this.height=x(e)}return t.prototype.equals=function(e){return e instanceof t&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.width,this.height)},t}(),t.Size=nt,ot=function(){function t(t,e,i,n){this.left=x(t),this.top=x(e),this.width=x(i),this.height=x(n)}return Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return e instanceof t&&this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height},t.prototype.clone=function(){return new t(this.left,this.top,this.width,this.height)},t.fromBoundingRect=function(e){return null!=e.left?new t(e.left,e.top,e.width,e.height):null!=e.x?new t(e.x,e.y,e.width,e.height):void v(!1,"Invalid source rectangle.")},t.union=function(e,i){var n=Math.min(e.left,i.left),o=Math.min(e.top,i.top),r=Math.max(e.right,i.right),s=Math.max(e.bottom,i.bottom);return new t(n,o,r-n,s-o)},t.intersection=function(e,i){var n=Math.max(e.left,i.left),o=Math.max(e.top,i.top),r=Math.min(e.right,i.right),s=Math.min(e.bottom,i.bottom);return new t(n,o,r-n,s-o)},t.prototype.contains=function(e){if(e instanceof it)return e.x>=this.left&&e.x<=this.right&&e.y>=this.top&&e.y<=this.bottom;if(e instanceof t){var i=e;return i.left>=this.left&&i.right<=this.right&&i.top>=this.top&&i.bottom<=this.bottom}v(!1,"Point or Rect expected.")},t.prototype.inflate=function(e,i){return new t(this.left-e,this.top-i,this.width+2*e,this.height+2*i)},t}(),t.Rect=ot,rt=function(){function e(){}return e.addDays=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},e.addMonths=function(t,e){return new Date(t.getFullYear(),t.getMonth()+e,t.getDate())},e.addYears=function(t,e){return new Date(t.getFullYear()+e,t.getMonth(),t.getDate())},e.addHours=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+e)},e.addMinutes=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()+e)},e.addSeconds=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()+e)},e.sameDate=function(t,e){return u(t)&&u(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},e.sameTime=function(t,e){return u(t)&&u(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()},e.equals=function(t,e){return u(t)&&u(e)&&t.getTime()==e.getTime()},e.fromDateTime=function(t,e){return t||e?(t||(t=e),e||(e=t),new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())):null},e.toFiscal=function(i,n){var o=t.culture.Globalize.calendar;return p(o.fiscalYearOffsets)?e.addMonths(i,-o.fiscalYearOffsets[n?0:1]):i},e.fromFiscal=function(i,n){var o=t.culture.Globalize.calendar;return p(o.fiscalYearOffsets)?e.addMonths(i,+o.fiscalYearOffsets[n?0:1]):i},e.newDate=function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.clone=function(t){return e.fromDateTime(t,t)},e}(),t.DateTime=rt,t.httpRequest=Z}(wijmo||(wijmo={})),function(t){"use strict";t.culture={Globalize:{numberFormat:{".":".",",":",",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}};var e=function(){function e(){}return e.format=function(i,n,o,r){return t.isString(i)?i:t.isNumber(i)?(n=n||(i==Math.round(i)?"n0":"n2"),e.formatNumber(i,n,o,r)):t.isDate(i)?(n=n||"d",e.formatDate(i,n)):null!=i?i.toString():""},e.formatNumber=function(e,i,n,o){var r,s,a;t.asNumber(e),t.asString(i);var l,c=i?i.match(/([a-z])(\d*)(,*)(.*)/i):null,h=t.culture.Globalize.numberFormat,u=c?c[1].toLowerCase():"n",p=c&&c[2]?parseInt(c[2]):"c"==u?h.currency.decimals:e==Math.round(e)?0:2,d=c&&c[3]?3*c[3].length:0,f=c&&c[4]?c[4]:h.currency.symbol,g=h["."],m=h[","];if(d&&(e/=Math.pow(10,d)),"d"==u||"x"==u){for(l=Math.round(Math.abs(e)).toString("d"==u?10:16);l.length<p;)l="0"+l;return 0>e&&(l="-"+l),i&&"X"==i[0]&&(l=l.toUpperCase()),l}return"p"==u&&(e=t.toFixed(100*e,p,o)),o&&(e=t.toFixed(e,p,!0)),l="c"==u||"p"==u?Math.abs(e).toFixed(p):e.toFixed(p),(n||"g"==u)&&l.indexOf(".")>-1&&(l=l.replace(/(\.[0-9]*?)0+$/g,"$1"),l=l.replace(/\.$/,"")),"."!=g&&(l=l.replace(".",g)),m&&("n"==u||"c"==u||"p"==u)&&(r=l.indexOf(g),s=/\B(?=(\d\d\d)+(?!\d))/g,l=r>-1?l.substr(0,r).replace(s,m)+l.substr(r):l.replace(s,m)),"c"==u&&(a=h.currency.pattern[0>e?0:1],l=a.replace("n",l).replace("$",f)),"p"==u&&(a=h.percent.pattern[0>e?0:1],l=a.replace("n",l)),l},e.formatDate=function(i,n){var o,r,s;switch(i=t.asDate(i),n){case"r":case"R":return i.toUTCString();case"u":return i.toISOString().replace(/\.\d{3}/,"")}for(n=e._expandFormat(n),o=e._parseDateFormat(n),r="",s=0;s<o.length;s++)r+=e._formatDatePart(i,n,o[s]);return r},e.parseInt=function(t,i){return Math.round(e.parseFloat(t,i))},e.parseFloat=function(e,i){var n=e.indexOf("-")>-1||e.indexOf("(")>-1&&e.indexOf(")")>-1?-1:1,o=e.indexOf("%")>-1?.01:1,r=i?i.match(/,+/):null,s=r?3*r[0].length:0;if(i&&("x"==i[0]||"X"==i[0]))return e=e.replace(/[^0-9a-f]+.*$/gi,""),parseInt(e,16)*n*o*Math.pow(10,s);var a=t.culture.Globalize.numberFormat["."],l=new RegExp("[^\\d\\"+a+"]","g"),c=e.replace(l,"").replace(a,".");return parseFloat(c)*n*o*Math.pow(10,s)},e.parseDate=function(i,n){var o,r,s,a,l,c;if(i=t.asString(i),!i)return null;if("u"==n)return new Date(i);if("R"==n||"r"==n)return o=/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/,r=i.match(o),r[1]||r[5]?(s=r[1]?new Date(parseInt(r[2]),parseInt(r[3])-1,parseInt(r[4])):new Date,r[5]&&(s.setHours(parseInt(r[6])),s.setMinutes(parseInt(r[7])),s.setSeconds(r[8]?parseInt(r[9]):0))):s=new Date(i),isNaN(s.getTime())?null:s;n=e._expandFormat(n?n:"d");var h,u,p,d,f,g=t.culture.Globalize.calendar,m=e._CJK,_=new RegExp("(\\"+g["/"]+")|(\\"+g[":"]+")|(\\d+)|(["+m+"\\.]{2,})|(["+m+"]+)","gi"),y=i.match(_),w=e._parseDateFormat(n),b=0,v=-1,C=0,P=1,x=0,j=0,E=0,S=0,T=-1;if(!(y&&y.length&&w&&w.length))return null;for(a=0;a<w.length&&y;a++){var D=a-b,M=D>-1&&D<y.length?y[D]:"",A=w[a].length;switch(w[a]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":f=w[a];case"yyyy":case"yyy":case"yy":case"y":A>1&&M.length>A&&(y[D]=M.substr(A),M=M.substr(0,A),b++),v=parseInt(M);break;case"MMMM":case"MMM":for(d=!0,l=M.toLowerCase(),C=-1,c=0;12>c;c++)if(0==g.months[c].toLowerCase().indexOf(l)){C=c;break}if(C>-1)break;case"MM":case"M":d=!0,A>1&&M.length>A&&(y[D]=M.substr(A),M=M.substr(0,A),b++),C=parseInt(M)-1;break;case"dddd":case"ddd":h=!0;break;case"dd":case"d":A>1&&M.length>A&&(y[D]=M.substr(A),M=M.substr(0,A),b++),P=parseInt(M),u=!0;break;case"hh":case"h":A>1&&M.length>A&&(y[D]=M.substr(A),M=M.substr(0,A),b++),x=parseInt(M),x=12==x?0:x;break;case"HH":A>1&&M.length>A&&(y[D]=M.substr(A),M=M.substr(0,A),b++),x=parseInt(M);break;case"H":x=parseInt(M);break;case"mm":case"m":A>1&&M.length>A&&(y[D]=M.substr(A),M=M.substr(0,A),b++),j=parseInt(M);break;case"ss":case"s":A>1&&M.length>A&&(y[D]=M.substr(A),M=M.substr(0,A),b++),E=parseInt(M);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":S=parseInt(M)/Math.pow(10,A-3);break;case"tt":case"t":M=M.toUpperCase(),(g.pm[0]&&M==g.pm[0]&&12>x||g.pm[1]&&M==g.pm[1]&&12>x)&&(x+=12);break;case"q":case"Q":case"u":case"U":p=!0;break;case"ggg":case"gg":case"g":T=g.eras.length>1?e._getEra(M,g):-1;break;case g["/"]:case g[":"]:if(M&&M!=w[a])return null;break;case"K":break;default:e._unquote(w[a])!=M&&b++}}if(d&&u&&(isNaN(x)&&(x=0),isNaN(j)&&(j=0),isNaN(E)&&(E=0)),0>C||C>11||isNaN(C)||0>P||P>31||isNaN(P)||0>x||x>24||isNaN(x)||0>j||j>60||isNaN(j)||0>E||E>60||isNaN(E))return null;if(f){if(!d)return null;s=new Date(v,C),s=t.DateTime.fromFiscal(s,"E"==f[0]),v=s.getFullYear(),C=s.getMonth()}return h&&!u?null:p&&!d?null:(0>v&&(v=(new Date).getFullYear()),T>-1?v=v+g.eras[T].start.getFullYear()-1:100>v&&(v+=v>=30?1900:2e3),s=new Date(v,C,P,x,j+0,E,S),isNaN(s.getTime())?null:s)},e.getFirstDayOfWeek=function(){var e=t.culture.Globalize.calendar.firstDay;return e?e:0},e.getNumberDecimalSeparator=function(){var e=t.culture.Globalize.numberFormat["."];return e?e:"."},e._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},e._parseDateFormat=function(t){var i,n,o,r,s;if(t in e._dateFomatParts)return e._dateFomatParts[t];for(i=[],n="",o=0;o>-1&&o<t.length;o++)if(s=t[o],("'"==s||'"'==s)&&(r=t.indexOf(s,o+1),r>-1))i.push(t.substring(o,r+1)),o=r;else{for(r=o+1;r<t.length&&t[r]==s;r++);i.push(t.substring(o,r)),o=r-1}return e._dateFomatParts[t]=i,i},e._formatDatePart=function(i,n,o){var r,s,a=t.culture.Globalize.calendar,l=0,c=0,h=0,u=o.length;switch(o){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":return r="E"==o[0]?t.DateTime.toFiscal(i,!0):"e"==o[0]?t.DateTime.toFiscal(i,!1):i,c=r.getFullYear(),a.eras.length>1&&n.indexOf("g")>-1&&(l=e._getEra(i,a),l>-1&&(c=c-a.eras[l].start.getFullYear()+1)),e._zeroPad(c,4).substr(4-o.length);case"MMMM":return a.months[i.getMonth()];case"MMM":return a.monthsAbbr[i.getMonth()];case"MM":case"M":return e._zeroPad(i.getMonth()+1,u);case"dddd":return a.days[i.getDay()];case"ddd":return a.daysAbbr[i.getDay()];case"dd":return e._zeroPad(i.getDate(),2);case"d":return i.getDate().toString();case"hh":case"h":return e._zeroPad(e._h12(i),u);case"HH":case"H":return e._zeroPad(i.getHours(),u);case"mm":case"m":return e._zeroPad(i.getMinutes(),u);case"ss":case"s":return e._zeroPad(i.getSeconds(),u);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return h=i.getMilliseconds()*Math.pow(10,u-3),"f"==o[0]?e._zeroPad(h,u):h.toFixed(0);case"tt":return i.getHours()<12?a.am[0]:a.pm[0];case"t":return i.getHours()<12?a.am[1]:a.pm[1];case"q":case"Q":return(Math.floor(i.getMonth()/3)+1).toString();case"u":case"U":return r=t.DateTime.toFiscal(i,"U"==o),(Math.floor(r.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":return a.eras.length>1&&(l=e._getEra(i,a),l>-1)?"ggg"==o?a.eras[l].name:"gg"==o?a.eras[l].name[0]:a.eras[l].symbol:a.eras[0];case":":case"/":return a[o];case"K":return s=i.toString().match(/(\+|\-)(\d{2})(\d{2})/),s?s[1]+s[2]+s[3]:""}return u>1&&o[0]==o[u-1]&&('"'==o[0]||"'"==o[0])?o.substr(1,u-2):o},e._getEra=function(e,i){var n;if(t.isDate(e)){for(n=0;n<i.eras.length;n++)if(e>=i.eras[n].start)return n}else if(t.isString(e))for(n=0;n<i.eras.length;n++)if(i.eras[n].name&&(0==i.eras[n].name.indexOf(e)||0==i.eras[n].symbol.indexOf(e)))return n;return-1},e._expandFormat=function(e){var i=t.culture.Globalize.calendar.patterns[e];return i?i:e},e._zeroPad=function(t,e){var i=t.toFixed(0),n=e-i.length+1;return n>0?Array(n).join("0")+i:i},e._h12=function(e){var i=t.culture.Globalize.calendar,n=e.getHours();return i.am&&i.am[0]&&(n%=12,0==n&&(n=12)),n},e._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),e._dateFomatParts={},e}();t.Globalize=e}(wijmo||(wijmo={})),function(t){"use strict";var e=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){var e,i,n;for(this._path=t,this._parts=t?t.split("."):[],e=0;e<this._parts.length;e++)i=this._parts[e],n=i.indexOf("["),n>-1&&(this._parts[e]=i.substr(0,n),this._parts.splice(++e,0,parseInt(i.substr(n+1))));this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),t.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},t.prototype.setValue=function(t,e){if(t){if(this._path in t)return void(t[this._path]=e);for(var i=0;i<this._parts.length-1;i++)if(t=t[this._parts[i]],null==t)return;t[this._parts[this._parts.length-1]]=e}},t}();t.Binding=e}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){"use strict";var e,i,n,o,r=function(){function t(t,e){this.handler=t,this.self=e}return t}(),s=function(){function i(){this._handlers=[]}return i.prototype.addHandler=function(e,i){t.asFunction(e),this._handlers.push(new r(e,i))},i.prototype.removeHandler=function(e,i){var n,o;for(t.asFunction(e),n=0;n<this._handlers.length&&(o=this._handlers[n],o.handler!=e&&null!=e||o.self!=i&&null!=i||(this._handlers.splice(n,1),!e||!i));n++);},i.prototype.removeAllHandlers=function(){this._handlers.length=0},i.prototype.raise=function(t,i){var n,o;for(void 0===i&&(i=e.empty),n=0;n<this._handlers.length;n++)o=this._handlers[n],o.handler.call(o.self,t,i)},Object.defineProperty(i.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),i}();t.Event=s,e=function(){function t(){}return t.empty=new t,t}(),t.EventArgs=e,i=function(t){function e(){t.apply(this,arguments),this.cancel=!1}return __extends(e,t),e}(e),t.CancelEventArgs=i,n=function(t){function e(e,i,n){t.call(this),this._name=e,this._oldVal=i,this._newVal=n}return __extends(e,t),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),e}(e),t.PropertyChangedEventArgs=n,o=function(t){function e(e){t.call(this),this._xhr=e}return __extends(e,t),Object.defineProperty(e.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),e}(i),t.RequestErrorEventArgs=o}(wijmo||(wijmo={})),function(t){"use strict";var e=function(){function e(i,n,o){var r,s,a,l=this;if(void 0===n&&(n=null),void 0===o&&(o=!1),this._focus=!1,this._updating=0,this._fullUpdate=!1,this.gotFocus=new t.Event,this.lostFocus=new t.Event,t.assert(null==e.getControl(i),"Element is already hosting a control."),r=t.getElement(i),t.assert(null!=r,"Cannot find the host element."),this._orgOuter=r.outerHTML,this._orgInner=r.innerHTML,this._orgTag=r.tagName,("INPUT"==r.tagName||"SELECT"==r.tagName)&&(r=this._replaceWithDiv(r)),this._e=r,r[e._DATA_KEY]=this,1==o&&(this._szCtl=new t.Size(r.offsetWidth,r.offsetHeight),s=this._handleResize.bind(this),this.addEventListener(window,"resize",s)),this.addEventListener(r,"focus",function(){setTimeout(function(){l._updateFocusState()})},!0),this.addEventListener(r,"blur",function(){setTimeout(function(){l._updateFocusState()},20)},!0),a=this._handleDisabled.bind(this),this.addEventListener(r,"mousedown",a,!0),this.addEventListener(r,"mouseup",a,!0),this.addEventListener(r,"click",a,!0),this.addEventListener(r,"dblclick",a,!0),this.addEventListener(r,"keydown",a,!0),this.addEventListener(r,"wheel",a,!0),null==e._touching&&(e._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){var c=document.body,h=this._handleTouchStart,u=this._handleTouchEnd;"ontouchstart"in window?(c.addEventListener("touchstart",h),c.addEventListener("touchend",u),c.addEventListener("touchcancel",u),c.addEventListener("touchleave",u)):"onpointerdown"in window&&(c.addEventListener("pointerdown",h),c.addEventListener("pointerup",u),c.addEventListener("pointerout",u),c.addEventListener("pointercancel",u),c.addEventListener("pointerleave",u))}}return e.prototype.getTemplate=function(){for(var t,e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e))if(t=e.constructor.controlTemplate)return t;return null},e.prototype.applyTemplate=function(e,i,n,o){var r,s,a,l,c,h,u,p,d=this._e;e&&t.addClass(d,e),r=null,i&&(r=t.createElement(i,d));var f=d.querySelectorAll("input"),g=1==f.length?f[0]:null,m=d.attributes;if(g&&m)for(s=0;s<m.length;s++)m[s].name.match(/name|autofocus|autocomplete|minlength|maxlength|pattern/i)&&g.setAttribute(m[s].name,m[s].value);if(g&&d.id){var _=document.querySelector('label[for="'+d.id+'"]'),y=d.id+"_input",w=y;if(_ instanceof HTMLLabelElement){for(s=0;null!=document.getElementById(w);s++)w=y+s;g.id=w,_.htmlFor=w}}if(g&&(a=document.createEvent("HTMLEvents"),l=g.value,a.initEvent("change",!0,!1),this.addEventListener(g,"input",function(){l=g.value},!0),this.gotFocus.addHandler(function(){l=g.value}),this.lostFocus.addHandler(function(){l!=g.value&&g.dispatchEvent(a)})),d.getAttribute("tabindex")||(d.tabIndex=null!=g?-1:0),this._updateState(),n)for(c in n){if(h=n[c],this[c]=r.querySelector('[wj-part="'+h+'"]'),null==this[c]&&r.getAttribute("wj-part")==h&&(this[c]=r),null==this[c])throw'Missing template part: "'+h+'"';h==o&&(u="name",p=d.attributes[u],p&&p.value&&this[c].setAttribute(u,p.value),u="accesskey",p=d.attributes[u],p&&p.value&&(this[c].setAttribute(u,p.value),d.removeAttribute(u)))}return r},e.prototype.dispose=function(){for(var i,n,o,r,s=this._e.querySelectorAll(".wj-control"),a=0;a<s.length;a++)i=e.getControl(s[a]),i&&i.dispose();this._toInv&&clearTimeout(this._toInv),this.removeEventListener();for(o in this)o.length>2&&0==o.indexOf("on")&&(r=this[o[2].toLowerCase()+o.substr(3)],r instanceof t.Event&&r.removeAllHandlers());if(n=this.collectionView,n instanceof t.collections.CollectionView)for(o in n)r=n[o],r instanceof t.Event&&r.removeHandler(null,this);this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[e._DATA_KEY]=null,this._e=this._orgOuter=this._orgInner=this._orgTag=null},e.getControl=function(i){var n=t.getElement(i);return n?t.asType(n[e._DATA_KEY],e,!0):null},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._e.focus()},e.prototype.containsFocus=function(){var i,n,o,r,s;if(!this._e)return!1;for(i=this._e.querySelectorAll(".wj-control"),n=0;n<i.length;n++)if(o=e.getControl(i[n]),o&&o!=this&&o.containsFocus())return!0;return r=t.getActiveElement(),s=e.getControl(t.closest(r,".wj-control.wj-popup")),s&&s.owner&&t.contains(this._e,s.owner)?!0:t.contains(this._e,r)},e.prototype.invalidate=function(t){var i=this;void 0===t&&(t=!0),this._fullUpdate=this._fullUpdate||t,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate)},e._REFRESH_INTERVAL))},e.prototype.refresh=function(t){void 0===t&&(t=!0),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1)},e.invalidateAll=function(t){var i,n;if(t||(t=document.body),t.children)for(i=0;i<t.children.length;i++)e.invalidateAll(t.children[i]);n=e.getControl(t),n&&n.invalidate()},e.refreshAll=function(t){var i,n;if(t||(t=document.body),t.children)for(i=0;i<t.children.length;i++)e.refreshAll(t.children[i]);n=e.getControl(t),n&&n.refresh()},e.disposeAll=function(t){var i,n=e.getControl(t);if(n)n.dispose();else if(t.children)for(i=0;i<t.children.length;i++)e.disposeAll(t.children[i])},e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(e.prototype,"isTouching",{get:function(){return e._touching},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){e=t.asBoolean(e,!0),e!=this.isDisabled&&t.enable(this._e,!e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return t._deprecated("disabled","isDisabled"),this.isDisabled},set:function(e){t._deprecated("disabled","isDisabled"),this.isDisabled=e},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){e&&(this.beginUpdate(),t.copy(this,e),this.endUpdate())},e.prototype.addEventListener=function(t,e,i,n){void 0===n&&(n=!1),t&&(t.addEventListener(e,i,n),null==this._listeners&&(this._listeners=[]),this._listeners.push({target:t,type:e,fn:i,capture:n}))},e.prototype.removeEventListener=function(t,e,i){var n,o,r=0;if(this._listeners)for(n=0;n<this._listeners.length;n++)o=this._listeners[n],(null==t||t==o.target)&&(null==e||e==o.type)&&(null==i||i==o.capture)&&(o.target.removeEventListener(o.type,o.fn,o.capture),this._listeners.splice(n,1),n--,r++);return r},e.prototype.onGotFocus=function(t){this.gotFocus.raise(this,t)},e.prototype.onLostFocus=function(t){this.lostFocus.raise(this,t)},e.prototype._handleResize=function(){if(this._e.parentElement){var e=new t.Size(this._e.offsetWidth,this._e.offsetHeight);e.equals(this._szCtl)||(this._szCtl=e,this.invalidate())}},e.prototype._updateFocusState=function(){var t=this;setTimeout(function(){for(var i,n,o=t._e;o;o=o.parentElement)i=e.getControl(o),i&&(n=i.containsFocus(),n!=i._focus&&(i._focus=n,n?i.onGotFocus():i.onLostFocus(),i._updateState()))})},e.prototype._updateState=function(){var e=this.hostElement,i=this.hostElement.querySelector("input");t.toggleClass(e,"wj-state-focused",this.containsFocus()),i instanceof HTMLInputElement&&(t.toggleClass(e,"wj-state-empty",0==i.value.length),t.toggleClass(e,"wj-state-invalid",i.validationMessage.length>0))},e.prototype._handleTouchStart=function(t){(null==t.pointerType||"touch"==t.pointerType)&&(e._touching=!0)},e.prototype._handleTouchEnd=function(t){(null==t.pointerType||"touch"==t.pointerType)&&setTimeout(function(){e._touching=!1},400)},e.prototype._handleDisabled=function(t){this.isDisabled&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},e.prototype._replaceWithDiv=function(t){var e,i,n,o=document.createElement("div");for(t.parentElement.replaceChild(o,t),o.innerHTML=t.innerHTML,e=t.attributes,i=0;i<e.length;i++)n=e[i].name,e[i].name.match(/id|style|class/i)&&o.setAttribute(n,e[i].value);
return o},e._DATA_KEY="wj-Control",e._REFRESH_INTERVAL=10,e}();t.Control=e}(wijmo||(wijmo={})),function(t){"use strict";function e(e,n,o){var r,s,a,l=0,c=0,h=0,u=0,p=null,d=null,f=o?new t.Binding(o):null;for(e=t.asEnum(e,i),r=0;r<n.length;r++)s=n[r],f&&(s=f.getValue(s)),null!=s&&(l++,(null==p||p>s)&&(p=s),(null==d||s>d)&&(d=s),t.isNumber(s)&&!isNaN(s)?(c++,h+=s,u+=s*s):t.isBoolean(s)&&(c++,1==s&&(h++,u++)));switch(a=0==c?0:h/c,e){case i.Avg:return a;case i.Cnt:return l;case i.Max:return d;case i.Min:return p;case i.Rng:return d-p;case i.Sum:return h;case i.VarPop:return 1>=c?0:u/c-a*a;case i.StdPop:return 1>=c?0:Math.sqrt(u/c-a*a);case i.Var:return 1>=c?0:(u/c-a*a)*c/(c-1);case i.Std:return 1>=c?0:Math.sqrt((u/c-a*a)*c/(c-1))}throw"Invalid aggregate type."}!function(t){t[t.None=0]="None",t[t.Sum=1]="Sum",t[t.Cnt=2]="Cnt",t[t.Avg=3]="Avg",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Rng=6]="Rng",t[t.Std=7]="Std",t[t.Var=8]="Var",t[t.StdPop=9]="StdPop",t[t.VarPop=10]="VarPop"}(t.Aggregate||(t.Aggregate={}));var i=t.Aggregate;t.getAggregate=e}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i,n,o,r,s,a;!function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove",t[t.Change=2]="Change",t[t.Reset=3]="Reset"}(e.NotifyCollectionChangedAction||(e.NotifyCollectionChangedAction={})),i=e.NotifyCollectionChangedAction,n=function(t){function e(e,n,o){void 0===e&&(e=i.Reset),void 0===n&&(n=null),void 0===o&&(o=-1),t.call(this),this.action=e,this.item=n,this.index=o}return __extends(e,t),e.reset=new e(i.Reset),e}(t.EventArgs),e.NotifyCollectionChangedEventArgs=n,o=function(){function e(e,i){this._bnd=new t.Binding(e),this._asc=i}return Object.defineProperty(e.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),e}(),e.SortDescription=o,r=function(t){function e(e){t.call(this),this.newPageIndex=e}return __extends(e,t),e}(t.CancelEventArgs),e.PageChangingEventArgs=r,s=function(){function t(){}return t.prototype.groupNameFromItem=function(){return""},t.prototype.namesMatch=function(t,e){return t===e},t}(),e.GroupDescription=s,a=function(e){function i(i,n){e.call(this),this._bnd=new t.Binding(i),this._converter=n}return __extends(i,e),Object.defineProperty(i.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),i.prototype.groupNameFromItem=function(t){return this._converter?this._converter(t,this.propertyName):this._bnd.getValue(t)},i.prototype.namesMatch=function(t,e){return t===e},i}(s),e.PropertyGroupDescription=a}(e=t.collections||(t.collections={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i,n=function(){function t(){this.length=0,Array.apply(this,arguments)}return t.prototype.pop=function(){return null},t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[+e]=arguments[e];return 0},t.prototype.splice=function(){return null},t.prototype.slice=function(){return null},t.prototype.indexOf=function(){return-1},t.prototype.sort=function(){return null},t}();e.ArrayBase=n,n.prototype=Array.prototype,i=function(i){function n(e){if(i.call(this),this._updating=0,this.collectionChanged=new t.Event,e){e=t.asArray(e),this._updating++;for(var n=0;n<e.length;n++)this.push(e[n]);this._updating--}}return __extends(n,i),n.prototype.push=function(){for(var t,n,o=[],r=0;r<arguments.length;r++)o[+r]=arguments[r];for(t=this.length,n=0;o&&n<o.length;n++)t=i.prototype.push.call(this,o[n]),this._updating||this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Add,o[n],t-1);return t},n.prototype.pop=function(){var t=i.prototype.pop.call(this);return this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Remove,t,this.length),t},n.prototype.splice=function(t,n,o){var r;return n&&o?(r=i.prototype.splice.call(this,t,n,o),1==n?this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Change,o,t):this._raiseCollectionChanged(),r):o?(r=i.prototype.splice.call(this,t,0,o),this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Add,o,t),r):(r=i.prototype.splice.call(this,t,n),1==n?this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Remove,r[0],t):this._raiseCollectionChanged(),r)},n.prototype.slice=function(t,e){return i.prototype.slice.call(this,t,e)},n.prototype.indexOf=function(t,e){return i.prototype.indexOf.call(this,t,e)},n.prototype.sort=function(t){var e=i.prototype.sort.call(this,t);return this._raiseCollectionChanged(),e},n.prototype.insert=function(t,e){this.splice(t,0,e)},n.prototype.remove=function(t){var e=this.indexOf(t);return e>-1?(this.removeAt(e),!0):!1},n.prototype.removeAt=function(t){this.splice(t,1)},n.prototype.setAt=function(t,e){t>this.length&&(this.length=t),this.splice(t,1,e)},n.prototype.clear=function(){0!==this.length&&(this.splice(0,this.length),this._raiseCollectionChanged())},n.prototype.beginUpdate=function(){this._updating++},n.prototype.endUpdate=function(){this._updating>0&&(this._updating--,0==this._updating&&this._raiseCollectionChanged())},Object.defineProperty(n.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),n.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},n.prototype.implementsInterface=function(t){return"INotifyCollectionChanged"==t},n.prototype.onCollectionChanged=function(t){void 0===t&&(t=e.NotifyCollectionChangedEventArgs.reset),this.isUpdating||this.collectionChanged.raise(this,t)},n.prototype._raiseCollectionChanged=function(t,i,n){if(void 0===t&&(t=e.NotifyCollectionChangedAction.Reset),!this.isUpdating){var o=new e.NotifyCollectionChangedEventArgs(t,i,n);this.onCollectionChanged(o)}},n}(n),e.ObservableArray=i}(e=t.collections||(t.collections={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i,n=function(){function n(i,n){var o=this;this._idx=-1,this._srtDsc=new e.ObservableArray,this._grpDesc=new e.ObservableArray,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._trackChanges=!1,this._chgAdded=new e.ObservableArray,this._chgRemoved=new e.ObservableArray,this._chgEdited=new e.ObservableArray,this.collectionChanged=new t.Event,this.sourceCollectionChanging=new t.Event,this.sourceCollectionChanged=new t.Event,this.currentChanged=new t.Event,this.currentChanging=new t.Event,this.pageChanged=new t.Event,this.pageChanging=new t.Event,this._srtDsc.collectionChanged.addHandler(function(){for(var i=o._srtDsc,n=0;n<i.length;n++)t.assert(i[n]instanceof e.SortDescription,"sortDescriptions array must contain SortDescription objects.");o.canSort&&o.refresh()}),this._grpDesc.collectionChanged.addHandler(function(){for(var i=o._grpDesc,n=0;n<i.length;n++)t.assert(i[n]instanceof e.GroupDescription,"groupDescriptions array must contain GroupDescription objects.");o.canGroup&&o.refresh()}),this.sourceCollection=i?i:new e.ObservableArray,n&&(this.beginUpdate(),t.copy(this,n),this.endUpdate())}return n.prototype._copy=function(i,n){var o,r,s;if("sortDescriptions"==i){for(this.sortDescriptions.clear(),o=t.asArray(n),r=0;r<o.length;r++)s=o[r],t.isString(s)&&(s=new e.SortDescription(s,!0)),this.sortDescriptions.push(s);return!0}if("groupDescriptions"==i){for(this.groupDescriptions.clear(),o=t.asArray(n),r=0;r<o.length;r++)s=o[r],t.isString(s)&&(s=new e.PropertyGroupDescription(s)),this.groupDescriptions.push(s);return!0}return!1},Object.defineProperty(n.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(e){this._itemCreator=t.asFunction(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(e){e!=this._srtCvt&&(this._srtCvt=t.asFunction(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(e){e!=this._srtCmp&&(this._srtCmp=t.asFunction(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(e){this._stableSort=t.asBoolean(e)},enumerable:!0,configurable:!0}),n.prototype.getAggregate=function(e,i){return t.getAggregate(e,this.items,i)},n.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(n.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(e){this._trackChanges=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),n.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()},n.prototype.onCollectionChanged=function(t){void 0===t&&(t=e.NotifyCollectionChangedEventArgs.reset),this._committing||t.action!=e.NotifyCollectionChangedAction.Change||t.item==this.currentEditItem||this._trackItemChanged(t.item),this.collectionChanged.raise(this,t)},n.prototype._raiseCollectionChanged=function(t,i,n){void 0===t&&(t=e.NotifyCollectionChangedAction.Reset);var o=new e.NotifyCollectionChangedEventArgs(t,i,n);this.onCollectionChanged(o)},n.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},n.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(n.prototype,"canFilter",{get:function(){return this._canFilter},set:function(e){this._canFilter=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canGroup",{get:function(){return this._canGroup},set:function(e){this._canGroup=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSort",{get:function(){return this._canSort},set:function(e){this._canSort=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPosition",{get:function(){return this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},set:function(e){this._filter!=e&&(this._filter=t.asFunction(e),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return 0==this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sourceCollection",{get:function(){return this._src},set:function(e){if(e!=this._src){if(!this.onSourceCollectionChanging(new t.CancelEventArgs))return;var i=this.currentPosition;this.commitEdit(),this.commitNew(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._src=t.asArray(e,!1),this._ncc=t.tryCast(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&i>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),n.prototype._sourceChanged=function(){this._updating<=0&&this.refresh()},n.prototype.contains=function(t){return this._pgView.indexOf(t)>-1},n.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},n.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},n.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},n.prototype.moveCurrentToPrevious=function(){return this._idx>0?this.moveCurrentToPosition(this._idx-1):!1},n.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},n.prototype.moveCurrentToPosition=function(e){if(e>=-1&&e<this._pgView.length){var i=new t.CancelEventArgs;this._idx!=e&&this.onCurrentChanging(i)&&(this._edtItem&&this._pgView[e]!=this._edtItem&&this.commitEdit(),this._newItem&&this._pgView[e]!=this._newItem&&this.commitNew(),this._idx=e,this.onCurrentChanged())}return this._idx==e},n.prototype.refresh=function(){this._updating>0||this._newItem||this._edtItem||(this._performRefresh(),this.onCollectionChanged())},n.prototype._performRefresh=function(){var e,i=this.currentItem;this._view=this._src?this._filter&&this.canFilter?this._performFilter(this._src):this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src:[],this.canSort&&this._srtDsc.length>0&&this._performSort(this._view),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=t.clamp(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups)),e=this._pgView.indexOf(i),0>e&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups),this.currentItem!==i&&this.onCurrentChanged()},n.prototype._performSort=function(t){var e,i,n;if(this._stableSort)for(e=t.map(function(t,e){return{item:t,index:e}}),i=this._compareItems(),e.sort(function(t,e){var n=i(t.item,e.item);return 0==n?t.index-e.index:n}),n=0;n<t.length;n++)t[n]=e[n].item;else t.sort(this._compareItems())},n.prototype._compareItems=function(){var t=this._srtDsc,e=this._srtCvt,i=this._srtCmp,n=!0,o=0;return function(r,s){for(var a,l,c=0;c<t.length;c++){var h=t[c],u=h._bnd.getValue(r),p=h._bnd.getValue(s);if(e&&(u=e(h,r,u,n),p=e(h,s,p,!1),n=!1),i&&(o=i(u,p),null!=o))return h.ascending?+o:-o;if(u!==u&&(u=null),p!==p&&(p=null),"string"==typeof u&&"string"==typeof p&&(a=u.toLowerCase(),l=p.toLowerCase(),a!=l&&(u=a,p=l)),null!=u&&null==p)return-1;if(null==u&&null!=p)return 1;if(o=p>u?-1:u>p?1:0,0!=o)return h.ascending?+o:-o}return 0}},n.prototype._performFilter=function(t){return this.canFilter&&this._filter?t.filter(this._filter,this):t},n.prototype.onCurrentChanged=function(e){void 0===e&&(e=t.EventArgs.empty),this.currentChanged.raise(this,e)},n.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(n.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),n.prototype.beginUpdate=function(){this._updating++},n.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.refresh()},Object.defineProperty(n.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),n.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},Object.defineProperty(n.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(e){this._canAddNew=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(e){this._canCancelEdit=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canRemove",{get:function(){return this._canRemove},set:function(e){this._canRemove=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),n.prototype.addNew=function(){var i,n,o;if(arguments.length>0&&t.assert(!1,"addNew does not take any parameters, it creates the new items."),this.commitEdit(),this.commitNew(),!this.canAddNew)return t.assert(!1,"cannot add items (canAddNew == false)."),null;if(i=null,n=this.sourceCollection,i=this.newItemCreator?this.newItemCreator():n&&n.length?new n[0].constructor:{},null!=i){if(this._newItem=i,this._updating++,this._src.push(i),this._updating--,this._pgView!=this._src&&this._pgView.push(i),this.groups&&this.groups.length)for(o=this.groups[this.groups.length-1],o.items.push(i);o.groups&&o.groups.length;)o=o.groups[o.groups.length-1],o.items.push(i);this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Add,i,this._pgView.length-1),this.moveCurrentTo(i)}return this._newItem},n.prototype.cancelEdit=function(){var i,n=this._edtItem;if(null!=n){if(this._edtItem=null,!this.canCancelEdit)return void t.assert(!1,"cannot cancel edits (canCancelEdit == false).");if(i=this._src.indexOf(n),0>i||!this._edtClone)return;this._extend(this._src[i],this._edtClone),this._edtClone=null,this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Change,n,i)}},n.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},n.prototype.commitEdit=function(){var t,i,n,o=this._edtItem;null!=o&&(this._committing=!0,t=this._sameContent(o,this._edtClone),this._edtItem=null,this._edtClone=null,i=this._pgView.indexOf(o),n=this._digest,this._performRefresh(),t||this._trackItemChanged(o),this._pgView.indexOf(o)==i&&n==this._digest?this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Change,o,i):this._raiseCollectionChanged(),this._committing=!1)},n.prototype.commitNew=function(){var t,i,n,o=this._newItem;null!=o&&(this._newItem=null,t=this._pgView.indexOf(o),i=this._digest,this._performRefresh(),1==this._trackChanges&&(n=this._chgEdited.indexOf(o),n>-1&&this._chgEdited.removeAt(n),this._chgAdded.indexOf(o)<0&&this._chgAdded.push(o)),this._pgView.indexOf(o)==t&&i==this._digest?this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Change,o,t):this._raiseCollectionChanged())},n.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone={},this._extend(this._edtClone,this._edtItem))},n.prototype.remove=function(i){var n,o,r,s,a,l,c,h,u=i==this._newItem;return u&&(this._newItem=null),i==this._edtItem&&this.cancelEdit(),this.canRemove?(n=this._src.indexOf(i),void(n>-1&&(o=this.currentItem,this._updating++,this._src.splice(n,1),this._updating--,r=this._digest,this._performRefresh(),1==this._trackChanges&&(s=this._chgAdded.indexOf(i),s>-1&&this._chgAdded.removeAt(s),a=this._chgEdited.indexOf(i),a>-1&&this._chgEdited.removeAt(a),l=this._chgRemoved.indexOf(i),0>l&&!u&&0>s&&this._chgRemoved.push(i)),c=this.sortDescriptions.length>0,h=this.pageSize>0&&this._pgIdx>-1,c||h||r!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(e.NotifyCollectionChangedAction.Remove,i,n),this.currentItem!==o&&this.onCurrentChanged()))):void t.assert(!1,"cannot remove items (canRemove == false).")},n.prototype.removeAt=function(e){e=t.asInt(e),this.remove(this._pgView[e])},n.prototype._trackItemChanged=function(t){var i,n;this._trackChanges&&(i=this._chgEdited.indexOf(t),0>i&&this._chgAdded.indexOf(t)<0?this._chgEdited.push(t):i>-1?(n=new e.NotifyCollectionChangedEventArgs(e.NotifyCollectionChangedAction.Change,t,i),this._chgEdited.onCollectionChanged(n)):(i=this._chgAdded.indexOf(t),i>-1&&(n=new e.NotifyCollectionChangedEventArgs(e.NotifyCollectionChangedAction.Change,t,i),this._chgAdded.onCollectionChanged(n))))},n.prototype._extend=function(t,e){for(var i in e)t[i]=e[i]},n.prototype._sameContent=function(t,e){for(var i in e)if(!this._sameValue(t[i],e[i]))return!1;for(i in t)if(!this._sameValue(t[i],e[i]))return!1;return!0},n.prototype._sameValue=function(e,i){return e==i||t.DateTime.equals(e,i)},Object.defineProperty(n.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(e){this._canChangePage=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSize",{get:function(){return this._pgSz},set:function(e){e!=this._pgSz&&(this._pgSz=t.asInt(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),n.prototype.moveToFirstPage=function(){return this.moveToPage(0)},n.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},n.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},n.prototype.moveToPage=function(i){var n,o=t.clamp(i,0,this.pageCount-1);return o!=this._pgIdx&&(this.canChangePage||t.assert(!1,"cannot change pages (canChangePage == false)."),n=new e.PageChangingEventArgs(o),this.onPageChanging(n)&&(this._pgIdx=o,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():(this.onPageChanged(),this.onCollectionChanged()))),this._pgIdx==i},n.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},n.prototype.onPageChanged=function(e){void 0===e&&(e=t.EventArgs.empty),this.pageChanged.raise(this,e)},n.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},n.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=e&&(t=e),t},n.prototype._getGroupByPath=function(t,e,i){for(var n,o=0;o<t.length;o++)if(n=t[o],n.level==e&&n._path==i||n.level<e&&0==i.indexOf(n._path)&&(n=this._getGroupByPath(n.groups,e,i),null!=n))return n;return null},n.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},n.prototype._createGroups=function(e){var i,n,o;if(!this._grpDesc||!this._grpDesc.length)return null;var r=[],s={},a=null;for(i=0;i<e.length;i++){var l=e[i],c=r,h=this._grpDesc.length,u="";for(n=0;h>n;n++){var p=this._grpDesc[n],d=p.groupNameFromItem(l,n),f=n==h-1;a=s[u],!a&&t.isPrimitive(d)&&(a={},s[u]=a),o=this._getGroup(p,c,a,d,n,f),u+="/"+d,o._path=u,f&&o.items.push(l),c=o.groups}}return r},n.prototype._getGroupsDigest=function(t){for(var e,i="",n=0;null!=t&&n<t.length;n++)e=t[n],i+="{"+e.name+":"+(e.items?e.items.length:"*"),e.groups.length>0&&(i+=",",i+=this._getGroupsDigest(e.groups)),i+="}";return i},n.prototype._mergeGroupItems=function(t){for(var e,i,n,o,r=[],s=0;s<t.length;s++){if(e=t[s],!e._isBottomLevel)for(i=this._mergeGroupItems(e.groups),n=0,o=i.length;o>n;n++)e._items.push(i[n]);for(n=0,o=e._items.length;o>n;n++)r.push(e._items[n])}return r},n.prototype._getGroup=function(e,n,o,r,s,a){var l,c,h;if(o&&t.isPrimitive(r)){if(l=o[r])return l}else for(c=0;c<n.length;c++)if(e.namesMatch(n[c].name,r))return n[c];return h=new i(e,r,s,a),n.push(h),o&&(o[r]=h),h},n}();e.CollectionView=n,i=function(){function e(t,e,i,n){this._gd=t,this._name=e,this._level=i,this._isBottomLevel=n,this._groups=[],this._items=[]}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),e.prototype.getAggregate=function(e,i,o){var r=t.tryCast(o,n),s=r?r._getFullGroup(this):this;return t.getAggregate(e,s.items,i)},e}(),e.CollectionViewGroup=i}(e=t.collections||(t.collections={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){"use strict";var e,i,n=function(){function e(e){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._html=!0,this._gap=6,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new t.Event,t.copy(this,e)}return e.prototype.setTooltip=function(e,i){e=t.getElement(e),i=this._getContent(i);var n=this._indexOf(e);n>-1&&(this._detach(e),this._tips.splice(n,1)),i&&(this._attach(e),this._tips.push({element:e,content:i}))},e.prototype.show=function(n,o,r){var s,a;n=t.getElement(n),o=this._getContent(o),r||(r=t.Rect.fromBoundingRect(n.getBoundingClientRect())),s=e._eTip,s||(s=e._eTip=document.createElement("div"),t.addClass(s,"wj-tooltip"),s.style.visibility="none",document.body.appendChild(s)),this._setContent(o),a=new i(o),this.onPopup(a),a.content&&!a.cancel&&(this._setContent(a.content),s.style.minWidth="",r=new t.Rect(r.left-(s.offsetWidth-r.width)/2,r.top-this.gap,s.offsetWidth,r.height+2*this.gap),t.showPopup(s,r,!0),document.addEventListener("mousedown",this._hideAutoTipBnd))},e.prototype.hide=function(){e._eTip&&(e._eTip.style.visibility="hidden",e._eTip.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},Object.defineProperty(e.prototype,"isVisible",{get:function(){return e._eTip&&"hidden"!=e._eTip.style.visibility},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){this._html=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(e){this._gap=t.asNumber(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(e){this._showAtMouse=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDelay",{get:function(){return this._showDelay},set:function(e){this._showDelay=t.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(e){this._hideDelay=t.asInt(e)},enumerable:!0,configurable:!0}),e.prototype.onPopup=function(t){this.popup&&this.popup.raise(this,t)},e.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},e.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd)},e.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd)},e.prototype._showAutoTip=function(e){var i=this,n="mouseenter"==e.type?this._showDelay:0;this._clearTimeouts(),this._toShow=setTimeout(function(){var n,o,r=i._indexOf(e.target);r>-1&&(n=i._tips[r],o=i._showAtMouse?new t.Rect(e.clientX,e.clientY,0,0):null,i.show(n.element,n.content,o),i._hideDelay>0&&(i._toHide=setTimeout(function(){i.hide()},i._hideDelay)))},n)},e.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},e.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},e.prototype._getContent=function(e){if(e=t.asString(e),e&&"#"==e[0]){var i=t.getElement(e);i&&(e=i.innerHTML)}return e},e.prototype._setContent=function(t){var i=e._eTip;i&&(this.isContentHtml?i.innerHTML=t:i.textContent=t)},e}();t.Tooltip=n,e=function(){function t(){}return t}(),i=function(e){function i(i){e.call(this),this._content=t.asString(i)}return __extends(i,e),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(e){this._content=t.asString(e)},enumerable:!0,configurable:!0}),i}(t.CancelEventArgs),t.TooltipEventArgs=i}(wijmo||(wijmo={})),function(t){"use strict";var e=function(){function e(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(e.prototype,"r",{get:function(){return this._r},set:function(e){this._r=t.clamp(t.asNumber(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._g},set:function(e){this._g=t.clamp(t.asNumber(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._b},set:function(e){this._b=t.clamp(t.asNumber(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this._a},set:function(e){this._a=t.clamp(t.asNumber(e),0,1)},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},e.prototype.toString=function(){var t=Math.round(100*this.a);return t>99?"#"+(16777216+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},e.fromRgba=function(i,n,o,r){void 0===r&&(r=1);var s=new e(null);return s.r=Math.round(t.clamp(t.asNumber(i),0,255)),s.g=Math.round(t.clamp(t.asNumber(n),0,255)),s.b=Math.round(t.clamp(t.asNumber(o),0,255)),s.a=t.clamp(t.asNumber(r),0,1),s},e.fromHsb=function(i,n,o,r){void 0===r&&(r=1);var s=e._hsbToRgb(t.clamp(t.asNumber(i),0,1),t.clamp(t.asNumber(n),0,1),t.clamp(t.asNumber(o),0,1));return e.fromRgba(s[0],s[1],s[2],r)},e.fromHsl=function(i,n,o,r){void 0===r&&(r=1);var s=e._hslToRgb(t.clamp(t.asNumber(i),0,1),t.clamp(t.asNumber(n),0,1),t.clamp(t.asNumber(o),0,1));return e.fromRgba(s[0],s[1],s[2],r)},e.fromString=function(i){var n=new e(null);return n._parse(t.asString(i))?n:null},e.prototype.getHsb=function(){return e._rgbToHsb(this.r,this.g,this.b)},e.prototype.getHsl=function(){return e._rgbToHsl(this.r,this.g,this.b)},e.interpolate=function(i,n,o){o=t.clamp(t.asNumber(o),0,1);var r=e._rgbToHsl(i.r,i.g,i.b),s=e._rgbToHsl(n.r,n.g,n.b),a=1-o,l=i.a*a+n.a*o,c=[r[0]*a+s[0]*o,r[1]*a+s[1]*o,r[2]*a+s[2]*o],h=e._hslToRgb(c[0],c[1],c[2]);return e.fromRgba(h[0],h[1],h[2],l)},e.toOpaque=function(i,n){if(i=t.isString(i)?e.fromString(i):t.asType(i,e),1==i.a)return i;n=null==n?e.fromRgba(255,255,255,1):t.isString(n)?e.fromString(n):t.asType(n,e);var o=i.a,r=1-o;return e.fromRgba(i.r*o+n.r*r,i.g*o+n.g*r,i.b*o+n.b*r);
},e.prototype._parse=function(t){var i,n,o,r,s,a;if(t=t.toLowerCase(),"transparent"==t)return this._r=this._g=this._b=this._a=0,!0;if(t&&0!=t.indexOf("#")&&0!=t.indexOf("rgb")&&0!=t.indexOf("hsl")&&(i=document.createElement("div"),i.style.color=t,n=i.style.color,n==t&&(n=window.getComputedStyle(i).color,n||(document.body.appendChild(i),n=window.getComputedStyle(i).color,document.body.removeChild(i))),t=n.toLowerCase()),0==t.indexOf("#"))return 4==t.length?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):7==t.length?(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0):!1;if(0==t.indexOf("rgb")&&(o=t.indexOf("("),r=t.indexOf(")"),o>-1&&r>-1&&(s=t.substr(o+1,r-(o+1)).split(","),s.length>2)))return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0;if(0==t.indexOf("hsl")&&(o=t.indexOf("("),r=t.indexOf(")"),o>-1&&r>-1&&(s=t.substr(o+1,r-(o+1)).split(","),s.length>2))){var l=parseInt(s[0])/360,c=parseInt(s[1]),h=parseInt(s[2]);return s[1].indexOf("%")>-1&&(c/=100),s[2].indexOf("%")>-1&&(h/=100),a=e._hslToRgb(l,c,h),this.r=a[0],this.g=a[1],this.b=a[2],this.a=s.length>3?parseFloat(s[3]):1,!0}return!1},e._hslToRgb=function(i,n,o){var r,s,a,l,c;return t.assert(i>=0&&1>=i&&n>=0&&1>=n&&o>=0&&1>=o,"bad HSL values"),0==n?r=s=a=o:(l=.5>o?o*(1+n):o+n-o*n,c=2*o-l,r=e._hue2rgb(c,l,i+1/3),s=e._hue2rgb(c,l,i),a=e._hue2rgb(c,l,i-1/3)),[Math.round(255*r),Math.round(255*s),Math.round(255*a)]},e._hue2rgb=function(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+(e-t)*(2/3-i)*6:t},e._rgbToHsl=function(e,i,n){var o;t.assert(e>=0&&255>=e&&i>=0&&255>=i&&n>=0&&255>=n,"bad RGB values"),e/=255,i/=255,n/=255;var r,s,a=Math.max(e,i,n),l=Math.min(e,i,n),c=(a+l)/2;if(a==l)r=s=0;else{switch(o=a-l,s=c>.5?o/(2-a-l):o/(a+l),a){case e:r=(i-n)/o+(n>i?6:0);break;case i:r=(n-e)/o+2;break;case n:r=(e-i)/o+4}r/=6}return[r,s,c]},e._rgbToHsb=function(i,n,o){t.assert(i>=0&&255>=i&&n>=0&&255>=n&&o>=0&&255>=o,"bad RGB values");var r=e._rgbToHsl(i,n,o);return e._hslToHsb(r[0],r[1],r[2])},e._hsbToRgb=function(t,i,n){var o=e._hsbToHsl(t,i,n);return e._hslToRgb(o[0],o[1],o[2])},e._hsbToHsl=function(e,i,n){t.assert(e>=0&&1>=e&&i>=0&&1>=i&&n>=0&&1>=n,"bad HSB values");var o=t.clamp(n*(2-i)/2,0,1),r=1-Math.abs(2*o-1),s=t.clamp(r>0?n*i/r:i,0,1);return t.assert(!isNaN(o)&&!isNaN(s),"bad conversion to HSL"),[e,s,o]},e._hslToHsb=function(e,i,n){t.assert(e>=0&&1>=e&&i>=0&&1>=i&&n>=0&&1>=n,"bad HSL values");var o=t.clamp(1==n?1:(2*n+i*(1-Math.abs(2*n-1)))/2,0,1),r=t.clamp(o>0?2*(o-n)/o:i,0,1);return t.assert(!isNaN(o)&&!isNaN(r),"bad conversion to HSB"),[e,r,o]},e}();t.Color=e}(wijmo||(wijmo={})),function(t){"use strict";var e=function(){function e(){}return e.copy=function(t){e._copyPasteInternal(t)},e.paste=function(t){e._copyPasteInternal(t)},e._copyPasteInternal=function(e){var i=t.getActiveElement(),n=t.closest(n,"div")||document.body,o=document.createElement("textarea");o.style.position="fixed",o.style.opacity="0",n.appendChild(o),"string"==typeof e&&(o.value=e),o.select(),o.onkeydown=function(t){o.value&&t.preventDefault()},setTimeout(function(){var t=o.value;n.removeChild(o),i.focus(),"function"==typeof e&&e(t)},100)},e}();t.Clipboard=e}(wijmo||(wijmo={})),function(t){"use strict";function e(e,i,o,r,s){var a,l,c,h,u,p,d,f,g,m;if(void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===s&&(s=!0),a=document.body,i instanceof HTMLElement){if(!t.contains(document.body,i))return;for(l=i.parentElement;l;l=l.parentElement)if("fixed"==getComputedStyle(l).position){a=l;break}}a.lastChild!=e&&a.appendChild(e),i instanceof HTMLElement&&s&&(c=getComputedStyle(i),h=new t.Color(c.backgroundColor),h.a&&t.setCss(e,{color:c.color,backgroundColor:c.backgroundColor,fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight,fontStyle:c.fontStyle})),t.setCss(e,{position:"absolute",visibility:"hidden",display:""}),t.Control.refreshAll(e);var _=getComputedStyle(e),y=parseFloat(_.marginTop)+parseFloat(_.marginBottom),w=parseFloat(_.marginLeft)+parseFloat(_.marginRight),b=new t.Size(e.offsetWidth+w,e.offsetHeight+y),v=new t.Point,C=null;if(i&&null!=i.clientX&&null!=i.clientY&&null!=i.pageX&&null!=i.pageY)i.clientX<=0&&i.clientY<=0&&i.target?C=i.target.getBoundingClientRect():(v.x=Math.max(0,i.pageX-pageXOffset),v.y=Math.max(0,i.pageY-pageYOffset));else if(i instanceof t.Point)v=i;else if(i instanceof HTMLElement)C=i.getBoundingClientRect();else if(i&&null!=i.top&&null!=i.left)C=i;else{if(null!=i)throw"Invalid ref parameter.";v.x=Math.max(0,(innerWidth-b.width)/2),v.y=Math.max(0,Math.round((innerHeight-b.height)/2*.7))}if(u=parseFloat(_.minWidth),C){var P=C.top,x=innerHeight-C.bottom,j="rtl"==getComputedStyle(e).direction;v.x=j?Math.max(0,C.right-b.width):Math.max(0,Math.min(C.left,innerWidth-b.width)),v.y=o?P>b.height||P>x?Math.max(0,C.top-b.height):C.bottom:x>b.height||x>P?C.bottom:Math.max(0,C.top-b.height),u=Math.max(u,C.width)}if(p=null==i?new t.Rect(0,0,0,0):a==document.body?new t.Rect(-pageXOffset,-pageYOffset,0,0):a.getBoundingClientRect(),d={position:null==i?"fixed":"absolute",left:v.x-p.left,top:v.y-p.top,minWidth:u,display:"",visibility:"",zIndex:1500},r&&(e.style.opacity="0",t.animate(function(t){e.style.opacity=1==t?"":t.toString()})),t.setCss(e,d),f=i instanceof MouseEvent?i.target:i,f instanceof HTMLElement)for(m=f.parentElement;m&&m!=document.body;m=m.parentElement)"auto"==getComputedStyle(m).overflowY&&m.scrollHeight>m.offsetHeight&&(g||(g=new t.Control(document.createElement("div"))),g.addEventListener(m,"scroll",function(){n(e,!0),g.dispose()}))}function i(e,i,o){void 0===i&&(i=!0),void 0===o&&(o=!1),o?t.animate(function(t){e.style.opacity=(1-t).toString(),1==t&&(n(e,i),e.style.opacity="")}):n(e,i)}function n(t,e){t.style.display="none",e&&t.parentElement&&t.parentElement.removeChild(t)}t.showPopup=e,t.hidePopup=i}(wijmo||(wijmo={})),function(t){"use strict";var e=function(){function e(e){this._copyCss=!0,null!=e&&t.copy(this,e)}return Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyCss",{get:function(){return this._copyCss},set:function(e){this._copyCss=t.asBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},e.prototype.append=function(e){var i=this._getDocument();t.isString(e)?i.write(e):e instanceof HTMLElement?i.write(e.outerHTML):t.assert(!1,"child should be an HTML element or a string.")},e.prototype.print=function(){var t=this;this._iframe&&(this._close(),setTimeout(function(){var e=t._iframe.contentWindow;e.focus(),e.print(),document.body.removeChild(t._iframe),t._iframe=null},100))},e.prototype._getDocument=function(){if(!this._iframe){this._iframe=document.createElement("iframe");var t=this._iframe.style;t.position="fixed",t.left="10000px",t.top="10000px",document.body.appendChild(this._iframe)}return this._iframe.contentDocument},e.prototype._close=function(){var e,i,n,o,r,s,a,l=this._getDocument();if(l.close(),this.title&&(e=l.querySelector("title"),e||(e=l.createElement("title"),l.head.appendChild(e)),e.textContent=this.title),this._copyCss){for(i=document.head.querySelectorAll("LINK"),r=0;r<i.length;r++)n=i[r],n.href.match(/\.css$/i)&&n.rel.match(/stylesheet/i)&&(a=t.httpRequest(n.href,{async:!1}),this._addStyle(a.responseText));for(o=document.head.querySelectorAll("STYLE"),r=0;r<o.length;r++)this._addStyle(o[r].textContent)}if(this._css)for(r=0;r<this._css.length;r++)s=l.createElement("style"),a=t.httpRequest(this._css[r],{async:!1}),s.textContent=a.responseText,l.head.appendChild(s)},e.prototype._addStyle=function(t){var e=this._getDocument(),i=e.createElement("style");i.textContent=t,e.head.appendChild(i)},e}();t.PrintDocument=e}(wijmo||(wijmo={})),function(t){"use strict";var e,i=function(){function i(t,e,i){void 0===e&&(e=null),void 0===i&&(i="_"),this._promptChar="_",this._mskArr=[],this._full=!0,this._hbInput=this._input.bind(this),this._hbKeyDown=this._keydown.bind(this),this._hbKeyPress=this._keypress.bind(this),this._hbCompositionStart=this._compositionstart.bind(this),this._hbCompositionEnd=this._compositionend.bind(this),this.mask=e,this.input=t,this.promptChar=i,this._connect(!0)}return Object.defineProperty(i.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk},set:function(e){e!=this._msk&&(this._msk=t.asString(e,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._promptChar},set:function(e){e!=this._promptChar&&(this._promptChar=t.asString(e,!1),t.assert(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),i.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},i.prototype.getRawValue=function(){var t,e=this._tbx.value,i="";if(!this.mask)return e;for(t=0;t<this._mskArr.length&&t<e.length;t++)this._mskArr[t].literal||e[t]==this._promptChar||(i+=e[t]);return i},i.prototype.refresh=function(){this._parseMask(),this._valueChanged()},i.prototype._input=function(){var t=this;this._composing||setTimeout(function(){t._valueChanged()})},i.prototype._keydown=function(e){if(e.keyCode==t.Key.Back){var i=this._tbx.selectionStart,n=this._tbx.selectionEnd;if(i<=this._firstPos&&n==i)return e.preventDefault(),void(this._backSpace=!1)}this._backSpace=e.keyCode==t.Key.Back},i.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},i.prototype._compositionstart=function(){this._composing=!0},i.prototype._compositionend=function(){var t=this;this._composing=!1,setTimeout(function(){t._valueChanged()})},i.prototype._preventKey=function(e){var i;if(e&&this._mskArr.length){var n=this._tbx,o=n.selectionStart,r=String.fromCharCode(e);if(o<this._firstPos&&(o=this._firstPos,t.setSelectionRange(n,o)),o>=this._mskArr.length)return!0;if(i=this._mskArr[o],i.literal)this._validatePosition(o);else if(i.wildCard!=r&&!this._isCharValid(i.wildCard,r))return!0}return!1},i.prototype._connect=function(t){var e=this._tbx;e&&(t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._hbInput),e.addEventListener("keydown",this._hbKeyDown,!0),e.addEventListener("keypress",this._hbKeyPress,!0),e.addEventListener("compositionstart",this._hbCompositionStart,!0),e.addEventListener("compositionend",this._hbCompositionEnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._hbInput),e.removeEventListener("keydown",this._hbKeyDown,!0),e.removeEventListener("keypress",this._hbKeyPress,!0),e.removeEventListener("compositionstart",this._hbCompositionStart,!0),e.removeEventListener("compositionend",this._hbCompositionEnd,!0)))},i.prototype._valueChanged=function(){var t;if(this._tbx&&this._msk){var e=this._tbx,i=e.selectionStart,n=i>0?e.value[i-1]:"";e.value=this._applyMask(),t=i>0?e.value[i-1]:"",i>0&&t==this._promptChar&&n!=this.promptChar&&i--,this._validatePosition(i)}},i.prototype._applyMask=function(){var t,e,i,n,o,r,s;if(this._full=!0,t=this._tbx.value,!this._msk||!t&&!this._tbx.required)return t;for(e="",i=0,t=this._handleVagueLiterals(t),n=0;n<this._mskArr.length;n++){if(o=this._mskArr[n],r=o.literal,r&&r==t[i]&&i++,o.wildCard){if(r=this._promptChar,t){for(s=i;s<t.length;s++)if(this._isCharValid(o.wildCard,t[s])){switch(r=t[s],o.charCase){case">":r=r.toUpperCase();break;case"<":r=r.toLowerCase()}break}i=s+1}r==this._promptChar&&(this._full=!1)}e+=r}return e},i.prototype._handleVagueLiterals=function(t){var e,i,n,o,r,s;if(t.length>this._mskArr.length+1)return t;if(e=t.length-this._mskArr.length,0!=e&&t.length>1){for(i=-1,n=Math.max(0,this._tbx.selectionStart-e),o=n;o<this._mskArr.length;o++)if(this._mskArr[o].vague){i=o;break}if(i>-1)if(0>e)r=Array(1-e).join(this._promptChar),s=i+e,s>-1&&(t=t.substr(0,s)+r+t.substr(s));else{for(;i>0&&this._mskArr[i-1].literal;)i--;t=t.substr(0,i)+t.substr(i+e)}}return t},i.prototype._isCharValid=function(t,e){var n=this._promptChar;switch(t){case"0":return e>="0"&&"9">=e||e==n;case"9":return e>="0"&&"9">=e||" "==e||e==n;case"#":return e>="0"&&"9">=e||" "==e||"+"==e||"-"==e||e==n;case"L":return e>="a"&&"z">=e||e>="A"&&"Z">=e||e==n;case"l":return e>="a"&&"z">=e||e>="A"&&"Z">=e||" "==e||e==n;case"A":return e>="0"&&"9">=e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e==n;case"a":return e>="0"&&"9">=e||e>="a"&&"z">=e||e>="A"&&"Z">=e||" "==e||e==n;case"":return e>=""&&"">=e||e==n;case"":case"":return""==t&&i._X_DBCS_BIG_HIRA.indexOf(e)>-1?!1:e>=""&&"">=e||e==n;case"":case"":return""==t&&i._X_DBCS_BIG_KATA.indexOf(e)>-1?!1:e>=""&&"">=e||e==n;case"":return"!">=e||e>=""||e==n;case"H":return e>="!"&&"">=e||e==n;case"K":case"N":return"N"==t&&i._X_SBCS_BIG_KATA.indexOf(e)>-1?!1:e>=""&&"">=e||e==n}return!1},i.prototype._validatePosition=function(e){var i=this._mskArr;if(this._backSpace)for(;e>0&&e<i.length&&i[e-1].literal;)e--;if(0==e||!this._backSpace)for(;e<i.length&&i[e].literal;)e++;t.getActiveElement()==this._tbx&&t.setSelectionRange(this._tbx,e),this._backSpace=!1},i.prototype._parseMask=function(){var i,n,o,r,s,a,l;for(this._mskArr=[],this._firstPos=-1,this._lastPos=-1,i=this._msk,n="|",r=0;i&&r<i.length;r++)switch(i[r]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"":case"":case"":case"":case"":case"":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new e(i[r],n));break;case".":case",":case":":case"/":case"$":switch(i[r]){case".":case",":o=t.culture.Globalize.numberFormat[i[r]];break;case":":case"/":o=t.culture.Globalize.calendar[i[r]];break;case"$":o=t.culture.Globalize.numberFormat.currency.symbol}for(a=0;a<o.length;a++)this._mskArr.push(new e(o[a]));break;case"<":case">":case"|":n=i[r];break;case"\\":r<i.length-1&&r++,this._mskArr.push(new e(i[r]));break;default:this._mskArr.push(new e(i[r]))}for(r=0;r<this._mskArr.length;r++)if(s=this._mskArr[r],s.literal)for(a=0;r>a;a++)if(l=this._mskArr[a],l.wildCard&&this._isCharValid(l.wildCard,s.literal)){s.vague=!0;break}},i._X_DBCS_BIG_HIRA="",i._X_DBCS_BIG_KATA="",i._X_SBCS_BIG_KATA="",i}();t._MaskProvider=i,e=function(){function t(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t}return t}(),t._MaskElement=e}(wijmo||(wijmo={})),function(t){"use strict";function e(){return r}function i(){return n}var n,o,r=null!=navigator.userAgent.match(/MSIE |Trident\/|Edge\//);t.isIE=e,t.isIE9=i,document.doctype&&navigator.appVersion.indexOf("MSIE 9")>-1&&(n=!0,document.addEventListener("mousemove",function(t){if(1==t.which)for(var e=t.target;e;e=e.parentNode)if(e.attributes&&e.attributes.draggable)return e.dragDrop(),!1})),window.requestAnimationFrame||(o=0,window.requestAnimationFrame=function(t){var e=Date.now(),i=16-(e-o),n=i>0?i:0;return o=e+n,setTimeout(function(){t(o)},n)},window.cancelAnimationFrame=clearTimeout)}(wijmo||(wijmo={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},wijmo;!function(t){var e;!function(e){"use strict";var i=function(e){function i(i){var n,o,r,s=this;e.call(this,i,null,!0),this._showBtn=!0,this._autoExpand=!0,this.textChanged=new t.Event,this.isDroppedDownChanging=new t.Event,this.isDroppedDownChanged=new t.Event,n=this.getTemplate(),this.applyTemplate("wj-control wj-dropdown wj-content",n,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),this._elRef=this._tbx,this._createDropDown(),this._updateBtn(),o=this._updateFocusState.bind(this),this.addEventListener(this.dropDown,"blur",o,!0),this.addEventListener(this.dropDown,"focus",o),r=this._keydown.bind(this),this.addEventListener(this.hostElement,"keydown",r),this.addEventListener(this.dropDown,"keydown",r),this.addEventListener(this._tbx,"keypress",function(t){9787==t.keyCode&&s._altDown&&t.preventDefault()}),this.addEventListener(this._tbx,"input",function(){s._setText(s.text,!1)}),this.addEventListener(this._tbx,"click",function(){s._autoExpand&&s._expandSelection()}),t.isIE9()&&this.addEventListener(this._tbx,"keyup",function(){s._setText(s.text,!1)}),this.addEventListener(this._btn,"click",this._btnclick.bind(this)),this.addEventListener(this._dropDown,"click",function(t){t.stopPropagation()})}return __extends(i,e),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"required",{get:function(){return t._deprecated("required","isRequired"),this.isRequired},set:function(e){t._deprecated("required","isRequired"),this.isRequired=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDroppedDown",{get:function(){return"none"!=this._dropDown.style.display},set:function(e){if(e=t.asBoolean(e)&&!this.isDisabled&&!this.isReadOnly,e!=this.isDroppedDown&&this.onIsDroppedDownChanging(new t.CancelEventArgs)){var i=this._dropDown;e?(i.style.minWidth||(i.style.minWidth=this.hostElement.getBoundingClientRect().width+"px"),i.style.display="block",this._updateDropDown()):(this.containsFocus()&&(this.isTouching&&this.showDropDownButton?this.focus():this.selectAll()),t.hidePopup(i)),this._updateFocusState(),this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(t.removeClass(this._dropDown,this._cssClass),this._cssClass=t.asString(e),t.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(e){this._showBtn=t.asBoolean(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(e){this._autoExpand=t.asBoolean(e)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){this._elRef==this._tbx&&t.setSelectionRange(this._tbx,0,this.text.length)},i.prototype.onTextChanged=function(t){this._updateState(),this.textChanged.raise(this,t)},i.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDownChanging.raise(this,t),!t.cancel},i.prototype.onIsDroppedDownChanged=function(e){var i=this;this.removeEventListener(document,"mousedown"),this.removeEventListener(document,"keydown"),this.isDroppedDown&&!this.containsFocus()&&(this.addEventListener(document,"mousedown",function(e){t.contains(i.dropDown,e.target)||t.contains(i.hostElement,e.target)||(i.isDroppedDown=!1)}),this.addEventListener(document,"keydown",function(){i.containsFocus()||(i.isDroppedDown=!1)})),this.isDroppedDownChanged.raise(this,e)},i.prototype.onGotFocus=function(t){this.isTouching||this.selectAll(),e.prototype.onGotFocus.call(this,t)},i.prototype.onLostFocus=function(t){this._commitText(),this.containsFocus()||(this.isDroppedDown=!1),e.prototype.onLostFocus.call(this,t)},i.prototype.containsFocus=function(){return e.prototype.containsFocus.call(this)||t.contains(this._dropDown,t.getActiveElement())},i.prototype.dispose=function(){this.isDroppedDown=!1,e.prototype.dispose.call(this)},i.prototype.refresh=function(i){if(void 0===i&&(i=!0),e.prototype.refresh.call(this,i),this.isDroppedDown&&"none"!=getComputedStyle(this.hostElement).display){var n=t.getActiveElement();t.showPopup(this._dropDown,this.hostElement,!1,!1,null==this.dropDownCssClass),n instanceof HTMLElement&&n!=t.getActiveElement()&&n.focus()}},i.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},i.prototype._expandSelection=function(){var t,e=this._tbx,i=e.value,n=e.selectionStart,o=e.selectionEnd;if(i&&n==o&&(t=this._getCharType(i,n),t>-1)){for(;o<i.length&&this._getCharType(i,o)==t;o++);for(;n>0&&this._getCharType(i,n-1)==t;n--);n!=o&&e.setSelectionRange(n,o)}},i.prototype._getCharType=function(t,e){var i=t[e];return i>="0"&&"9">=i?0:i>="a"&&"z">=i||i>="A"&&"Z">=i?1:-1},i.prototype._keydown=function(e){if(!e.defaultPrevented)switch(this._altDown=e.altKey,e.keyCode){case t.Key.Tab:case t.Key.Escape:case t.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,e.preventDefault());break;case t.Key.F4:case t.Key.Down:case t.Key.Up:(e.keyCode==t.Key.F4||e.altKey)&&t.contains(document.body,this.hostElement)&&(this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),e.preventDefault())}},i.prototype._btnclick=function(){this.isDroppedDown=!this.isDroppedDown},i.prototype._setText=function(t){null==t&&(t=""),t=t.toString(),t!=this._tbx.value&&(this._tbx.value=t),t!=this._oldText&&(this._oldText=t,this.onTextChanged())},i.prototype._updateBtn=function(){this._btn.tabIndex=-1,this._btn.style.display=this._showBtn?"":"none"},i.prototype._createDropDown=function(){},i.prototype._commitText=function(){},i.prototype._updateDropDown=function(){this.isDroppedDown&&(this._commitText(),t.showPopup(this._dropDown,this.hostElement,!1,!1,null==this.dropDownCssClass))},i.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span wj-part="btn" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100"></div></div>',i}(t.Control);e.DropDown=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";!function(t){t[t.None=0]="None",t[t.Day=1]="Day",t[t.Month=2]="Month"}(e.DateSelectionMode||(e.DateSelectionMode={}));var i=e.DateSelectionMode,n=function(n){function o(e,o){n.call(this,e),this._readOnly=!1,this._selMode=i.Day,this.valueChanged=new t.Event,this.displayMonthChanged=new t.Event,this.formatItem=new t.Event,this._value=t.DateTime.newDate(),this._currMonth=this._getMonth(this._value),this._createChildren(),this.refresh(!0),this.addEventListener(this.hostElement,"mouseup",this._click.bind(this)),this.addEventListener(this.hostElement,"keydown",this._keydown.bind(this)),this.initialize(o)}return __extends(o,n),Object.defineProperty(o.prototype,"value",{get:function(){return this._value},set:function(e){var i,n;e=t.asDate(e,!0),e&&(null!=this._min&&(i=t.DateTime.fromDateTime(this._min,e),i>e&&(e=i)),null!=this._max&&e>this._max&&(n=t.DateTime.fromDateTime(this._max,e),e>n&&(e=n))),this._valid(e)&&(this.displayMonth=this._getMonth(e),t.DateTime.equals(this._value,e)||(this._value=e,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"min",{get:function(){return this._min},set:function(e){e!=this.min&&(this._min=t.asDate(e,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"max",{get:function(){return this._max},set:function(e){e!=this.max&&(this._max=t.asDate(e,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectionMode",{get:function(){return this._selMode},set:function(e){var n,o;e!=this._selMode&&(this._selMode=t.asEnum(e,i),n=this._monthMode(),n&&(this.monthView=!1),o=this._btnMth.querySelector(".wj-glyph-down"),o&&(o.style.display=n?"none":""))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(e){if(e!=this._fdw){if(e=t.asNumber(e,!0),e&&(e>6||0>e))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=e,this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(e){t.DateTime.equals(this.displayMonth,e)||(e=t.asDate(e),this._monthInValidRage(e)&&(this._currMonth=this._getMonth(e),this.invalidate(!0),this.onDisplayMonthChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(e){this._tbHdr.style.display=t.asBoolean(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(t){t!=this.monthView&&(this._tbMth.style.display=t?"":"none",this._tbYr.style.display=t?"none":"")},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=t.asFunction(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this._itemValidator&&(this._itemValidator=t.asFunction(e),this.invalidate())},enumerable:!0,configurable:!0}),o.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},o.prototype.onDisplayMonthChanged=function(t){this.displayMonthChanged.raise(this,t)},o.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},o.prototype.refresh=function(i){var o,r,s,a,l,c,h,u,p;for(void 0===i&&(i=!0),a=this.displayMonth,l=null!=this.firstDayOfWeek?this.firstDayOfWeek:t.Globalize.getFirstDayOfWeek(),n.prototype.refresh.call(this,i),this._firstDay=t.DateTime.addDays(a,-(a.getDay()-l+7)%7),t.setText(this._spMth,t.Globalize.format(a,"y")),o=this._tbMth.querySelectorAll("td"),p=0;7>p&&p<o.length;p++)s=t.DateTime.addDays(this._firstDay,p),t.setText(o[p],t.Globalize.format(s,"ddd"));for(p=7;p<o.length;p++)r=o[p],s=t.DateTime.addDays(this._firstDay,p-7),t.setText(r,s.getDate().toString()),r.className="",c=!this._valid(s),t.toggleClass(r,"wj-state-invalid",c),t.toggleClass(r,"wj-state-selected",t.DateTime.sameDate(s,this.value)),t.toggleClass(r,"wj-day-today",t.DateTime.sameDate(s,new Date)),t.toggleClass(r,"wj-day-othermonth",c||s.getMonth()!=a.getMonth()||!this._inValidRange(s)),this.itemFormatter&&this.itemFormatter(s,r),this.formatItem.hasHandlers&&(h=new e.FormatItemEventArgs(p,s,r),this.onFormatItem(h));for(u=this._tbMth.querySelectorAll("tr"),u.length&&(s=t.DateTime.addDays(this._firstDay,28),u[u.length-2].style.display=s.getMonth()==a.getMonth()?"":"none",s=t.DateTime.addDays(this._firstDay,35),u[u.length-1].style.display=s.getMonth()==a.getMonth()?"":"none"),o=this._tbYr.querySelectorAll("td"),o.length&&t.setText(o[0],a.getFullYear().toString()),p=1;p<o.length;p++)r=o[p],s=new Date(a.getFullYear(),p-1,1),t.setText(r,t.Globalize.format(s,"MMM")),r.className="",t.toggleClass(r,"wj-state-disabled",!this._monthInValidRage(s)),t.toggleClass(r,"wj-state-selected",this._sameMonth(s,this.value))},o.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=i.None},o.prototype._valid=function(t){return this.itemValidator&&t?this.itemValidator(t):!0},o.prototype._inValidRange=function(e){return this.min&&e<t.DateTime.fromDateTime(this.min,e)?!1:this.max&&e>t.DateTime.fromDateTime(this.max,e)?!1:!0},o.prototype._monthInValidRage=function(e){var i=e.getFullYear(),n=e.getMonth(),o=new Date(i,n,1),r=t.DateTime.addDays(new Date(i,n+1),-1);return this._inValidRange(o)||this._inValidRange(r)},o.prototype._sameMonth=function(e,i){return t.isDate(e)&&t.isDate(i)&&e.getMonth()==i.getMonth()&&e.getFullYear()==i.getFullYear()},o.prototype._createChildren=function(){var t,e,i,n,o,r=this.getTemplate();for(this.applyTemplate("wj-control wj-calendar",r,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),t=this._createElement("tr",this._tbMth,"wj-header"),i=0;7>i;i++)this._createElement("td",t);for(e=0;6>e;e++)for(t=this._createElement("tr",this._tbMth),i=0;7>i;i++)this._createElement("td",t);for(t=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",t).setAttribute("colspan","4"),n=0;3>n;n++)for(t=this._createElement("tr",this._tbYr),o=0;4>o;o++)this._createElement("td",t)},o.prototype._createElement=function(e,i,n){var o=document.createElement(e);return i&&i.appendChild(o),n&&t.addClass(o,n),o},o.prototype._click=function(e){var i,n=!1,o=e.target;t.contains(this._btnMth,o)&&!this._monthMode()?(this.monthView=!this.monthView,n=!0):t.contains(this._btnPrv,o)?(this._navigate(-1),n=!0):t.contains(this._btnNxt,o)?(this._navigate(1),n=!0):t.contains(this._btnTdy,o)&&(this._navigate(0),n=!0),o&&!n&&(o=t.closest(o,"TD"),o&&(this.monthView?(i=this._getCellIndex(this._tbMth,o),i>6&&this._canChangeValue()&&(this.value=t.DateTime.fromDateTime(t.DateTime.addDays(this._firstDay,i-7),this.value),n=!0)):(i=this._getCellIndex(this._tbYr,o),i>0&&(this.displayMonth=new Date(this.displayMonth.getFullYear(),i-1,1),this._monthMode()?this._canChangeValue()&&(this.value=t.DateTime.fromDateTime(this.displayMonth,this.value)):this.monthView=!0,n=!0)))),n&&(e.preventDefault(),this.focus())},o.prototype._getCellIndex=function(t,e){for(var i=t.querySelectorAll("TD"),n=0;n<i.length;n++)if(i[n]==e)return n;return-1},o.prototype._keydown=function(e){var i;if(!(e.defaultPrevented||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)){var n=0,o=0,r=!0;if(this.monthView)switch(e.keyCode){case t.Key.Left:n=-1;break;case t.Key.Right:n=1;break;case t.Key.Up:n=-7;break;case t.Key.Down:n=7;break;case t.Key.PageDown:o=1;break;case t.Key.PageUp:o=-1;break;default:r=!1}else switch(e.keyCode){case t.Key.Left:o=-1;break;case t.Key.Right:o=1;break;case t.Key.Up:o=-4;break;case t.Key.Down:o=4;break;case t.Key.PageDown:o=12;break;case t.Key.PageUp:o=-12;break;case t.Key.Enter:this._monthMode()?r=!1:this.monthView=!0;break;default:r=!1}this.value&&this._canChangeValue()&&(n||o)&&(i=this.value,i=t.DateTime.addDays(i,n),i=t.DateTime.addMonths(i,o),this.value=t.DateTime.fromDateTime(i,this.value)),r&&e.preventDefault()}},o.prototype._getMonth=function(t){return t||(t=new Date),new Date(t.getFullYear(),t.getMonth(),1)},o.prototype._monthMode=function(){return this.selectionMode==i.Month},o.prototype._navigate=function(e){var i,n=this.monthView;switch(e){case 0:i=new Date,n?this._canChangeValue()&&(this.value=t.DateTime.fromDateTime(i,this.value)):this._monthMode()&&this._canChangeValue()&&(this.value=this._getMonth(i)),
this.displayMonth=this._getMonth(i);break;case 1:this.displayMonth=t.DateTime.addMonths(this.displayMonth,n?1:12);break;case-1:this.displayMonth=t.DateTime.addMonths(this.displayMonth,n?-1:-12)}},o.controlTemplate='<div class="wj-calendar-outer wj-content"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button type="button" wj-part="btn-prev" class="wj-btn wj-btn-default"><span class="wj-glyph-left"></span></button><button type="button" wj-part="btn-today" class="wj-btn wj-btn-default"><span class="wj-glyph-circle"></span></button><button type="button" wj-part="btn-next" class="wj-btn wj-btn-default"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month"/><table wj-part="tbl-year" class="wj-calendar-year" style="display:none"/></div>',o}(t.Control);e.Calendar=n}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(e){function i(n,o){var r,s,a,l=this;e.call(this,n),this._hsb=[.5,1,1],this._alpha=1,this.valueChanged=new t.Event,r=this.getTemplate(),this.applyTemplate("wj-control wj-colorpicker wj-content",r,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),this._palette="#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),this._updatePalette(),this._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",this._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",this._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),r=i._tplCursor,this._cSB=t.createElement(r),this._cHue=t.createElement(r),this._cHue.style.width="100%",this._cAlpha=t.createElement(r),this._cAlpha.style.height="100%",this._eSB.appendChild(this._cSB),this._eHue.appendChild(this._cHue),this._eAlpha.appendChild(this._cAlpha),this.addEventListener(this.hostElement,"mousedown",function(t){document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),l._mouseDown(t)}),s=function(t){l._mouseMove(t)},a=function(t){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),l._mouseUp(t)},this.addEventListener(this.hostElement,"click",function(e){var i,n=e.target;n&&"DIV"==n.tagName&&t.contains(l._ePal,n)&&(i=n.style.backgroundColor,i&&(l.value=new t.Color(i).toString()))}),this.value="#ffffff",this.initialize(o),this._updatePanels()}return __extends(i,e),Object.defineProperty(i.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(e){this._eAlpha.parentElement.style.display=t.asBoolean(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(e){this._eText.style.display=t.asBoolean(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this.value){this._value=t.asString(e),this._eText.innerText=this._value;var i=new t.Color(this._value),n=i.getHsb();(this._hsb[0]!=n[0]||this._hsb[1]!=n[1]||this._hsb[2]!=n[2]||this._alpha!=i.a)&&(0==n[2]?(n[0]=this._hsb[0],n[1]=this._hsb[1]):0==n[1]&&(n[0]=this._hsb[0]),this._hsb=n,this._alpha=i.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this._palette},set:function(e){var i,n;for(e=t.asArray(e),i=0;i<e.length&&i<this._palette.length;i++)n=t.asString(e[i]),this._palette[i]=n;this._updatePalette()},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(t){this._updatePanels(),this.valueChanged.raise(this,t)},i.prototype._mouseDown=function(t){this._htDown=this._getTargetPanel(t),this._htDown&&(t.preventDefault(),this.focus(),this._mouseMove(t))},i.prototype._mouseMove=function(e){if(this._htDown){var i=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=t.clamp((e.clientY-i.top)/i.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=t.clamp((e.clientX-i.left)/i.width,0,1),this._hsb[2]=t.clamp(1-(e.clientY-i.top)/i.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=t.clamp((e.clientX-i.left)/i.width,0,1),this._updateColor())}},i.prototype._mouseUp=function(){this._htDown=null},i.prototype._updateColor=function(){var e=t.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=e.toString(),this._updatePanels()},i.prototype._updatePalette=function(){var e,i,n,o=new t.Color("#fff"),r=new t.Color("#000");for(this._ePal.innerHTML="",e=0;e<this._palette.length;e++){var s=t.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),a=new t.Color(this._palette[e]),l=a.getHsb();for(s.appendChild(this._makePalEntry(a,4)),i=0;5>i;i++)0==l[1]?(n=.1*i+(l[2]>.5?.05:.55),a=t.Color.interpolate(o,r,n)):a=t.Color.fromHsb(l[0],.1+.2*i,1-.1*i),s.appendChild(this._makePalEntry(a,0));this._ePal.appendChild(s)}},i.prototype._makePalEntry=function(e,i){var n=document.createElement("div");return t.setCss(n,{cursor:"pointer",backgroundColor:e.toString(),marginBottom:i?i:""}),n.innerHTML="&nbsp",n},i.prototype._updatePanels=function(){var e=t.Color.fromHsb(this._hsb[0],1,1,1),i=t.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=e.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+i.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+i.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},i.prototype._getTargetPanel=function(e){var i=e.target;return t.contains(this._eSB,i)?this._eSB:t.contains(this._eHue,i)?this._eHue:t.contains(this._eAlpha,i)?this._eAlpha:null},i.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',i._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',i}(t.Control);e.ColorPicker=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i,n=function(e){function n(i,n){e.call(this,i),this._html=!1,this._checkedItems=[],this._search="",this.selectedIndexChanged=new t.Event,this.itemsChanged=new t.Event,this.loadingItems=new t.Event,this.loadedItems=new t.Event,this.itemChecked=new t.Event,this.checkedItemsChanged=new t.Event,this.formatItem=new t.Event,this.applyTemplate("wj-control wj-listbox wj-content",null,null),"SELECT"==this._orgTag&&this._populateSelectElement(this.hostElement);var o=this.hostElement;this.addEventListener(o,"click",this._click.bind(this)),this.addEventListener(o,"keydown",this._keydown.bind(this)),this.addEventListener(o,"keypress",this._keypress.bind(this)),this.addEventListener(o,"wheel",function(t){o.scrollHeight>o.offsetHeight&&(t.deltaY<0&&0==o.scrollTop||t.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(t.preventDefault(),t.stopPropagation())}),this.initialize(n)}return __extends(n,e),n.prototype.refresh=function(){e.prototype.refresh.call(this),(this.displayMemberPath||!this.checkedMemberPath)&&this._populateList()},Object.defineProperty(n.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._items!=e&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=t.asCollectionView(e),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=t.asBoolean(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=t.asFunction(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayMemberPath",{get:function(){return this._pathDisplay},set:function(e){e!=this._pathDisplay&&(this._pathDisplay=t.asString(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValuePath",{get:function(){return this._pathValue},set:function(e){this._pathValue=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"checkedMemberPath",{get:function(){return this._pathChecked},set:function(e){e!=this._pathChecked&&(this._pathChecked=t.asString(e),this._populateList())},enumerable:!0,configurable:!0}),n.prototype.getDisplayValue=function(e){var i,n=null;return e>-1&&t.hasItems(this._cv)&&(n=this._cv.items[e],this.displayMemberPath&&(n=n[this.displayMemberPath])),i=null!=n?n.toString():"",this.itemFormatter&&(i=this.itemFormatter(e,i)),i},n.prototype.getDisplayText=function(t){var e=this.hostElement.children,i=t>-1&&t<e.length?e[t]:null;return null!=i?i.textContent:""},Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(e){this._cv&&this._cv.moveCurrentToPosition(t.asNumber(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(t){this._cv&&this._cv.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValue",{get:function(){var t=this.selectedItem;return t&&this.selectedValuePath&&(t=t[this.selectedValuePath]),t},set:function(t){var e,i,n=this.selectedValuePath,o=-1;if(this._cv){for(e=0;e<this._cv.items.length;e++)if(i=this._cv.items[e],n&&i[n]==t||!n&&i==t){o=e;break}this.selectedIndex=o}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxHeight",{get:function(){var t=this.hostElement;return t?parseFloat(t.style.maxHeight):null},set:function(e){var i=this.hostElement;i&&(i.style.maxHeight=t.asNumber(e)+"px")},enumerable:!0,configurable:!0}),n.prototype.showSelection=function(){for(var e,i,n,o=this.selectedIndex,r=this.hostElement,s=r.children,a=0;a<s.length;a++)n=s[a],t.toggleClass(n,"wj-state-selected",a==o);o>-1&&o<s.length&&(n=s[o],e=n.getBoundingClientRect(),i=this.hostElement.getBoundingClientRect(),e.bottom>i.bottom?r.scrollTop+=e.bottom-i.bottom:e.top<i.top&&(r.scrollTop-=i.top-e.top)),o>-1&&this.containsFocus()&&(n=s[o],n instanceof HTMLElement&&!t.contains(n,t.getActiveElement())&&n.focus())},n.prototype.getItemChecked=function(e){var i,n=this._cv.items[e];return t.isObject(n)&&this.checkedMemberPath?n[this.checkedMemberPath]:(i=this._getCheckbox(e),i?i.checked:!1)},n.prototype.setItemChecked=function(t,e){this._setItemChecked(t,e,!0)},n.prototype.toggleItemChecked=function(t){this.setItemChecked(t,!this.getItemChecked(t))},Object.defineProperty(n.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var t=0;t<this._cv.items.length;t++)this.getItemChecked(t)&&this._checkedItems.push(this._cv.items[t]);return this._checkedItems},set:function(e){var i,n,o,r=this._cv,s=t.asArray(e,!1);if(r&&s){for(i=r.currentPosition,n=0;n<r.items.length;n++)o=r.items[n],this._setItemChecked(n,s.indexOf(o)>-1,!1);r.moveCurrentToPosition(i),this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),n.prototype.onSelectedIndexChanged=function(t){this.selectedIndexChanged.raise(this,t)},n.prototype.onItemsChanged=function(t){this.itemsChanged.raise(this,t)},n.prototype.onLoadingItems=function(t){this.loadingItems.raise(this,t)},n.prototype.onLoadedItems=function(t){this.loadedItems.raise(this,t)},n.prototype.onItemChecked=function(t){this.itemChecked.raise(this,t)},n.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},n.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},n.prototype._setItemChecked=function(e,i,n){var o,r,s;void 0===n&&(n=!0),o=this._cv.items[e],t.isObject(o)&&(r=t.tryCast(this._cv,"IEditableCollectionView"),o[this.checkedMemberPath]!=i&&(this._checking=!0,r?(r.editItem(o),o[this.checkedMemberPath]=i,r.commitEdit()):(o[this.checkedMemberPath]=i,this._cv.refresh()),this._checking=!1)),s=this._getCheckbox(e),s&&s.checked!=i&&(s.checked=i),n&&(this.onItemChecked(),this.onCheckedItemsChanged())},n.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},n.prototype._cvCurrentChanged=function(){this.showSelection(),this.onSelectedIndexChanged()},n.prototype._populateList=function(){var e,n,o,r,s,a,l=this.hostElement;if(l){if(e=this.containsFocus(),this.onLoadingItems(),l.innerHTML="",this._cv)for(n=0;n<this._cv.items.length;n++)o=this.getDisplayValue(n),1!=this._html&&(o=t.escapeHtml(o)),this.checkedMemberPath&&(r=this._cv.items[n][this.checkedMemberPath],o='<label><input type="checkbox"'+(r?" checked":"")+"> "+o+"</label>"),s=document.createElement("div"),s.innerHTML=o,s.className="wj-listbox-item",t.hasClass(s.firstChild,"wj-separator")&&(s.className+=" wj-separator"),this.formatItem.hasHandlers&&(a=new i(n,this._cv.items[n],s),this.onFormatItem(a)),l.appendChild(s);0==l.children.length&&l.appendChild(document.createElement("div")),e&&!this.containsFocus()&&this.focus(),this.showSelection(),this.onLoadedItems()}},n.prototype._click=function(e){for(var i,n=this.hostElement.children,o=0;o<n.length;o++)if(t.contains(n[o],e.target)){this.selectedIndex=o;break}this.checkedMemberPath&&this.selectedIndex>-1&&(i=this._getCheckbox(this.selectedIndex),i==e.target&&this.setItemChecked(this.selectedIndex,i.checked))},n.prototype._keydown=function(e){var i,n,o;if(!(e.defaultPrevented||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)){var r=this.selectedIndex,s=this.hostElement,a=s.children;switch(e.keyCode){case t.Key.Down:e.preventDefault(),r<a.length-1&&this.selectedIndex++;break;case t.Key.Up:e.preventDefault(),r>0&&this.selectedIndex--;break;case t.Key.Home:e.preventDefault(),this.selectedIndex=0;break;case t.Key.End:e.preventDefault(),this.selectedIndex=a.length-1;break;case t.Key.PageDown:if(e.preventDefault(),this.selectedIndex>-1){var r=this.selectedIndex,l=s.offsetHeight,c=0;for(i=r+1;i<this._cv.items.length;i++){if(n=a[i].scrollHeight,c+n>l){this.selectedIndex=i;break}c+=n}this.selectedIndex==r&&this._cv.moveCurrentToLast()}break;case t.Key.PageUp:if(e.preventDefault(),this.selectedIndex>-1){var r=this.selectedIndex,l=s.offsetHeight,c=0;for(i=r-1;i>0;i--){if(n=a[i].scrollHeight,c+n>l){this.selectedIndex=i;break}c+=n}this.selectedIndex==r&&this._cv.moveCurrentToFirst()}break;case t.Key.Space:this.checkedMemberPath&&this.selectedIndex>-1&&(o=this._getCheckbox(this.selectedIndex),o&&(this.hostElement.focus(),this.setItemChecked(this.selectedIndex,!o.checked),e.preventDefault()))}}},n.prototype._keypress=function(t){var e,i,n,o,r=this;if(!t.defaultPrevented&&!(t.target instanceof HTMLInputElement)&&(t.charCode>32||32==t.charCode&&this._search)&&(t.preventDefault(),this._search+=String.fromCharCode(t.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){r._toSearch=0,r._search=""},600),this.hostElement))for(e=this.hostElement.childElementCount,i=this._search.length>1?0:1;e>i;i++)if(n=(this.selectedIndex+i)%e,o=this.getDisplayText(n).trim().toLowerCase(),0==o.indexOf(this._search)){this.selectedIndex=n;break}},n.prototype._getCheckbox=function(t){if(!this.hostElement)return null;var e=this.hostElement.children[t];return e.querySelector("input[type=checkbox]")},n.prototype._populateSelectElement=function(t){for(var e,i=t.children,n=[],o=-1,r=0;r<i.length;r++)e=i[r],"OPTION"==e.tagName&&(e.hasAttribute("selected")&&(o=n.length),e.innerHTML?n.push({hdr:e.innerHTML,val:e.getAttribute("value"),cmdParam:e.getAttribute("cmd-param")}):n.push({hdr:'<div class="wj-separator"/>'}),t.removeChild(e),r--);n&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=n,this.selectedIndex=o)},n}(t.Control);e.ListBox=n,i=function(e){function i(i,n,o){e.call(this),this._index=t.asNumber(i),this._data=n,this._item=t.asType(o,HTMLElement)}return __extends(i,e),Object.defineProperty(i.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),i}(t.EventArgs),e.FormatItemEventArgs=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(i){function n(e,n){var o=this;i.call(this,e),this._editable=!1,this._composing=!1,this._deleting=!1,this._settingText=!1,this.selectedIndexChanged=new t.Event,t.addClass(this.hostElement,"wj-combobox"),this.autoExpandSelection=!1,this.addEventListener(this._tbx,"compositionstart",function(){o._composing=!0}),this.addEventListener(this._tbx,"compositionend",function(){o._composing=!1,setTimeout(function(){o._setText(o.text,!0)})}),this.addEventListener(this.hostElement,"wheel",function(e){if(!e.defaultPrevented&&!o.isDroppedDown&&!o.isReadOnly&&o.containsFocus()&&o.selectedIndex>-1){var i=t.clamp(-e.deltaY,-1,1);o.selectedIndex=t.clamp(o.selectedIndex-i,0,o.collectionView.items.length-1),e.preventDefault()}}),"SELECT"==this._orgTag&&this._lbx._populateSelectElement(this.hostElement),this.isRequired=!0,this.initialize(n)}return __extends(n,i),Object.defineProperty(n.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(t){this._lbx.itemsSource=t,this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(t){this._lbx.displayMemberPath=t;var e=this.getDisplayText();this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerPath",{get:function(){return this._hdrPath},set:function(e){this._hdrPath=t.asString(e);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(t){this._lbx.selectedValuePath=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){if(e!=this.isContentHtml){this._lbx.isContentHtml=t.asBoolean(e);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(e){this._lbx.itemFormatter=t.asFunction(e),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){t!=this.selectedIndex&&(this._lbx.selectedIndex=t);var e=this.getDisplayText(t);this.text!=e&&this._setText(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(t){this._lbx.selectedItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(t){this._lbx.selectedValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=t.asNumber(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxDropDownWidth",{get:function(){var t=this._dropDown;return parseInt(t.style.maxWidth)},set:function(e){var i=this._dropDown;i.style.maxWidth=t.asNumber(e)+"px"},enumerable:!0,configurable:!0}),n.prototype.getDisplayText=function(e){if(void 0===e&&(e=this.selectedIndex),this.headerPath&&e>-1&&t.hasItems(this.collectionView)){var i=this.collectionView.items[e][this.headerPath],n=null!=i?i.toString():"";return this.isContentHtml&&(this._cvt||(this._cvt=document.createElement("div")),this._cvt.innerHTML=n,n=this._cvt.textContent),n}return this._lbx.getDisplayText(e)},n.prototype.onSelectedIndexChanged=function(t){this._updateBtn(),this.selectedIndexChanged.raise(this,t)},n.prototype.indexOf=function(e,i){var n,o,r=this.collectionView;if(t.hasItems(r)&&e){if(i&&this.selectedIndex>-1&&e==this.getDisplayText(this.selectedIndex))return this.selectedIndex;for(e=e.toString().toLowerCase(),n=0;n<r.items.length;n++)if(o=this.getDisplayText(n).toLowerCase(),i){if(o==e)return n}else if(e&&0==o.indexOf(e))return n}return-1},Object.defineProperty(n.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),n.prototype.refresh=function(e){i.prototype.refresh.call(this,e),t.hasItems(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},n.prototype.onLostFocus=function(e){this.isEditable&&this.isRequired&&!this.text&&t.hasItems(this.collectionView)&&(this.selectedIndex=0),i.prototype.onLostFocus.call(this,e)},n.prototype.onIsDroppedDownChanging=function(e){return t.hasItems(this.collectionView)?i.prototype.onIsDroppedDownChanging.call(this,e):!1},n.prototype.onIsDroppedDownChanged=function(t){i.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll())},n.prototype._updateBtn=function(){var e=this.collectionView;this._btn.style.display=this._showBtn&&t.hasItems(e)?"":"none"},n.prototype._createDropDown=function(){var t=this;this._lbx=new e.ListBox(this._dropDown),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){t._updateBtn(),t.selectedIndex=t._lbx.selectedIndex,t.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){t._updateBtn()}),this.addEventListener(this._dropDown,"click",function(e){e.target!=t._dropDown&&(t.isDroppedDown=!1)})},n.prototype._setText=function(e,n){var o;if(!this._composing&&!this._settingText){this._settingText=!0,null==e&&(e=""),e=e.toString();var r=this.selectedIndex,s=this.collectionView,a=this._getSelStart(),l=-1;if(this._deleting&&(n=!0),this._deleting?r=this.indexOf(e,!0):(r=this.indexOf(e,n),0>r&&n&&(r=this.indexOf(e,!1)),0>r&&a>0&&(r=this.indexOf(e.substr(0,a),!1))),0>r&&!this.isEditable&&t.hasItems(s)&&(this.isRequired||e))for(r=Math.max(0,this.indexOf(this._oldText,!1)),o=0;o<e.length&&o<this._oldText.length;o++)if(e[o]!=this._oldText[o]){a=o;break}r>-1&&(l=a,e=this.getDisplayText(r)),s&&s.moveCurrentToPosition(r),e!=this._tbx.value&&(this._tbx.value=e),l>-1&&this.containsFocus()&&!this.isTouching&&this._setSelRange(l,e.length),i.prototype._setText.call(this,e,n),this._deleting=!1,this._settingText=!1}},n.prototype._findNext=function(t,e){var i,n,o,r;if(this.collectionView)for(t=t.toLowerCase(),i=this.collectionView.items.length,r=1;i>=r;r++)if(n=(this.selectedIndex+r*e+i)%i,o=this.getDisplayText(n).toLowerCase(),0==o.indexOf(t))return n;return this.selectedIndex},n.prototype._keydown=function(e){var n,o;if(i.prototype._keydown.call(this,e),!e.defaultPrevented&&this._elRef==this._tbx&&((e.keyCode==t.Key.Back||e.keyCode==t.Key.Delete)&&(this._deleting=!0),n=this.collectionView,n&&n.items))switch(e.keyCode){case t.Key.Up:case t.Key.Down:o=this._getSelStart(),o==this.text.length&&(o=0),this.selectedIndex=this._findNext(this.text.substr(0,o),e.keyCode==t.Key.Up?-1:1),t.setSelectionRange(this._tbx,o,this.text.length),e.preventDefault()}},n.prototype._setSelRange=function(e,i){this._elRef==this._tbx&&t.setSelectionRange(this._tbx,e,i)},n.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},n}(e.DropDown);e.ComboBox=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(e){function i(i,n){e.call(this,i),this._cssMatch="wj-autocomplete-match",this._minLength=2,this._maxItems=6,this._itemCount=0,this._delay=500,this._query="",this._inCallback=!1,this._srchProps=[],t.addClass(this.hostElement,"wj-autocomplete"),this.isEditable=!0,this.isRequired=!1,this.isContentHtml=!0,this.listBox.itemFormatter=this._defaultFormatter.bind(this),this.initialize(n)}return __extends(i,e),Object.defineProperty(i.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=t.asNumber(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxItems",{get:function(){return this._maxItems},set:function(e){this._maxItems=t.asNumber(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=t.asNumber(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(e){this._srchProp=t.asString(e),this._srchProps=e?e.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(e){this._itemsSourceFn=t.asFunction(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(e){this._cssMatch=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){this._itemFormatter=t.asFunction(e)},enumerable:!0,configurable:!0}),i.prototype._keydown=function(i){if(!i.defaultPrevented&&this.isDroppedDown)switch(i.keyCode){case t.Key.Up:case t.Key.Down:this.selectAll()}e.prototype._keydown.call(this,i)},i.prototype._setText=function(t){var e=this;if(!this._inCallback){if(!t&&this.selectedIndex>-1&&(this.selectedIndex=-1),t!=this._oldText&&(this._tbx.value!=t&&(this._tbx.value=t),this._oldText=t,this.onTextChanged(),!t&&this.collectionView))return this.collectionView.filter=this._query=null,void(this.isDroppedDown=!1);this._toSearch&&clearTimeout(this._toSearch),t!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){e._toSearch=null;var t=e.text.trim().toLowerCase();t.length>=e._minLength&&t!=e._query&&(e._query=t,t=t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),e._rxMatch=new RegExp("(?=.*"+t.replace(/ /g,")(?=.*")+")","ig"),e._rxHighlight=new RegExp("("+t.replace(/ /g,"|")+")","ig"),e.itemsSourceFunction?e.itemsSourceFunction(t,e.maxItems,e._itemSourceFunctionCallback.bind(e)):e._updateItems())},this._delay))}},i.prototype._itemSourceFunctionCallback=function(e){this._inCallback=!0;var i=t.asCollectionView(e);i&&i.moveCurrentToPosition(-1),this.itemsSource=i,this.isDroppedDown=!0,this._inCallback=!1,this.refresh()},i.prototype.onIsDroppedDownChanged=function(t){this.isDroppedDownChanged.raise(this,t),this._query="",this.selectedIndex>-1?(this._setText(this.getDisplayText()),this.isTouching||this.selectAll()):this.isTouching||this._tbx.focus()},i.prototype._updateItems=function(){var t=this.collectionView;t&&(this._inCallback=!0,t.beginUpdate(),this._itemCount=0,t.filter=this._filter.bind(this),t.moveCurrentToPosition(-1),t.endUpdate(),this._inCallback=!1,this.isDroppedDown=t.items.length>0&&this.containsFocus(),0!=t.items.length||this.isEditable||(this.selectedIndex=-1),this.refresh())},i.prototype._filter=function(t){var e,i;if(this._itemCount>=this._maxItems)return!1;if(e=t?t.toString():"",this.displayMemberPath)for(e=t[this.displayMemberPath],i=0;i<this._srchProps.length;i++)e+="\x00"+t[this._srchProps[i]];
return this._rxMatch.test(e)?(this._itemCount++,!0):!1},i.prototype._defaultFormatter=function(t,e){if(this._itemFormatter&&(e=this._itemFormatter(t,e)),this._rxHighlight&&this._cssMatch){var i='<span class="'+this._cssMatch+'">$1</span>';e=e.replace(this._rxHighlight,i)}return e},i}(e.ComboBox);e.AutoComplete=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(e){function i(i,n){var o,r=this;e.call(this,i),this.itemClicked=new t.Event,t.addClass(this.hostElement,"wj-menu"),this._tbx.style.display="none",o='<div wj-part="header" class="wj-form-control" style="cursor:default"/>',this._hdr=t.createElement(o),this._tbx.parentElement.insertBefore(this._hdr,this._tbx),this._elRef=this._hdr,this.isRequired=!1,"SELECT"==this._orgTag&&(this.header=this.hostElement.getAttribute("header"),this._lbx.itemsSource&&(this.commandParameterPath="cmdParam")),this.isContentHtml=!0,this.maxDropDownHeight=500,this.addEventListener(this._hdr,"click",function(){r._isButton?(r.isDroppedDown=!1,r._raiseCommand(t.EventArgs.empty)):r.isDroppedDown=!r.isDroppedDown}),this.initialize(n)}return __extends(i,e),Object.defineProperty(i.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(e){this._hdr.innerHTML=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this._command},set:function(t){this._command=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(e){this._cmdPath=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(e){this._cmdParamPath=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isButton",{get:function(){return this._isButton},set:function(e){this._isButton=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=t.asType(e,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),i.prototype.onItemClicked=function(t){this.itemClicked.raise(this,t)},i.prototype.onTextChanged=function(t){e.prototype.onTextChanged.call(this,t),!this._closing&&this.isDroppedDown&&this._raiseCommand(t)},i.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown?(this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1):this.selectedItem||(this.selectedItem=this._defaultItem)},i.prototype._raiseCommand=function(t){var e,i=this.selectedItem,n=this._getCommand(i);if(n){if(e=this._cmdParamPath?i[this._cmdParamPath]:null,!this._canExecuteCommand(n,e))return;this._executeCommand(n,e)}this.onItemClicked(t)},i.prototype._getCommand=function(t){var e=t&&this.commandPath?t[this.commandPath]:null;return e?e:this.command},i.prototype._executeCommand=function(e,i){e&&!t.isFunction(e)&&(e=e.executeCommand),t.isFunction(e)&&e(i)},i.prototype._canExecuteCommand=function(e,i){if(e){var n=e.canExecuteCommand;if(t.isFunction(n))return n(i)}return!0},i.prototype._enableDisableItems=function(){var e,i,n,o,r;if(this.collectionView&&(this.command||this.commandPath))for(e=this.collectionView.items,i=0;i<e.length;i++)n=this._getCommand(e[i]),o=this.commandParameterPath?e[i][this.commandParameterPath]:null,n&&(r=this._lbx.hostElement.children[i],t.toggleClass(r,"wj-state-disabled",!this._canExecuteCommand(n,o)))},i}(e.ComboBox);e.Menu=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},wijmo.culture.MultiSelect={itemsSelected:"{count:n0} items selected"},function(t){var e;!function(e){"use strict";var i=function(e){function i(i,n){var o=this;e.call(this,i),this._maxHdrItems=2,this._readOnly=!1,this._hdrFmt=t.culture.MultiSelect.itemsSelected,this.checkedItemsChanged=new t.Event,t.addClass(this.hostElement,"wj-multiselect"),this._tbx.readOnly=!0,this.checkedMemberPath=null,this.addEventListener(this.inputElement,"click",function(){o.isDroppedDown=!o.isDroppedDown}),this.removeEventListener(this.dropDown,"click"),this._updateHeader(),this.listBox.itemsChanged.addHandler(function(){o._updateHeader()}),this.listBox.checkedItemsChanged.addHandler(function(){o._updateHeader(),o.onCheckedItemsChanged()}),this.initialize(n)}return __extends(i,e),Object.defineProperty(i.prototype,"checkedMemberPath",{get:function(){var t=this.listBox.checkedMemberPath;return t!=i._DEF_CHECKED_PATH?t:null},set:function(e){e=t.asString(e),this.listBox.checkedMemberPath=e?e:i._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(e){this._maxHdrItems!=e&&(this._maxHdrItems=t.asNumber(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(e){e!=this._hdrFmt&&(this._hdrFmt=t.asString(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(e){e!=this._hdrFormatter&&(this._hdrFormatter=t.asFunction(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(e){this.listBox.checkedItems=t.asArray(e)},enumerable:!0,configurable:!0}),i.prototype.onCheckedItemsChanged=function(t){this.checkedItemsChanged.raise(this,t)},Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=t.asBoolean(e)},enumerable:!0,configurable:!0}),i.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._updateHeader()},i.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&this.dropDown.focus()},i.prototype._setText=function(){},i.prototype._updateHeader=function(){var e,i,n;if(this._hdrFormatter)this.inputElement.value=this._hdrFormatter();else{if(e=this.checkedItems,i="",e.length>0)if(e.length<=this._maxHdrItems){if(this.displayMemberPath)for(n=0;n<e.length;n++)e[n]=e[n][this.displayMemberPath];i=e.join(", ")}else i=t.format(this.headerFormat,{count:e.length});this.inputElement.value=i}this._updateState()},i._DEF_CHECKED_PATH="$checked",i}(e.ComboBox);e.MultiSelect=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";!function(t){t[t.None=0]="None",t[t.Click=1]="Click",t[t.Blur=2]="Blur"}(e.PopupTrigger||(e.PopupTrigger={}));var i=e.PopupTrigger,n=function(e){function n(n,o){var r,s=this;e.call(this,n,null,!0),this._showTrigger=i.Click,this._hideTrigger=i.Blur,this._fadeIn=!0,this._fadeOut=!0,this._click=this._handleClick.bind(this),this._visible=!1,this.showing=new t.Event,this.shown=new t.Event,this.hiding=new t.Event,this.hidden=new t.Event,r=this.hostElement,t.addClass(r,"wj-control wj-content wj-popup"),r.getAttribute("tabindex")||(r.tabIndex=0),t.hidePopup(r,!1),this.addEventListener(r,"keydown",function(e){if(!e.defaultPrevented&&(e.keyCode==t.Key.Escape&&(e.preventDefault(),s.hide()),e.keyCode==t.Key.Enter)){var i=s.dialogResultEnter;!i&&s.hostElement.querySelector("button[type=submit]")&&(i="submit"),i&&(e.preventDefault(),s._validateAndHide(i))}}),this.addEventListener(r,"keydown",function(e){!e.defaultPrevented&&s.modal&&e.keyCode==t.Key.Tab&&(e.preventDefault(),t.moveFocus(s.hostElement,e.shiftKey?-1:1))},!0),this.addEventListener(r,"click",function(t){var e,i,n;t.target instanceof HTMLElement&&(e=t.target,i=e.className.match(/\bwj-hide[\S]*\b/),i&&i.length>0&&(t.preventDefault(),s.hide(i[0])),e instanceof HTMLButtonElement&&(n=e.getAttribute("type"),n&&n.match(/submit/i)&&s._validateAndHide("submit")))}),this.addEventListener(document,"wheel",function(t){if(s.isVisible&&s._modal){for(var e=t.target;e&&e!=document.body;e=e.parentElement)if(e.scrollHeight>e.clientHeight)return;t.preventDefault(),t.stopPropagation()}}),this.initialize(o)}return __extends(n,e),Object.defineProperty(n.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner&&this.removeEventListener(this._owner,"click"),this._owner=null!=e?t.getElement(e):null,this._owner&&this.addEventListener(this._owner,"click",this._click,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(t){t!=this.content&&(this.hostElement.innerHTML="",t instanceof HTMLElement&&this.hostElement.appendChild(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(e){this._showTrigger=t.asEnum(e,i)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(e){this._hideTrigger=t.asEnum(e,i)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"modal",{get:function(){return this._modal},set:function(e){this._modal=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dialogResult",{get:function(){return this._result},set:function(t){this._result=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(t){this._resultEnter=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){var t=this.hostElement;return this._visible&&t&&"none"!=t.style.display},enumerable:!0,configurable:!0}),n.prototype.show=function(e,i){var n,o,r=this;!this.isVisible&&(this.dialogResult=null,this._callback=null,n=new t.CancelEventArgs,this.onShowing(n))&&(null!=e&&(this.modal=t.asBoolean(e)),null!=i&&(this._callback=t.asFunction(i)),this._modal&&this._showBackdrop(),o=this._owner?this._owner.getBoundingClientRect():null,t.showPopup(this.hostElement,o,!1,this._fadeIn),this._visible=!0,this.onShown(n),setTimeout(function(){if(!r.isTouching){var e=r.hostElement.querySelector("input[autofocus]");e&&e.clientHeight>0&&!e.disabled&&e.tabIndex>-1&&!t.closest(e,"[disabled],.wj-state-disabled")?(e.focus(),e.select()):t.moveFocus(r.hostElement,0)}r.containsFocus()||(r.hostElement.tabIndex=0,r.hostElement.focus())},200))},n.prototype.hide=function(e){if(this.isVisible){this.dialogResult=e;var i=new t.CancelEventArgs;this.onHiding(i)&&(this._modal&&t.hidePopup(this._bkdrop,!0,this.fadeOut),t.hidePopup(this.hostElement,!0,this.fadeOut),this._visible=!1,this.onHidden(i),this._callback&&this._callback(this))}},n.prototype.onShowing=function(t){return this.showing.raise(this,t),!t.cancel},n.prototype.onShown=function(t){this.shown.raise(this,t)},n.prototype.onHiding=function(t){return this.hiding.raise(this,t),!t.cancel},n.prototype.onHidden=function(t){this.hidden.raise(this,t)},n.prototype.dispose=function(){this._owner=null,e.prototype.dispose.call(this)},n.prototype.onLostFocus=function(t){this.isVisible&&this._hideTrigger&i.Blur&&(this.containsFocus()||this.hide()),e.prototype.onLostFocus.call(this,t)},n.prototype.refresh=function(i){if(void 0===i&&(i=!0),e.prototype.refresh.call(this,i),this.isVisible&&!this._refreshing){this._refreshing=!0;var n=t.getActiveElement(),o=this._owner?this._owner.getBoundingClientRect():null;t.showPopup(this.hostElement,o),this._modal&&n instanceof HTMLElement&&n!=t.getActiveElement()&&n.focus(),this._refreshing=!1}},n.prototype._handleResize=function(){this.isVisible&&this.refresh()},n.prototype._handleClick=function(){this.isVisible&&this._hideTrigger&i.Click?this.hide():!this.isVisible&&this._showTrigger&i.Click&&this.show()},n.prototype._showBackdrop=function(){var e=this;this._bkdrop||(this._bkdrop=document.createElement("div"),this._bkdrop.tabIndex=-1,t.addClass(this._bkdrop,"wj-popup-backdrop"),this.addEventListener(this._bkdrop,"mousedown",function(t){t.preventDefault(),t.stopPropagation(),e.hostElement.focus()})),this._bkdrop.style.display="",document.body.appendChild(this._bkdrop)},n.prototype._validateAndHide=function(t){var e=this.hostElement.querySelector(":invalid");e?e.focus():this.hide(t)},n}(t.Control);e.Popup=n}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(i){function n(n,o){var r,s=this;i.call(this,n),this._format="d",this.valueChanged=new t.Event,t.addClass(this.hostElement,"wj-inputdate"),this._msk=new t._MaskProvider(this._tbx),t.isIE9()||(this._tbx.type="tel"),this.addEventListener(this.hostElement,"wheel",function(i){if(!i.defaultPrevented&&!s.isDroppedDown&&s.containsFocus()&&null!=s.value&&s._canChangeValue()){var n=t.clamp(-i.deltaY,-1,1);s.value=s.selectionMode==e.DateSelectionMode.Month?t.DateTime.addMonths(s.value,n):t.DateTime.addDays(s.value,n),s.selectAll(),i.preventDefault()}}),this.value=t.DateTime.newDate(),"INPUT"==this._orgTag&&(r=this._tbx.getAttribute("value"),r&&(this.value=t.Globalize.parseDate(r,"yyyy-MM-dd"))),this.isRequired=!0,this.initialize(o)}return __extends(n,i),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(e){t.DateTime.equals(this._value,e)?this._tbx.value=t.Globalize.format(e,this.format):(e=t.asDate(e,!this.isRequired||null==e&&null==this._value),e=this._clamp(e),this._isValidDate(e)?(this._tbx.value=e?t.Globalize.format(e,this.format):"",e==this._value||t.DateTime.equals(this._value,e)||(this._value=e,this.onValueChanged())):this._tbx.value=e?t.Globalize.format(this.value,this.format):"",this.text!=this._oldText&&this.onTextChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(t){this.calendar.selectionMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this._min},set:function(e){this._min=t.asDate(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._max},set:function(e){this._max=t.asDate(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=t.asString(e),this._tbx.value=t.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(e){e!=this.itemValidator&&(this._calendar.itemValidator=t.asFunction(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(e){e!=this.itemFormatter&&(this.calendar.itemFormatter=t.asFunction(e))},enumerable:!0,configurable:!0}),n.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},n.prototype.refresh=function(){this.isDroppedDown=!1,this._msk&&this._msk.refresh(),this._calendar&&this._calendar.refresh(),this._tbx.value=t.Globalize.format(this.value,this.format)},n.prototype.onIsDroppedDownChanged=function(t){i.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&this.dropDown.focus()},n.prototype._createDropDown=function(){var i=this;this._calendar=new e.Calendar(this._dropDown),this._dropDown.tabIndex=-1,this._calendar.valueChanged.addHandler(function(){i.value=t.DateTime.fromDateTime(i._calendar.value,i.value)}),this.addEventListener(this._dropDown,"mouseup",function(n){var o=n.target,r=".wj-calendar-"+(i.selectionMode==e.DateSelectionMode.Month?"year":"month");t.hasClass(o,"wj-state-invalid")||null==t.closest(o,r)||null!=t.closest(o,".wj-header")?"btn-today"==o.getAttribute("wj-part")&&(i.isDroppedDown=!1):i.isDroppedDown=!1})},n.prototype._updateDropDown=function(){var t,n;this._commitText(),t=this._calendar,t.value=this.value,t.min=this.min,t.max=this.max,this.selectionMode!=e.DateSelectionMode.Month&&(t.monthView=!0),n=getComputedStyle(this.hostElement),this._dropDown.style.minWidth=18*parseFloat(n.fontSize)+"px",this._calendar.refresh(),i.prototype._updateDropDown.call(this)},n.prototype._keydown=function(n){if(!(n.defaultPrevented||n.altKey||n.ctrlKey||n.metaKey))switch(n.keyCode){case t.Key.Enter:this._commitText(),this.selectAll();break;case t.Key.Escape:this.text=t.Globalize.format(this.value,this.format),this.selectAll();break;case t.Key.Up:case t.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var o=n.keyCode==t.Key.Up?1:-1;this.value=this.selectionMode==e.DateSelectionMode.Month?t.DateTime.addMonths(this.value,o):t.DateTime.addDays(this.value,o),this.selectAll(),n.preventDefault()}}i.prototype._keydown.call(this,n)},n.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=e.DateSelectionMode.None},n.prototype._clamp=function(e){var i,n;return e&&(this.min&&(i=t.DateTime.fromDateTime(this.min,e),i>e&&(e=i)),this.max&&(n=t.DateTime.fromDateTime(this.max,e),e>n&&(e=n))),e},n.prototype._commitText=function(){var e,i=this._tbx.value;i||this.isRequired?(e=t.Globalize.parseDate(i,this.format),e?this.value=t.DateTime.fromDateTime(e,this.value):this._tbx.value=t.Globalize.format(this.value,this.format)):this.value=null},n.prototype._setDate=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},n.prototype._isValidDate=function(t){return this.itemValidator&&t?this.itemValidator(t):!0},n}(e.DropDown);e.InputDate=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(e){function i(i,n){if(e.call(this,i),this._format="t",this.valueChanged=new t.Event,t.addClass(this.hostElement,"wj-inputtime"),this._value=t.DateTime.newDate(),this._msk=new t._MaskProvider(this._tbx),t.isIE9()||(this._tbx.type="tel"),"INPUT"==this._orgTag){var o=this._tbx.getAttribute("value");o&&(this.value=t.Globalize.parseDate(o,"HH:mm:ss"))}this.step=15,this.autoExpandSelection=!0,this.initialize(n)}return __extends(i,e),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(e){e=t.asDate(e,!this.isRequired),e&&(null!=this._min&&this._getTime(e)<this._getTime(this._min)&&(e=t.DateTime.fromDateTime(e,this._min)),null!=this._max&&this._getTime(e)>this._getTime(this._max)&&(e=t.DateTime.fromDateTime(e,this._max))),this._setText(e?t.Globalize.format(e,this.format):"",!0),e==this._value||t.DateTime.equals(e,this._value)||(this._value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(t,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(e){this._min=t.asDate(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(e){this._max=t.asDate(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(e){this._step=t.asNumber(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=t.asString(e),this._tbx.value=t.Globalize.format(this.value,this.format),this.collectionView&&this.collectionView.items.length&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=t.asString(e)},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},i.prototype.refresh=function(){this.isDroppedDown=!1,this._msk.refresh(),this._tbx.value=t.Globalize.format(this.value,this.format),this._updateItems()},i.prototype.onSelectedIndexChanged=function(t){this.selectedIndex>-1&&this._commitText(),e.prototype.onSelectedIndexChanged.call(this,t)},i.prototype._updateItems=function(){var e,i,n=new Date(0,0,0,0,0),o=new Date(0,0,0,23,59,59),r=[];if(this.min&&n.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&o.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),t.isNumber(this.step)&&this.step>0)for(e=n;o>=e;e=t.DateTime.addMinutes(e,this.step))r.push(t.Globalize.format(e,this.format));i=this.text,this.itemsSource=r,this.text=i},i.prototype._getTime=function(t){return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds()},i.prototype._keydown=function(i){if(e.prototype._keydown.call(this,i),!i.defaultPrevented)switch(i.keyCode){case t.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case t.Key.Escape:this.text=t.Globalize.format(this.value,this.format),this.selectAll()}},i.prototype._commitText=function(){if(this.text||this.isRequired){var e=t.Globalize.parseDate(this.text,this.format);e?this.value=t.DateTime.fromDateTime(this.value,e):this._tbx.value=t.Globalize.format(this.value,this.format)}else this.value=null},i}(e.ComboBox);e.InputTime=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(i){function n(n,o){var r,s,a=this;i.call(this,n),t.addClass(this.hostElement,"wj-inputdatetime"),this._btnTm=this.hostElement.querySelector('[wj-part="btn-tm"]'),this._format="g",this._inputTime=new e.InputTime(document.createElement("div")),this._inputTime.valueChanged.addHandler(function(){a.value=t.DateTime.fromDateTime(a.value,a._inputTime.value),a.containsFocus()&&(a.isTouching&&a.showDropDownButton||a.selectAll())}),r=this._inputTime.dropDown,s=this._keydown.bind(this),this.addEventListener(r,"keydown",s,!0),this.addEventListener(r,"blur",function(){a._updateFocusState()},!0),this.addEventListener(this._btnTm,"click",this._btnclick.bind(this)),this.addEventListener(this._btn,"mousedown",function(){a._setDropdown(a.calendar.hostElement)}),this.addEventListener(this._btnTm,"mousedown",function(t){a.isDroppedDown&&a.dropDown==r&&t.preventDefault(),a._inputTime.dropDownCssClass=a.dropDownCssClass,a._setDropdown(r)}),this.initialize(o)}return __extends(n,i),Object.defineProperty(n.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(t){this._inputTime.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(t){this._inputTime.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(t){this._inputTime.format=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(t){this._inputTime.step=t},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){i.prototype.refresh.call(this),this._inputTime.refresh()},n.prototype._updateBtn=function(){i.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},n.prototype._clamp=function(t){return t&&(this.min&&t<this.min&&(t=this.min),this.max&&t>this.max&&(t=this.max)),t},n.prototype._commitText=function(){var e,i=this._tbx.value;i||this.isRequired?(e=t.Globalize.parseDate(i,this.format),e?this.value=e:this._tbx.value=t.Globalize.format(this.value,this.format)):this.value=null},n.prototype._setDropdown=function(t){this._dropDown!=t&&(this.isDroppedDown&&(this.isDroppedDown=!1),this._dropDown=t)},n.prototype._updateDropDown=function(){var t=this._inputTime;this._dropDown==t.dropDown?(this._commitText(),i.prototype._updateDropDown.call(this),t.isRequired=this.isRequired,t.value=this.value,this.isDroppedDown&&t.listBox.showSelection()):i.prototype._updateDropDown.call(this)},n.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span class="wj-input-group-btn" tabindex="-1"><button wj-part="btn" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100;width:auto"></div></div>',n}(e.InputDate);e.InputDateTime=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(e){function i(i,n){var o,r,s=this;e.call(this,i),this._showBtn=!0,this._readOnly=!1,this.textChanged=new t.Event,this.valueChanged=new t.Event,o=this.getTemplate(),this.applyTemplate("wj-control wj-inputnumber wj-content",o,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input"),r=this._tbx,r.autocomplete="off",r.spellcheck=!1,this._updateSymbols(),this.addEventListener(this._tbx,"compositionstart",function(){s._composing=!0}),this.addEventListener(this._tbx,"compositionend",function(){s._composing=!1,setTimeout(function(){s._setText(s.text)})}),this.addEventListener(r,"keypress",this._keypress.bind(this)),this.addEventListener(r,"keydown",this._keydown.bind(this)),this.addEventListener(r,"input",this._input.bind(this)),this.addEventListener(this._btnUp,"click",this._clickSpinner.bind(this)),this.addEventListener(this._btnDn,"click",this._clickSpinner.bind(this)),this.addEventListener(this.hostElement,"wheel",function(e){if(!e.defaultPrevented&&!s.isReadOnly&&s.containsFocus()&&null!=s.value){var i=t.clamp(-e.deltaY,-1,1);s.value+=(s.step||1)*i,setTimeout(function(){return s.selectAll()}),e.preventDefault()}}),this.value=0,this.isRequired=!0,this.initialize(n)}return __extends(i,e),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value)if(e=t.asNumber(e,!this.isRequired||null==e&&null==this._value),null==e)this._setText("");else if(!isNaN(e)){var i=t.Globalize.format(e,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"required",{get:function(){return t._deprecated("required","isRequired"),this.isRequired},set:function(e){t._deprecated("required","isRequired"),this.isRequired=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=t.asBoolean(e),this.inputElement.readOnly=this._readOnly},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(e){this._min=t.asNumber(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(e){this._max=t.asNumber(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(e){this._step=t.asNumber(e,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=t.asString(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._oldText=null,this._setText(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(e){this._showBtn=t.asBoolean(e),this._updateBtn()},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){t.setSelectionRange(this._tbx,0,this._tbx.value.length)},i.prototype.onTextChanged=function(t){this._updateState(),this.textChanged.raise(this,t)},i.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},i.prototype.onGotFocus=function(t){this.isTouching||(this._tbx.focus(),this.selectAll()),e.prototype.onGotFocus.call(this,t)},i.prototype.onLostFocus=function(t){this.value=this._clamp(this.value),e.prototype.onLostFocus.call(this,t)},i.prototype.refresh=function(){this._updateSymbols();var e=t.Globalize.format(this.value,this.format);this._setText(e)},i.prototype._updateSymbols=function(){var e=t.culture.Globalize.numberFormat;this._decChar=e["."]||".",this._currChar=e.currency.symbol||"$",this._rxSym=new RegExp("^[%+\\-() "+this._decChar+this._currChar+"]*$")},i.prototype._clamp=function(e){
return t.clamp(e,this.min,this.max)},i.prototype._isNumeric=function(t,e){void 0===e&&(e=!1);var i=t==this._decChar||t>="0"&&"9">=t;return i||e||(i="+-()".indexOf(t)>-1),i},i.prototype._getInputRange=function(t){var e;void 0===t&&(t=!1);var i=[0,0],n=this.text,o=!1;for(e=0;e<n.length;e++)this._isNumeric(n[e],t)&&(o||(i[0]=e,o=!0),i[1]=e+1);return i},i.prototype._moveToDigit=function(){var e=this._getInputRange(!0);t.setSelectionRange(this._tbx,e[0],e[1])},i.prototype._increment=function(e){if(e){var i=this._clamp(this.value+e),n=t.Globalize.format(i,this.format,!1,!1);this._setText(n)}},i.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},i.prototype._updateBtn=function(){this.showSpinner&&this.step&&null!=this.value?(this._btnUp.style.display=this._btnDn.style.display="",t.addClass(this.hostElement,"wj-input-show-spinner")):(this._btnUp.style.display=this._btnDn.style.display="none",t.removeClass(this.hostElement,"wj-input-show-spinner"))},i.prototype._setText=function(e){var i,n,o;if(!this._composing){if(!e){if(!this.isRequired)return this._tbx.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=e,this.onTextChanged()),void this._updateBtn();e="0"}if("-"==e||"("==e)return this._tbx.value=e,void t.setSelectionRange(this._tbx,1);if(e.length>1&&")"==e[e.length-1]&&"("!=e[0]&&(e=e.substr(0,e.length-1)),this._rxSym.test(e)&&(e="0"),i=this._format||(e.indexOf(this._decChar)>-1?"n2":"n0"),n=t.Globalize.parseFloat(e,i),isNaN(n))return void(this._tbx.value=this._oldText);e.indexOf("%")<0&&i.toLowerCase().indexOf("p")>-1&&(n/=100),o=t.Globalize.format(n,i,!1,!0),("n"==i||"g"==i[0].toLowerCase())&&this._tbx.selectionStart==this._tbx.value.length&&(e==o+this._decChar||e==o+this._decChar+"0")&&(o=e),this._tbx.value!=o&&(this._tbx.value=o,n=t.Globalize.parseFloat(o,this.format)),n!=this._value&&(this._value=n,this.onValueChanged()),this.text!=this._oldText&&(this.onTextChanged(),this._oldText=this.text),this._updateBtn()}},i.prototype._keypress=function(e){var i,n,o;if(!e.defaultPrevented&&!this._composing&&!this._readOnly&&e.charCode&&!e.ctrlKey)switch(i=String.fromCharCode(e.charCode),this._isNumeric(i)?(n=this._getInputRange(!0),this._tbx.selectionStart<n[0]&&t.setSelectionRange(this._tbx,n[0],n[1])):e.preventDefault(),i){case"-":this.value?(this.value*=-1,this._moveToDigit()):this._setText("-"),e.preventDefault();break;case"+":this.value=Math.abs(this.value),this._moveToDigit(),e.preventDefault();break;case this._decChar:o=this._tbx.value.indexOf(i),o>-1&&(this._getSelStart()<=o&&o++,t.setSelectionRange(this._tbx,o),e.preventDefault())}},i.prototype._keydown=function(e){var i,n=this;if(!e.defaultPrevented&&!this._composing)switch(e.keyCode){case t.Key.Up:case t.Key.Down:this.step&&(this._increment(this.step*(e.keyCode==t.Key.Up?1:-1)),setTimeout(function(){n.selectAll()}),e.preventDefault());break;case t.Key.Back:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._tbx.selectionStart,i>0&&this.text[i-1]==this._decChar&&(setTimeout(function(){t.setSelectionRange(n._tbx,i-1)}),e.preventDefault()));break;case t.Key.Delete:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._tbx.selectionStart,i>0&&this.text[i]==this._decChar&&(setTimeout(function(){t.setSelectionRange(n._tbx,i+1)}),e.preventDefault()))}},i.prototype._input=function(){var e=this;this._composing||setTimeout(function(){var i,n,o,r=e._tbx,s=r.value,a=e._getSelStart(),l=s?s.indexOf(e._decChar):-1;e._setText(s),e.containsFocus()&&(i=r.value,n=i.indexOf(e._decChar),s&&"-"==s[0]&&i&&"-"!=i[0]&&(s=null),s?l>=a&&n>-1||0>l&&0>n?a+=i.length-s.length:a==s.length&&0>l&&n>-1&&(a=n):a=n>-1?n:i.match(/[^\d]*$/).index,o=e._getInputRange(),a<o[0]&&(a=o[0]),a>o[1]&&(a=o[1]),t.setSelectionRange(r,a))})},i.prototype._clickSpinner=function(e){var i=this;e.defaultPrevented||this.isReadOnly||!this.step||null==this.value||(this._increment(this.step*(t.contains(this._btnUp,e.target)?1:-1)),this.isTouching||setTimeout(function(){return i.selectAll()}))},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">+</button></span></div>',i}(t.Control);e.InputNumber=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(e){function i(i,n){var o,r,s=this;e.call(this,i),this.valueChanged=new t.Event,o=this.getTemplate(),this.applyTemplate("wj-control wj-inputmask wj-content",o,{_tbx:"input"},"input"),"INPUT"==this._orgTag&&(r=this._tbx.getAttribute("value"),r&&(this.value=r)),this._msk=new t._MaskProvider(this._tbx),this.isRequired=!0,this.initialize(n),this.addEventListener(this._tbx,"input",function(){setTimeout(function(){s.onValueChanged()})})}return __extends(i,e),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._tbx.value},set:function(e){if(e!=this.value){this._tbx.value=t.asString(e);var i=t.getActiveElement();this._tbx.selectionStart=this._tbx.value.length,i&&i!=t.getActiveElement()&&i.focus(),e=this._msk._applyMask(),this._tbx.value=e,this.onValueChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(t){this.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){var i=this.value;this._msk.mask=t.asString(e),this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(t){var e=this.value;this._msk.promptChar=t,this.value!=e&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(t){this._tbx.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=t.asBoolean(e)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var e=this._msk.getMaskRange();t.setSelectionRange(this._tbx,e[0],e[1]+1)},i.prototype.onValueChanged=function(t){this._updateState(),this.valueChanged.raise(this,t)},i.prototype.refresh=function(t){e.prototype.refresh.call(this,t),this._msk.refresh()},i.prototype.onGotFocus=function(t){e.prototype.onGotFocus.call(this,t),this.selectAll()},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div>',i}(t.Control);e.InputMask=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i=function(i){function n(e,n){var o=this;i.call(this,e),this.valueChanged=new t.Event,t.addClass(this.hostElement,"wj-inputcolor"),this._tbx.style.paddingLeft="24px",this._ePreview=t.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>'),this.hostElement.style.position="relative",this.hostElement.appendChild(this._ePreview),"INPUT"==this._orgTag&&(this._tbx.type="",this._commitText()),this.value="#ffffff",this.isRequired=!0,this.initialize(n),this.addEventListener(this._colorPicker.hostElement,"click",function(e){var i,n=e.target;n&&"DIV"==n.tagName&&(t.closest(n,'[wj-part="div-pal"]')||t.closest(n,'[wj-part="div-pv"]'))&&(i=n.style.backgroundColor,i&&(o.isDroppedDown=!1))})}return __extends(n,i),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(e){e!=this.value&&(e||!this.isRequired)&&(this.text=t.asString(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(t.asString(e),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(t){this._colorPicker.showAlphaChannel=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),n.prototype.onValueChanged=function(t){this.valueChanged.raise(this,t)},n.prototype._createDropDown=function(){var i=this;this._colorPicker=new e.ColorPicker(this._dropDown),t.setCss(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){i.value=i._colorPicker.value})},n.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case t.Key.Enter:this._commitText(),this.selectAll();break;case t.Key.Escape:this.text=this.value,this.selectAll()}i.prototype._keydown.call(this,e)},n.prototype._commitText=function(){if(this.value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,void(this._ePreview.style.backgroundColor="");var e=t.Color.fromString(this.text);e?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:""}},n}(e.DropDown);e.InputColor=i}(e=t.input||(t.input={}))}(wijmo||(wijmo={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},wijmo;wijmo.culture.FlexGrid={groupHeaderFormat:"{name}: <b>{value} </b>({count:n0} items)"},function(t){var e;!function(e){"use strict";!function(t){t[t.None=0]="None",t[t.Column=1]="Column",t[t.Row=2]="Row",t[t.All=3]="All"}(e.HeadersVisibility||(e.HeadersVisibility={}));var i=e.HeadersVisibility,n=function(n){function o(o,r){var s,a,l,c=this;n.call(this,o,null,!0),this._szClient=new t.Size(0,0),this._ptScrl=new t.Point(0,0),this._rtl=!1,this._cellPadding=3,this._autoGenCols=!0,this._autoClipboard=!0,this._readOnly=!1,this._indent=14,this._autoSizeMode=e.AutoSizeMode.Both,this._hdrVis=i.All,this._alSorting=!0,this._alAddNew=!1,this._alDelete=!1,this._alResizing=e.AllowResizing.Columns,this._alDragging=e.AllowDragging.Columns,this._alMerging=e.AllowMerging.None,this._ssHdr=i.None,this._shSort=!0,this._shGroups=!0,this._shAlt=!0,this._deferResizing=!1,this._pSel=!0,this._pOutline=!0,this.itemsSourceChanged=new t.Event,this.scrollPositionChanged=new t.Event,this.selectionChanging=new t.Event,this.selectionChanged=new t.Event,this.loadingRows=new t.Event,this.loadedRows=new t.Event,this.updatingLayout=new t.Event,this.updatedLayout=new t.Event,this.resizingColumn=new t.Event,this.resizedColumn=new t.Event,this.autoSizingColumn=new t.Event,this.autoSizedColumn=new t.Event,this.draggingColumn=new t.Event,this.draggedColumn=new t.Event,this.resizingRow=new t.Event,this.resizedRow=new t.Event,this.autoSizingRow=new t.Event,this.autoSizedRow=new t.Event,this.draggingRow=new t.Event,this.draggedRow=new t.Event,this.groupCollapsedChanging=new t.Event,this.groupCollapsedChanged=new t.Event,this.sortingColumn=new t.Event,this.sortedColumn=new t.Event,this.beginningEdit=new t.Event,this.prepareCellForEdit=new t.Event,this.cellEditEnding=new t.Event,this.cellEditEnded=new t.Event,this.rowEditEnding=new t.Event,this.rowEditEnded=new t.Event,this.rowAdded=new t.Event,this.deletingRow=new t.Event,this.deletedRow=new t.Event,this.copying=new t.Event,this.copied=new t.Event,this.pasting=new t.Event,this.pasted=new t.Event,this.pastingCell=new t.Event,this.pastedCell=new t.Event,this.formatItem=new t.Event,this.updatingView=new t.Event,this.updatedView=new t.Event,this._mappedColumns=null,s=this.hostElement,t.isIE()&&(s.style.borderRadius="0px"),a=this.getTemplate(),this.applyTemplate("wj-control wj-flexgrid wj-content",a,{_root:"root",_eSz:"sz",_eCt:"cells",_eTL:"tl",_eCHdr:"ch",_eRHdr:"rh",_eTLCt:"tlcells",_eCHdrCt:"chcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),l=this._getDefaultRowHeight(),this.deferUpdate(function(){c._rows=new e.RowCollection(c,l),c._cols=new e.ColumnCollection(c,4*l),c._hdrRows=new e.RowCollection(c,l),c._hdrCols=new e.ColumnCollection(c,Math.round(1.25*l)),c._gpCells=new e.GridPanel(c,e.CellType.Cell,c._rows,c._cols,c._eCt),c._gpCHdr=new e.GridPanel(c,e.CellType.ColumnHeader,c._hdrRows,c._cols,c._eCHdrCt),c._gpRHdr=new e.GridPanel(c,e.CellType.RowHeader,c._rows,c._hdrCols,c._eRHdrCt),c._gpTL=new e.GridPanel(c,e.CellType.TopLeft,c._hdrRows,c._hdrCols,c._eTLCt),c._hdrRows.push(new e.Row),c._hdrCols.push(new e.Column),c._hdrCols[0].align="center",c._cf=new e.CellFactory,c._keyHdl=new e._KeyboardHandler(c),c._mouseHdl=new e._MouseHandler(c),c._edtHdl=new e._EditHandler(c),c._selHdl=new e._SelectionHandler(c),c._addHdl=new e._AddNewHandler(c),c._mrgMgr=new e.MergeManager(c),c._bndSortConverter=c._sortConverter.bind(c),c.initialize(r)}),this.addEventListener(this._root,"scroll",function(){c._updateScrollPosition()&&(c._afScrl&&cancelAnimationFrame(c._afScrl),c._afScrl=requestAnimationFrame(function(){c.finishEditing(),c._updateContent(!0),c._afScrl=null}))})}return __extends(o,n),o.prototype._handleResize=function(){n.prototype._handleResize.call(this),this._rcBounds=null},Object.defineProperty(o.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){e!=this._hdrVis&&(this._hdrVis=t.asEnum(e,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){var i=this;e!=this._stickyHdr&&(this._stickyHdr=t.asBoolean(e),this._updateStickyHeaders(),this.removeEventListener(window,"scroll"),this._stickyHdr&&this.addEventListener(window,"scroll",function(e){t.contains(e.target,i.hostElement)&&(i._toSticky&&cancelAnimationFrame(i._toSticky),i._toSticky=requestAnimationFrame(function(){var e=new t.CancelEventArgs;i.onUpdatingLayout(e)&&(i._updateStickyHeaders(),i.onUpdatedLayout(e)),i._toSticky=null}))},!0))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnLayout",{get:function(){for(var i,n,r,s,a,l=o._getSerializableProperties(e.Column),c=new e.Column,h=[],u=0;u<this.columns.length;u++){for(i=this.columns[u],n={},r=0;r<l.length;r++)s=l[r],a=i[s],a!=c[s]&&t.isPrimitive(a)&&"size"!=s&&(n[s]=a);h.push(n)}return JSON.stringify({columns:h})},set:function(e){var i=JSON.parse(t.asString(e));if(!i||null==i.columns)throw"Invalid columnLayout data.";this.columns.clear(),this.initialize(i)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=t.asBoolean(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(t){t!=this.imeEnabled&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),t&&(this._imeHdl=new e._ImeHandler(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(i){this._alResizing=t.asEnum(i,e.AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(i){this._autoSizeMode=t.asEnum(i,e.AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){this._alSorting=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=t.asBoolean(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=t.asBoolean(e))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(i){i!=this._alMerging&&(this._alMerging=t.asEnum(i,e.AllowMerging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){e!=this._ssHdr&&(this._ssHdr=t.asEnum(e,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(e){if(e!=this.showMarquee){var i=this._eMarquee.style;i.visibility="collapse",i.display=t.asBoolean(e)?"":"none",this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=t.asBoolean(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=t.asBoolean(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showAlternatingRows",{get:function(){return this._shAlt},set:function(e){e!=this._shAlt&&(this._shAlt=t.asBoolean(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=t.asString(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(i){i!=this._alDragging&&(this._alDragging=t.asEnum(i,e.AllowDragging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"itemsSource",{get:function(){return this._items},set:function(e){var i;e!=this._items&&(this._cv&&(i=t.tryCast(this._cv,t.collections.CollectionView),i&&i.sortConverter==this._bndSortConverter&&(i.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),i=t.tryCast(this._cv,t.collections.CollectionView),i&&!i.sortConverter&&(i.sortConverter=this._bndSortConverter)),this._bindGrid(!0),this.onItemsSourceChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(t.assert(null==e||t.isArray(e)||t.isString(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),o.prototype.getColumn=function(t){return this.columns.getColumn(t)},Object.defineProperty(o.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(t){this.rows.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(t){this.columns.frozen=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=t.asNumber(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(t){var e=this._root,i=-t.x;if(this._rtl)switch(o._getRtlMode()){case"rev":i=e.scrollWidth-e.clientWidth+t.x;break;case"neg":i=t.x;break;default:i=-t.x}e.scrollLeft=i,e.scrollTop=-t.y},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=t.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"scrollSize",{get:function(){return new t.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"cellFactory",{get:function(){return this._cf},set:function(i){i!=this._cf&&(this._cf=t.asType(i,e.CellFactory,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=t.asFunction(e),this.invalidate())},enumerable:!0,configurable:!0}),o.prototype.getCellData=function(t,e,i){return this.cells.getCellData(t,e,i)},o.prototype.getCellBoundingRect=function(t,e,i){return this.cells.getCellBoundingRect(t,e,i)},o.prototype.setCellData=function(t,e,i,n,o){return void 0===n&&(n=!0),void 0===o&&(o=!0),this.cells.setCellData(t,e,i,n,o)},o.prototype.hitTest=function(i,n){return t.isNumber(i)&&t.isNumber(n)&&(i=new t.Point(i,n)),new e.HitTestInfo(this,i)},o.prototype.getClipString=function(i){var n,o,r,s="",a=!0,l=!0;for(i=i?t.asType(i,e.CellRange):this.selection,n=i.topRow;n<=i.bottomRow;n++)if(this.rows[n].isVisible)for(a||(s+="\n"),a=!1,o=i.leftCol,l=!0;o<=i.rightCol;o++)this.columns[o].isVisible&&(l||(s+="	"),l=!1,r=this.cells.getCellData(n,o,!0).toString(),r=r.replace(/\t/g," "),s+=r);return s},o.prototype.setClipString=function(i,n){var o,r,s,a,l,c=null==n;n=n?t.asType(n,e.CellRange):this.selection,i=t.asString(i).replace(/\r\n/g,"\n").replace(/\r/g,"\n"),i&&"\n"==i[i.length-1]&&(i=i.substring(0,i.length-1)),c&&!n.isSingleCell&&(i=this._expandClipString(i,n)),o=new e.CellRange(n.topRow,n.leftCol),this.beginUpdate();var h,u=n.topRow,p=i.split("\n"),d=!1;for(r=0;r<p.length&&u<this.rows.length;r++,u++)if(this.rows[u].isVisible)for(s=p[r].split("	"),a=n.leftCol,l=0;l<s.length&&a<this.columns.length;l++,a++)this.columns[a].isVisible?this.columns[a].isReadOnly||this.rows[u].isReadOnly||(h=new e.CellRangeEventArgs(this.cells,new e.CellRange(u,a),s[l]),this.onPastingCell(h)&&this.cells.setCellData(u,a,h.data)&&(this.onPastedCell(h),d=!0),o.row2=Math.max(o.row2,u),o.col2=Math.max(o.col2,a)):l--;else r--;this.endUpdate(),this.collectionView&&d&&this.collectionView.refresh(),this.select(o)},o.prototype._expandClipString=function(t,e){var i,n,o,r,s;if(!t)return t;var a=t.split("\n"),l=a.length,c=0,h=[];for(r=0;l>r;r++){if(i=a[r].split("	"),h.push(i),r>1&&i.length!=c)return t;c=i.length}if(n=e.rowSpan,o=e.columnSpan,(n>1||o>1)&&(1==n&&(n=l),1==o&&(o=c),o%c==0&&n%l==0))for(t="",r=0;n>r;r++)for(s=0;o>s;s++)r>0&&0==s&&(t+="\n"),s>0&&(t+="	"),t+=h[r%l][s%c];return t},o.prototype.focus=function(){var e,i;if(this.activeEditor)return void this.activeEditor.focus();if(t.getActiveElement()!=this._eFocus){if(e=this.hostElement.getBoundingClientRect(),e.bottom>0&&e.right>0&&e.top<innerHeight&&e.left<innerWidth)return t.setCss(this._eFocus,{top:Math.max(0,-e.top),left:Math.max(0,-e.left)}),void this._eFocus.focus();if(i=this.cells.hostElement.querySelector(".wj-cell.wj-state-selected"))return void i.focus();n.prototype.focus.call(this)}},o.prototype.containsFocus=function(){var t=this._edtHdl?this._edtHdl._lbx:null;return n.prototype.containsFocus.call(this)||t&&t.containsFocus()},o.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,this._afScrl&&cancelAnimationFrame(this._afScrl),n.prototype.dispose.call(this)},o.prototype.refresh=function(t){void 0===t&&(t=!0),n.prototype.refresh.call(this,t),this.finishEditing(),t&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl),this.refreshCells(t)},o.prototype.refreshCells=function(t,e,i){this.isUpdating||(t?this._updateLayout():this._updateContent(e,i))},o.prototype.autoSizeColumn=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=4),this.autoSizeColumns(t,t,e,i)},o.prototype.autoSizeColumns=function(i,n,r,s){var a=this;void 0===r&&(r=!1),void 0===s&&(s=4);var l,c,h=0,u=r?this.topLeftCells:this.columnHeaders,p=r?this.rowHeaders:this.cells,d=this.viewRange;i=null==i?0:t.asInt(i),n=null==n?p.columns.length-1:t.asInt(n),t.asBoolean(r),t.asNumber(s),d.row=Math.max(0,d.row-1e3),d.row2=Math.min(d.row2+1e3,this.rows.length-1),this.deferUpdate(function(){var t,f,g,m=document.createElement("div");for(m.setAttribute(o._WJS_MEASURE,"true"),m.style.visibility="hidden",a.hostElement.appendChild(m),t=i;n>=t&&t>-1&&t<p.columns.length;t++){if(h=0,a.autoSizeMode&e.AutoSizeMode.Headers)for(f=0;f<u.rows.length;f++)u.rows[f].isVisible&&(g=a._getDesiredWidth(u,f,t,m),h=Math.max(h,g));if(a.autoSizeMode&e.AutoSizeMode.Cells)for(c=null,f=d.row;f<=d.row2&&f>-1&&f<p.rows.length;f++)p.rows[f].isVisible&&(!r&&t==p.columns.firstVisibleIndex&&p.rows.maxGroupLevel>-1?(g=a._getDesiredWidth(p,f,t,m),h=Math.max(h,g)):(l=p.getCellData(f,t,!0),l!=c&&(c=l,g=a._getDesiredWidth(p,f,t,m),h=Math.max(h,g))));p.columns[t].width=h+s+2}a.hostElement.removeChild(m)})},o.prototype.autoSizeRow=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=0),this.autoSizeRows(t,t,e,i)},o.prototype.autoSizeRows=function(i,n,r,s){var a=this;void 0===r&&(r=!1),void 0===s&&(s=0);var l=0,c=r?this.topLeftCells:this.rowHeaders,h=r?this.columnHeaders:this.cells;r=t.asBoolean(r),s=t.asNumber(s),i=null==i?0:t.asInt(i),n=null==n?h.rows.length-1:t.asInt(n),this.deferUpdate(function(){var t,r,u,p=document.createElement("div");for(p.setAttribute(o._WJS_MEASURE,"true"),p.style.visibility="hidden",a.hostElement.appendChild(p),t=i;n>=t&&t>-1&&t<h.rows.length;t++){if(l=0,a.autoSizeMode&e.AutoSizeMode.Headers)for(r=0;r<c.columns.length;r++)c.columns[r].renderSize>0&&(u=a._getDesiredHeight(c,t,r,p),l=Math.max(l,u));if(a.autoSizeMode&e.AutoSizeMode.Cells)for(r=0;r<h.columns.length;r++)h.columns[r].renderSize>0&&(u=a._getDesiredHeight(h,t,r,p),l=Math.max(l,u));h.rows[t].height=l+s}a.hostElement.removeChild(p)})},Object.defineProperty(o.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=t.asNumber(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),o.prototype.collapseGroupsToLevel=function(i){if(this.finishEditing()){var n=this.rows;n.deferUpdate(function(){for(var o,r=0;r<n.length;r++)o=t.tryCast(n[r],e.GroupRow),o&&(o.isCollapsed=o.level>=i)})}},Object.defineProperty(o.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(i){i!=this.selectionMode&&(this._selHdl.selectionMode=t.asEnum(i,e.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(t){this._selHdl.selection=t},enumerable:!0,configurable:!0}),o.prototype.select=function(t,e){void 0===e&&(e=!0),this._selHdl.select(t,e)},o.prototype.getSelectedState=function(t,e){return this.cells.getSelectedState(t,e,null)},Object.defineProperty(o.prototype,"selectedRows",{get:function(){var t,i,n=[];if(this.selectionMode==e.SelectionMode.ListBox)for(i=0;i<this.rows.length;i++)this.rows[i].isSelected&&n.push(this.rows[i]);else if(this.rows.length)for(t=this.selection,i=t.topRow;i>-1&&i<=t.bottomRow;i++)n.push(this.rows[i]);return n},set:function(i){var n=this;t.assert(this.selectionMode==e.SelectionMode.ListBox,"This property can be set only in ListBox mode."),i=t.asArray(i),this.deferUpdate(function(){for(var t,e,o=0,r=!0;o<n.rows.length;o++)t=n.rows[o],e=i&&i.indexOf(t)>-1,e&&r&&(r=!1,n.select(o,n.selection.col)),t.isSelected=e})},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectedItems",{get:function(){for(var t=this.selectedRows,e=0;e<t.length;e++)t[e]=t[e].dataItem;return t},set:function(i){var n=this;t.assert(this.selectionMode==e.SelectionMode.ListBox,"This property can be set only in ListBox mode."),i=t.asArray(i),this.deferUpdate(function(){for(var t,e,o=0,r=!0;o<n.rows.length;o++)t=n.rows[o],e=i&&i.indexOf(t.dataItem)>-1,e&&r&&(r=!1,n.select(o,n.selection.col)),t.isSelected=e})},enumerable:!0,configurable:!0}),o.prototype.scrollIntoView=function(e,i){var n,o;null==this._maxOffsetY&&this._updateLayout();var r=this.scrollPosition,s=this._szClient.width,a=this._szClient.height,l=this.cells._getFrozenPos();if(e=t.asInt(e),e>-1&&e<this._rows.length&&e>=this._rows.frozen){var c=this._rows[e],h=this.cells.height>a?Math.round(c.pos/(this.cells.height-a)*100)/100:0,u=Math.round(this._maxOffsetY*h),p=c.pos-u,d=p+c.renderSize-1;d>a-r.y&&(r.y=Math.max(-p,a-d)),p-l.y<-r.y&&(r.y=-(p-l.y))}return i=t.asInt(i),i>-1&&i<this._cols.length&&i>=this._cols.frozen&&(n=this._cols[i],o=n.pos+n.renderSize-1,o>-r.x+s&&(r.x=Math.max(-n.pos,s-o)),n.pos-l.x<-r.x&&(r.x=-(n.pos-l.x))),r.equals(this.scrollPosition)?!1:(this.scrollPosition=r,!0)},o.prototype.isRangeValid=function(t){return t.isValid&&t.bottomRow<this.rows.length&&t.rightCol<this.columns.length},o.prototype.startEditing=function(t,e,i,n){return void 0===t&&(t=!0),this._edtHdl.startEditing(t,e,i,n)},o.prototype.finishEditing=function(t){return void 0===t&&(t=!1),this._edtHdl.finishEditing(t)},Object.defineProperty(o.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"editRange",{get:function(){return this._edtHdl.editRange;
},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(i){i!=this._mrgMgr&&(this._mrgMgr=t.asType(i,e.MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),o.prototype.getMergedRange=function(t,e,i,n){return void 0===n&&(n=!0),this._mrgMgr?this._mrgMgr.getMergedRange(t,e,i,n):null},o.prototype.onItemsSourceChanged=function(t){this.itemsSourceChanged.raise(this,t)},o.prototype.onScrollPositionChanged=function(t){this.scrollPositionChanged.raise(this,t)},o.prototype.onSelectionChanging=function(t){return this.selectionChanging.raise(this,t),!t.cancel},o.prototype.onSelectionChanged=function(t){this.selectionChanged.raise(this,t)},o.prototype.onLoadingRows=function(t){return this.loadingRows.raise(this,t),!t.cancel},o.prototype.onLoadedRows=function(t){this.loadedRows.raise(this,t)},o.prototype.onUpdatingLayout=function(t){return this.updatingLayout.raise(this,t),!t.cancel},o.prototype.onUpdatedLayout=function(t){this.updatedLayout.raise(this,t)},o.prototype.onResizingColumn=function(t){return this.resizingColumn.raise(this,t),!t.cancel},o.prototype.onResizedColumn=function(t){this.resizedColumn.raise(this,t)},o.prototype.onAutoSizingColumn=function(t){return this.autoSizingColumn.raise(this,t),!t.cancel},o.prototype.onAutoSizedColumn=function(t){this.autoSizedColumn.raise(this,t)},o.prototype.onDraggingColumn=function(t){return this.draggingColumn.raise(this,t),!t.cancel},o.prototype.onDraggedColumn=function(t){this.draggedColumn.raise(this,t)},o.prototype.onResizingRow=function(t){return this.resizingRow.raise(this,t),!t.cancel},o.prototype.onResizedRow=function(t){this.resizedRow.raise(this,t)},o.prototype.onAutoSizingRow=function(t){return this.autoSizingRow.raise(this,t),!t.cancel},o.prototype.onAutoSizedRow=function(t){this.autoSizedRow.raise(this,t)},o.prototype.onDraggingRow=function(t){return this.draggingRow.raise(this,t),!t.cancel},o.prototype.onDraggedRow=function(t){this.draggedRow.raise(this,t)},o.prototype.onGroupCollapsedChanging=function(t){return this.groupCollapsedChanging.raise(this,t),!t.cancel},o.prototype.onGroupCollapsedChanged=function(t){this.groupCollapsedChanged.raise(this,t)},o.prototype.onSortingColumn=function(t){return this.sortingColumn.raise(this,t),!t.cancel},o.prototype.onSortedColumn=function(t){this.sortedColumn.raise(this,t)},o.prototype.onBeginningEdit=function(t){return this.beginningEdit.raise(this,t),!t.cancel},o.prototype.onPrepareCellForEdit=function(t){this.prepareCellForEdit.raise(this,t)},o.prototype.onCellEditEnding=function(t){return this.cellEditEnding.raise(this,t),!t.cancel},o.prototype.onCellEditEnded=function(t){this.cellEditEnded.raise(this,t)},o.prototype.onRowEditEnding=function(t){this.rowEditEnding.raise(this,t)},o.prototype.onRowEditEnded=function(t){this.rowEditEnded.raise(this,t)},o.prototype.onRowAdded=function(t){this.rowAdded.raise(this,t)},o.prototype.onDeletingRow=function(t){return this.deletingRow.raise(this,t),!t.cancel},o.prototype.onDeletedRow=function(t){this.deletedRow.raise(this,t)},o.prototype.onCopying=function(t){return this.copying.raise(this,t),!t.cancel},o.prototype.onCopied=function(t){this.copied.raise(this,t)},o.prototype.onPasting=function(t){return this.pasting.raise(this,t),!t.cancel},o.prototype.onPasted=function(t){this.pasted.raise(this,t)},o.prototype.onPastingCell=function(t){return this.pastingCell.raise(this,t),!t.cancel},o.prototype.onPastedCell=function(t){this.pastedCell.raise(this,t)},o.prototype.onFormatItem=function(t){this.formatItem.raise(this,t)},o.prototype.onUpdatingView=function(t){return this.updatingView.raise(this,t),!t.cancel},o.prototype.onUpdatedView=function(t){this.updatedView.raise(this,t)},o.prototype._getDefaultRowHeight=function(){var e,i,n,o=this.hostElement,r=document.body,s=null;if(r&&!t.contains(r,o)){for(e=o;e;e=e.parentElement)s=e;s&&r.appendChild(s)}return i=t.createElement('<div class="wj-cell">123</div>',o),n=i.scrollHeight+2,o.removeChild(i),s&&r.removeChild(s),(6>=n||isNaN(n)||!r)&&(n=28),n},o.prototype._getCollectionView=function(e){return t.asCollectionView(e)},o.prototype._getDesiredWidth=function(t,e,i,n){var o,r=this.getMergedRange(t,e,i);return this.cellFactory.updateCell(t,e,i,n,r),n.style.width="",o=n.offsetWidth,r&&r.columnSpan>1?o/r.columnSpan:o},o.prototype._getDesiredHeight=function(t,e,i,n){var o,r=this.getMergedRange(t,e,i);return this.cellFactory.updateCell(t,e,i,n,r),n.style.height="",o=n.offsetHeight,r&&r.rowSpan>1?o/r.rowSpan:o},o.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},o.prototype._sortConverter=function(t,e,i,n){var o,r,s,a;if(n){if(this._mappedColumns=null,this.collectionView)for(r=this.collectionView.sortDescriptions,s=0;s<r.length;s++)o=this.columns.getColumn(r[s].property),o&&o.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[o.binding]=o.dataMap);this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(o=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&o.dataMap&&(this._mappedColumns[o.binding]=o.dataMap))}return this._mappedColumns&&(a=this._mappedColumns[t.property],a&&a.sortByDisplayValues&&(i=a.getDisplayValue(i))),i},o.prototype._bindGrid=function(i){var n=this;this.deferUpdate(function(){var o,r,s,a,l,c,h,u;if(0==n._lastCount&&n._cv&&n._cv.items&&n._cv.items.length&&(i=!0),o=[],n.preserveSelectedState&&n.selectionMode==e.SelectionMode.ListBox)for(c=0;c<n.rows.length;c++)r=n.rows[c],r.isSelected&&r.dataItem&&o.push(r.dataItem);if(n.preserveOutlineState&&t.isFunction(window.Map)&&n.rows.maxGroupLevel>-1)for(s=new Map,c=0;c<n.rows.length;c++)h=n.rows[c],h instanceof e.GroupRow&&h.isCollapsed&&h.dataItem&&(u=h.dataItem,u instanceof t.collections.CollectionViewGroup&&(u=u._path),s.set(u,!0));if(i&&n.columns.deferUpdate(function(){n._bindColumns()}),n.rows.deferUpdate(function(){n._bindRows()}),a=0,o.length)for(c=0;c<n.rows.length&&a<o.length;c++)o.indexOf(n.rows[c].dataItem)>-1&&(n.rows[c].isSelected=!0,a++);if(n.selectionMode==e.SelectionMode.ListBox&&0==a)for(l=n.selection,c=l.topRow;c<=l.bottomRow&&c>-1&&c<n.rows.length;c++)n.rows[c].isSelected=!0;if(s)for(c=0;c<n.rows.length;c++)h=n.rows[c],h instanceof e.GroupRow&&(u=h.dataItem,u instanceof t.collections.CollectionViewGroup&&(u=u._path),s.get(u)&&(h.isCollapsed=!0));!n._lastCount&&n._cv&&n._cv.items&&(n._lastCount=n._cv.items.length)}),this.collectionView&&this._cvCurrentChanged(this.collectionView,t.EventArgs.empty)},o.prototype._cvCollectionChanged=function(i,n){var o;if(this.autoGenerateColumns&&0==this.columns.length)return void this._bindGrid(!0);if(this.childItemsPath&&n.action!=t.collections.NotifyCollectionChangedAction.Change)return void this._bindGrid(!1);switch(n.action){case t.collections.NotifyCollectionChangedAction.Change:return void this.invalidate();case t.collections.NotifyCollectionChangedAction.Add:if(n.index==this.collectionView.items.length-1)return o=this.rows.length,this.rows[o-1]instanceof e._NewRowTemplate&&o--,void this.rows.insert(o,new e.Row(n.item));t.assert(!1,"added item should be the last one.");break;case t.collections.NotifyCollectionChangedAction.Remove:if(o=this._findRow(n.item),o>-1)return this.rows.removeAt(o),void this._cvCurrentChanged(i,n);t.assert(!1,"removed item not found in grid.")}this._bindGrid(!1)},o.prototype._cvCurrentChanged=function(){if(this.collectionView){var i=this.selection,n=i.row>-1&&i.row<this.rows.length?this.rows[i.row].dataItem:null;n instanceof t.collections.CollectionViewGroup&&(n=null),n!=this.collectionView.currentItem&&(i.row=i.row2=this._getRowIndex(this.collectionView.currentPosition),this.select(i,!1),this.selectionMode!=e.SelectionMode.None&&this.scrollIntoView(i.row,-1))}},o.prototype._getRowIndex=function(t){var i,t,n;if(this.collectionView){if(t>-1){for(i=this.collectionView.items[t];t<this.rows.length;t++)if(this.rows[t].dataItem===i)return t;return-1}return 1==this.rows.length&&this.rows[0]instanceof e._NewRowTemplate?0:(t=this.selection.row,n=t>-1?this.rows[t]:null,n&&(n instanceof e.GroupRow||null==n.dataItem)?t:-1)}return this.selection.row},o.prototype._getCvIndex=function(t){if(t>-1&&this.collectionView){var e=this.rows[t].dataItem;for(t=Math.min(t,this.collectionView.items.length);t>-1;t--)if(this.collectionView.items[t]===e)return t}return-1},o.prototype._findRow=function(t){for(var e=0;e<this.rows.length;e++)if(this.rows[e].dataItem==t)return e;return-1},o.prototype._updateLayout=function(){var e,n,r,s=new t.CancelEventArgs;if(this.onUpdatingLayout(s)){var a=this._rows.getTotalSize(),l=this._hdrVis&i.Row?this._hdrCols.getTotalSize():0,c=this._hdrVis&i.Column?this._hdrRows.getTotalSize():0;1>a&&(a=1),this._rtl=this.hostElement?"rtl"==getComputedStyle(this.hostElement).direction:!1,this._heightBrowser=Math.min(a,o._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,a-this._heightBrowser),this.cells.hostElement&&(e=t.createElement('<div class="wj-cell"></div>',this.cells.hostElement),n=getComputedStyle(e),this._cellPadding=parseInt(this._rtl?n.paddingRight:n.paddingLeft),e.parentElement.removeChild(e)),this._rtl?(t.setCss(this._eTL,{right:0,top:0,width:l,height:c}),t.setCss(this._eCHdr,{top:0,right:l,height:c}),t.setCss(this._eRHdr,{right:0,top:c,width:l}),t.setCss(this._eCt,{right:l,top:c,width:this._gpCells.width,height:this._heightBrowser})):(t.setCss(this._eTL,{left:0,top:0,width:l,height:c}),t.setCss(this._eCHdr,{top:0,left:l,height:c}),t.setCss(this._eRHdr,{left:0,top:c,width:l}),t.setCss(this._eCt,{left:l,top:c,width:this._gpCells.width,height:this._heightBrowser})),this._stickyHdr&&this._updateStickyHeaders();var h=this._root,u=h.offsetWidth-h.clientWidth,p=h.offsetHeight-h.clientHeight;t.setCss(this._eSz,{width:l+u+this._gpCells.width,height:c+p+this._heightBrowser}),r=null,this.columns._updateStarSizes(h.clientWidth-l)&&(r=h.clientWidth,this._eCt.style.width=this._gpCells.width+"px"),this._szClient=new t.Size(h.clientWidth-l,h.clientHeight-c),this._rcBounds=null,this._updateContent(!1),u=h.offsetWidth-h.clientWidth,p=h.offsetHeight-h.clientHeight,t.setCss(this._eSz,{width:l+u+this._gpCells.width,height:c+p+this._heightBrowser}),this._szClient=new t.Size(h.clientWidth-l,h.clientHeight-c),r&&r!=h.clientWidth&&this.columns._updateStarSizes(h.clientWidth-l)&&(this._eCt.style.width=this._gpCells.width+"px",this._updateContent(!1)),this._eCHdr.style.width=this._szClient.width+"px",this._eRHdr.style.height=this._szClient.height+"px",this.onUpdatedLayout(s)}},o.prototype._updateStickyHeaders=function(){var e,i,n,r,s=!1,a=0;if(this._stickyHdr){for(e=0,i=null,n=this.hostElement;n;n=n.parentElement)r=n.getBoundingClientRect(),null==i&&(i=r.top),e=Math.max(e,r.top);i=Math.max(0,e-i-1),a=-i,s=i>0}this._eTL.style.top=this._eCHdr.style.top=s?-a+"px":"",t.toggleClass(this._eTL,o._WJS_STICKY,s),t.toggleClass(this._eCHdr,o._WJS_STICKY,s)},o.prototype._updateScrollPosition=function(){var e,i=this._root,n=i.scrollTop,r=i.scrollLeft;return this._rtl&&"rev"==o._getRtlMode()&&(r=i.scrollWidth-i.clientWidth-r),e=new t.Point(-Math.abs(r),-n),this._ptScrl.equals(e)?!1:(this._ptScrl=e,this.onScrollPositionChanged(),!0)},o.prototype._updateContent=function(e,n){var o,r,s,a=this,l=this.containsFocus(),c=(t.contains(this.columnHeaders.hostElement,t.getActiveElement()),new t.CancelEventArgs);if(this.onUpdatingView(c)){if(this._offsetY=0,this._heightBrowser>this._szClient.height&&(o=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100,this._offsetY=Math.round(this._maxOffsetY*o)),this._updateScrollPosition(),this._gpCells._updateContent(e,n,this._offsetY),this._hdrVis&i.Column&&(!n||this._ssHdr&i.Column)&&this._gpCHdr._updateContent(e,n,0),this._hdrVis&i.Row&&(!n||this._ssHdr&i.Row)&&this._gpRHdr._updateContent(e,n,this._offsetY),this._hdrVis&&!n&&this._gpTL._updateContent(e,n,0),this.showMarquee)if(r=this._selHdl._sel,s=this._eMarquee,this.isRangeValid(r)){var h=this._getMarqueeRect(r),u=s.firstChild,p=s.offsetWidth-u.offsetWidth,d=s.offsetHeight-u.offsetHeight;t.setCss(s,{left:h.left+this.cells.hostElement.offsetLeft-p/2,top:h.top+this.cells.hostElement.offsetTop-d/2,width:h.width+p,height:h.height+d,visibility:h.width>0&&h.height>0?"":"collapse"})}else t.setCss(s,{left:0,top:0,width:0,height:0,visibility:"collapse"});l&&!n&&setTimeout(function(){a.focus()},10),this._rcBounds=null,this.onUpdatedView(c)}},o.prototype._getMarqueeRect=function(i){var n,o,r,s=this.getMergedRange(this.cells,i.topRow,i.leftCol)||new e.CellRange(i.topRow,i.leftCol),a=this.getMergedRange(this.cells,i.bottomRow,i.rightCol)||new e.CellRange(i.bottomRow,i.rightCol),l=this.cells.getCellBoundingRect(s.topRow,s.leftCol,!0),c=this.cells.getCellBoundingRect(a.bottomRow,a.rightCol,!0);if(this.rows.frozen){if(n=Math.min(this.rows.length,this.rows.frozen),r=this.cells.getCellBoundingRect(n-1,0,!0),i.bottomRow>=n&&c.bottom<r.bottom)return new t.Rect(0,0,0,0);i.topRow>=n&&l.top<r.bottom&&(l.top=r.bottom)}if(this.columns.frozen)if(o=Math.min(this.columns.length,this.columns.frozen),r=this.cells.getCellBoundingRect(0,o-1,!0),this._rtl){if(i.rightCol>=o&&c.left>r.left)return new t.Rect(0,0,0,0);i.leftCol>=o&&l.right>r.left&&(l.left=r.left-l.width)}else{if(i.rightCol>=o&&c.right<r.right)return new t.Rect(0,0,0,0);i.leftCol>=o&&l.left<r.right&&(l.left=r.right)}return this._rtl?new t.Rect(c.left,l.top,l.right-c.left,c.bottom-l.top):new t.Rect(l.left,l.top,c.right-l.left,c.bottom-l.top)},o.prototype._bindColumns=function(){for(var i,n,o,r,s,a=0;a<this.columns.length;a++)i=this.columns[a],i._getFlag(e.RowColFlags.AutoGenerated)&&(this.columns.removeAt(a),a--);if(n=null,o=this.collectionView,o&&o.sourceCollection&&o.sourceCollection.length&&(n=o.sourceCollection[0]),n&&this.autoGenerateColumns)for(r in n)t.isPrimitive(n[r])&&(i=new e.Column,i._setFlag(e.RowColFlags.AutoGenerated,!0),i.binding=i.name=r,i.header=t.toHeaderCase(r),i.dataType=t.getType(n[r]),i.dataType==t.DataType.Number&&(i.width=80),s=Object.getOwnPropertyDescriptor(n,r),!s||s.writable||t.isFunction(s.set)||i._setFlag(e.RowColFlags.ReadOnly,!0),this.columns.push(i));this._updateColumnTypes()},o.prototype._updateColumnTypes=function(){var e,i,n,o,r=this.collectionView;if(t.hasItems(r))for(e=r.items[0],i=this.columns,n=0;n<i.length;n++)o=i[n],null==o.dataType&&o._binding&&(o.dataType=t.getType(o._binding.getValue(e)))},o.prototype._getBindingColumn=function(t,e,i){return i},o.prototype._bindRows=function(){var e,i,n,o,r=new t.CancelEventArgs;if(this.onLoadingRows(r)){if(this.rows.clear(),e=this.collectionView,e&&e.items)if(i=e.items,n=e.groups,this.childItemsPath)for(o=0;o<i.length;o++)this._addNode(i,o,0);else if(null!=n&&n.length>0&&this.showGroups)for(o=0;o<n.length;o++)this._addGroup(n[o]);else for(o=0;o<i.length;o++)this._addBoundRow(i,o);this.onLoadedRows(r)}},o.prototype._addBoundRow=function(t,i){this.rows.push(new e.Row(t[i]))},o.prototype._addNode=function(i,n,o){var r,s=new e.GroupRow,a=this.childItemsPath,l=t.isArray(a)?a[o]:a,c=i[n],h=c[l];if(s.dataItem=c,s.level=o,this.rows.push(s),h)for(r=0;r<h.length;r++)this._addNode(h,r,o+1)},o.prototype._addGroup=function(t){var i,n,o=new e.GroupRow;if(o.level=t.level,o.dataItem=t,this.rows.push(o),t.isBottomLevel)for(i=t.items,n=0;n<i.length;n++)this._addBoundRow(i,n);else for(n=0;n<t.groups.length;n++)this._addGroup(t.groups[n])},o._getSerializableProperties=function(t){var e,i,n,o,r=[];for(t=t.prototype;t!=Object.prototype;t=Object.getPrototypeOf(t))for(e=Object.getOwnPropertyNames(t),i=0;i<e.length;i++)n=e[i],o=Object.getOwnPropertyDescriptor(t,n),o&&o.set&&o.get&&"_"!=n[0]&&!n.match(/disabled|required/)&&r.push(n);return r},o.prototype._copy=function(i,n){var o,r,s;if("columns"==i){for(this.columns.clear(),o=t.asArray(n),r=0;r<o.length;r++)s=new e.Column,t.copy(s,o[r]),this.columns.push(s);return!0}return!1},o.prototype._isInputElement=function(t){if(t instanceof HTMLElement){var e=t.tagName.match(/INPUT|SELECT|TEXTAREA|BUTTON|A/);return e&&e.length>0}return!1},o._getMaxSupportedCssHeight=function(){var t;if(!o._maxCssHeight){var e=1e6,i=document.createElement("div");for(i.style.visibility="hidden",document.body.appendChild(i),t=e;6e7>=t&&(i.style.height=t+"px",i.offsetHeight==t);t+=5e5)e=t;document.body.removeChild(i),o._maxCssHeight=e}return o._maxCssHeight},o._getRtlMode=function(){var e,i,n;return o._rtlMode||(e=t.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"></div></div>'),document.body.appendChild(e),i=e.scrollLeft,e.scrollLeft=-1e3,n=e.scrollLeft,document.body.removeChild(e),o._rtlMode=0>n?"neg":i>0?"rev":"std"),o._rtlMode},o._WJS_STICKY="wj-state-sticky",o._WJS_MEASURE="wj-state-measuring",o.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="focus" tabIndex="0" style="position:absolute;opacity:0;pointer-events:none;left:-10px;top:-10px"></div><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;max-width:inherit;max-height:inherit;boxSizing:content-box"><div wj-part="cells" class="wj-cells" style="position:relative"></div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none"><div style="width:100%;height:100%"></div></div></div><div wj-part="rh" style="position:absolute;overflow:hidden;outline:none"><div wj-part="rhcells" class="wj-rowheaders" style="position:relative"></div></div><div wj-part="ch" style="position:absolute;overflow:hidden;outline:none"><div wj-part="chcells" class="wj-colheaders" style="position:relative"></div></div><div wj-part="tl" style="position:absolute;overflow:hidden;outline:none"><div wj-part="tlcells" class="wj-topleft" style="position:relative"></div></div><div wj-part="sz" style="position:relative;visibility:hidden"></div></div>',o}(t.Control);e.FlexGrid=n}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i,n=function(i){function n(n,o,r){i.call(this),this._p=t.asType(n,e.GridPanel),this._rng=t.asType(o,e.CellRange),this._data=r}return __extends(n,i),Object.defineProperty(n.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),n}(t.CancelEventArgs);e.CellRangeEventArgs=n,i=function(e){function i(i,n,o){e.call(this,i,n),this._cell=t.asType(o,HTMLElement)}return __extends(i,e),Object.defineProperty(i.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),i}(n),e.FormatItemEventArgs=i}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";!function(t){t[t.None=0]="None",t[t.Cell=1]="Cell",t[t.ColumnHeader=2]="ColumnHeader",t[t.RowHeader=3]="RowHeader",t[t.TopLeft=4]="TopLeft"}(e.CellType||(e.CellType={}));var i=e.CellType,n=function(){function n(i,o,r,s,a){this._offsetY=0,this._g=t.asType(i,e.FlexGrid),this._ct=t.asInt(o),this._rows=t.asType(r,e.RowCollection),this._cols=t.asType(s,e.ColumnCollection),this._e=t.asType(a,HTMLElement),this._rng=new e.CellRange,n._evtBlur||(n._evtBlur=document.createEvent("HTMLEvents"),n._evtBlur.initEvent("blur",!0,!1))}return Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewRange",{get:function(){return this._getViewRange(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),n.prototype.getCellData=function(n,o,r){var s,a,l,c=this._rows[t.asNumber(n,!1,!0)],h=null;if(t.isString(o)&&(o=this._cols.indexOf(o),0>o))throw"Invalid column name or binding.";if(s=this._cols[t.asNumber(o,!1,!0)],a=this._g?this._g._getBindingColumn(this,n,s):s,!a.binding||!c.dataItem||c.dataItem instanceof t.collections.CollectionViewGroup?c._ubv&&(h=c._ubv[s._hash]):h=a._binding.getValue(c.dataItem),null==h)switch(this._ct){case i.ColumnHeader:(n==this._rows.length-1||a!=s)&&(h=a.header);break;case i.Cell:s.aggregate!=t.Aggregate.None&&c instanceof e.GroupRow&&(l=t.tryCast(c.dataItem,t.collections.CollectionViewGroup),l&&(h=l.getAggregate(a.aggregate,a.binding,this._g.collectionView)))}return r&&(this.cellType==i.Cell&&a.dataMap&&(h=a.dataMap.getDisplayValue(h)),h=null!=h?t.Globalize.format(h,a.format):""),h},n.prototype.setCellData=function(e,n,o,r,s){var a,l,c,h,u,p,d,f,g;if(void 0===r&&(r=!0),void 0===s&&(s=!0),a=this._rows[t.asNumber(e,!1,!0)],t.isString(n)&&(n=this._cols.indexOf(n),0>n))throw"Invalid column name or binding.";if(l=this._cols[t.asNumber(n,!1,!0)],c=this._g?this._g._getBindingColumn(this,e,l):l,this._ct==i.Cell){if(c.dataMap&&null!=o&&(c.isRequired||""!=o&&null!=o))if(h=c.dataMap,u=h.getKeyValue(o),null==u){if(!h.isEditable||h.displayMemberPath!=h.selectedValuePath)return!1}else o=u;if(p=t.DataType.Object,c.dataType?p=c.dataType:(d=this.getCellData(e,n,!1),p=t.getType(d)),t.isBoolean(c.isRequired))if(c.isRequired||""!==o&&null!==o){if(c.isRequired&&(""===o||null===o))return!1}else o=null,r=!1;if(r&&(o=t.changeType(o,p,c.format),p!=t.DataType.Object&&t.getType(o)!=p))return!1}if(a.dataItem&&c.binding){var m=c._binding,_=a.dataItem,y=m.getValue(_);o!==y&&!t.DateTime.equals(o,y)&&(m.setValue(_,o),f=this._g.collectionView,f instanceof t.collections.CollectionView&&_!=f.currentEditItem)&&(g=new t.collections.NotifyCollectionChangedEventArgs(t.collections.NotifyCollectionChangedAction.Change,_,f.items.indexOf(_)),f.onCollectionChanged(g))}else a._ubv||(a._ubv={}),a._ubv[l._hash]=o;return s&&this._g&&this._g.invalidate(),!0},n.prototype.getCellBoundingRect=function(e,i,n){var o,r,s=this.rows[e],a=this.columns[i],l=new t.Rect(a.pos,s.pos,a.renderSize,s.renderSize);return this._g._rtl&&(l.left=this.hostElement.clientWidth-l.right,t.isIE()||(o=this.hostElement.parentElement,l.left-=o.offsetWidth-o.clientWidth)),n||(r=this.hostElement.getBoundingClientRect(),l.left+=r.left,l.top+=r.top-this._offsetY),e<this.rows.frozen&&(l.top-=this._g.scrollPosition.y),i<this.columns.frozen&&(l.left-=this._g.scrollPosition.x*(this._g._rtl?-1:1)),l},n.prototype.getSelectedState=function(t,n,o){var r=this._g,s=r.selectionMode,a=r._selHdl._sel;if(s!=e.SelectionMode.None)switch(this._ct){case i.Cell:if(o||(o=r.getMergedRange(this,t,n)),o){if(o.contains(a.row,a.col))return r.showMarquee?e.SelectedState.None:e.SelectedState.Cursor;if(o.intersects(a))return e.SelectedState.Selected}return a.row==t&&a.col==n?r.showMarquee?e.SelectedState.None:e.SelectedState.Cursor:r.rows[t].isSelected||r.columns[n].isSelected?e.SelectedState.Selected:(a=r._selHdl._adjustSelection(a),s==e.SelectionMode.ListBox?e.SelectedState.None:a.containsRow(t)&&a.containsColumn(n)?e.SelectedState.Selected:e.SelectedState.None);case i.ColumnHeader:if(r.showSelectedHeaders&e.HeadersVisibility.Column&&(r.columns[n].isSelected||a.containsColumn(n)||a.intersectsColumn(o))&&(o&&(t=o.bottomRow),t==this.rows.length-1))return e.SelectedState.Selected;break;case i.RowHeader:if(r.showSelectedHeaders&e.HeadersVisibility.Row&&(r.rows[t].isSelected||a.containsRow(t)||a.intersectsRow(o))&&(o&&(n=o.rightCol),n==this.columns.length-1))return e.SelectedState.Selected}return e.SelectedState.None},Object.defineProperty(n.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),n.prototype._getOffsetY=function(){return this._offsetY},n.prototype._updateContent=function(e,o,r){var s,a,l,c,h,u,p,d,f,g=this._g,m=this._rows,_=this._cols;if((this._ct==i.ColumnHeader||this._ct==i.RowHeader)&&(c=g._ptScrl,h=this._e.style,this.cellType==i.ColumnHeader?g._rtl?h.right=c.x+"px":h.left=c.x+"px":this.cellType==i.RowHeader&&(h.top=c.y+"px")),this._offsetY!=r&&(e=!1,this._offsetY=r),u=this._getViewRange(!1),p=e&&g.isTouching?this._getViewRange(!0):u,!e||o||m.frozen||_.frozen||!this._rng.contains(u)){if(e&&p.equals(this._rng)||(o=!1),!e){var y=t.getActiveElement(),w=t.contains(this._e,y)?y:null,b=this._g.cellFactory;for(f=0;f<this._e.childElementCount;f++)b.disposeCell(this._e.children[f]);t.setText(this._e,null),w&&w.dispatchEvent(n._evtBlur),this._rowIdx=[]}for(e&&this._ct!=i.TopLeft&&this._reorderCells(p,this._rng),this._rng=p,a=0,this._rowIdx=[],s=p.topRow;s<=p.bottomRow&&s>-1;s++)this._rowIdx.push(a),a=this._renderRow(s,p,!1,o,a);for(this._rowIdx.push(a),s=p.topRow;s<=p.bottomRow&&s>-1;s++)a=this._renderRow(s,p,!0,o,a);for(s=0;s<m.frozen&&s<m.length;s++)a=this._renderRow(s,p,!1,o,a);for(s=0;s<m.frozen&&s<m.length;s++)a=this._renderRow(s,p,!0,o,a);for(d=this._e.childElementCount,f=a;d>f;f++)l=this._e.children[f],l.style.display="none"}},n.prototype._reorderCells=function(t,i){var n,o,r,s,a,l,c,h,u;if(this._rowIdx&&!(this._rows.frozen>0)&&!(this._cols.frozen>0)&&t.columnSpan==i.columnSpan&&t.rowSpan==i.rowSpan&&i.isValid&&t.isValid&&t.intersects(i)&&(t.row!=i.row&&(o=t.row-i.row,r=Math.max(1,t.rowSpan-1),0!=o&&Math.abs(o)<r&&(o>0&&(u=this._createRange(0,this._rowIdx[o]),this._e.appendChild(u.extractContents())),0>o&&(n=this._rowIdx.length-1,u=this._createRange(this._rowIdx[n+o],this._rowIdx[n]),this._e.insertBefore(u.extractContents(),this._e.firstChild)))),t.col!=i.col&&(o=t.col-i.col,r=Math.max(1,t.columnSpan-1),0!=o&&Math.abs(o)<r)))for(s=this._e.childElementCount,a=0;a<this._rowIdx.length-1;a++)l=this.rows[t.topRow+a],l instanceof e.GroupRow||(c=this._rowIdx[a],h=this._rowIdx[a+1],o>0&&s>=c+o&&(u=this._createRange(c,c+o),this._e.insertBefore(u.extractContents(),this._e.children[h])),0>o&&h+o-1>=0&&(u=this._createRange(h+o-1,h-1),this._e.insertBefore(u.extractContents(),this._e.children[c])))},n.prototype._createRange=function(t,e){var i=document.createRange();return i.setStart(this._e,t),i.setEnd(this._e,e),i},n.prototype._renderRow=function(t,e,i,n,o){var r;if(this.rows[t].renderSize<=0)return o;if(i)for(r=0;r<this.columns.frozen&&r<this.columns.length;r++)o=this._renderCell(t,r,e,n,o);else for(r=e.leftCol;r<=e.rightCol&&r>-1;r++)o=this._renderCell(t,r,e,n,o);return o},n.prototype._renderCell=function(i,n,o,r,s){var a,l,c,h=this._g,u=h.getMergedRange(this,i,n);if(u){for(a=Math.max(o.row,u.row);i>a;a++)if(this.rows[a].isVisible)return s;for(a=Math.max(o.col,u.col);n>a;a++)if(this.columns[a].isVisible)return s}return this.columns[n].renderSize<=0&&(!u||u.getRenderSize(this).width<=0)?s:(l=this._e.childNodes[s++],l&&r?(c=this.getSelectedState(i,n,u),t.toggleClass(l,"wj-state-selected",c==e.SelectedState.Cursor),t.toggleClass(l,"wj-state-multi-selected",c==e.SelectedState.Selected),s):(l||(l=document.createElement("div"),l.tabIndex=0,this._e.appendChild(l)),h.cellFactory.updateCell(this,i,n,l,u),s))},n.prototype._getViewRange=function(t){var n,o,r=this._g,s=r._ptScrl,a=this._rows,l=this._cols,c=new e.CellRange(0,0,a.length-1,l.length-1);if(this._ct==i.Cell||this._ct==i.RowHeader){var h=-s.y+this._offsetY,u=r.clientSize.height,p=Math.min(a.frozen,a.length-1);p>0&&(n=a[p-1].pos,h+=n,u-=n),c.row=Math.min(a.length-1,Math.max(a.frozen,a.getItemAt(h+1))),c.row2=a.getItemAt(h+u)}if(this._ct==i.Cell||this._ct==i.ColumnHeader){var d=-s.x,f=r.clientSize.width,p=Math.min(l.frozen,l.length-1);p>0&&(n=l[p-1].pos,d+=n,f-=n),c.col=Math.min(l.length-1,Math.max(l.frozen,l.getItemAt(d+1))),c.col2=l.getItemAt(d+f)}return!t||this._ct!=i.Cell||a.frozen||l.frozen||(o=6,c.row<this._rng.row&&(c.row=Math.max(c.row-o,0)),c.row2>this._rng.row2&&(c.row2=Math.min(c.row2+o,a.length-1)),c.col<this._rng.col&&(c.col=Math.max(c.col-o,0)),c.col2>this._rng.col2&&(c.col2=Math.min(c.col2+o,l.length-1))),a.length<=a.frozen&&(c.row=c.row2=-1),l.length<=l.frozen&&(c.col=c.col2=-1),c},n.prototype._getFrozenPos=function(){var e=this._rows.frozen,i=this._cols.frozen,n=e>0?this._rows[e-1]:null,o=i>0?this._cols[i-1]:null,r=n?n.pos+n.renderSize:0,s=o?o.pos+o.renderSize:0;return new t.Point(s,r)},n}();e.GridPanel=n}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i=function(){function i(){}return i.prototype.updateCell=function(n,o,r,s,a,l){var c,h,u,p,d,f,g,m,_,y,w,b,v,C,P,x,a,j,E=n.grid,S=n.cellType,T=n.rows,D=n.columns,M=T[o],A=D[r],R=o,O=r,F=t.tryCast(M,e.GroupRow),I=t.tryCast(M,e._NewRowTemplate),k=A.renderWidth,H=M.renderHeight,L="wj-cell",N={display:""},B=0!=l;0!=l&&s.firstElementChild&&(1!=s.childNodes.length||"checkbox"!=s.firstElementChild.type)&&(t.setText(s,null),B=!1),a&&!a.isSingleCell&&(o=a.row,r=a.col,R=a.row2,O=a.col2,M=T[o],A=D[r],F=t.tryCast(M,e.GroupRow),c=a.getRenderSize(n),H=c.height,k=c.width);var z=E._getBindingColumn(n,o,A),V=A.pos,G=M.pos;switch(o<T.frozen&&(G-=E._ptScrl.y),r<D.frozen&&(V-=E._ptScrl.x),E._rtl?N.right=V+"px":N.left=V+"px",N.top=G-n._getOffsetY()+"px",N.width=k+"px",N.height=H+"px",S==e.CellType.Cell?(F&&(L+=" wj-group"),E.showAlternatingRows&&o%2!=0&&(L+=" wj-alt"),(o<T.frozen||r<D.frozen)&&(L+=" wj-frozen"),I&&(L+=" wj-new"),M.cssClass&&(L+=" "+M.cssClass),z.cssClass&&(L+=" "+z.cssClass)):(L+=" wj-header",E.showAlternatingRows&&o%2!=0&&(L+=" wj-header-alt")),h=n.getSelectedState(o,r,a),h!=e.SelectedState.None&&S==e.CellType.Cell&&A.dataType!=t.DataType.Boolean&&E.editRange&&E.editRange.contains(o,r)&&(h=e.SelectedState.None),h){case e.SelectedState.Cursor:L+=" wj-state-selected";break;case e.SelectedState.Selected:L+=" wj-state-multi-selected"}if(R==T.frozen-1&&(L+=" wj-frozen-row"),O==D.frozen-1&&(L+=" wj-frozen-col"),(A.wordWrap||M.wordWrap)&&(L+=" wj-wrap"),B&&L==s.className&&(u=s.style,u.top==N.top&&u.width==N.width&&u.height==N.height&&(E._rtl&&u.right==N.right||!E._rtl&&u.left==N.left)))return void(u.display&&(s.style.display=""));switch(N.textAlign=z.getAlignment(),S==e.CellType.Cell&&E.rows.maxGroupLevel>-1&&(N.paddingLeft=N.paddingRight="",r==E.columns.firstVisibleIndex&&E.treeIndent&&(p=F?Math.max(0,F.level):E.rows.maxGroupLevel+1,d=E.treeIndent*p+E._cellPadding,E._rtl?N.paddingRight=d:N.paddingLeft=d)),0!=l&&(f=n.getCellData(o,r,!1),g=n.getCellData(o,r,!0),S==e.CellType.Cell&&r==E.columns.firstVisibleIndex&&F&&F.hasChildren&&!this._isEditingCell(E,o,r)?(g||(g=F.getGroupHeader()),s.innerHTML=this._getTreeIcon(F)+" "+g,N.textAlign=""):S==e.CellType.ColumnHeader&&z.currentSort&&E.showSort&&(R==E._getSortRowIndex()||z!=A)?(L+=" wj-sort-"+("+"==z.currentSort?"asc":"desc"),s.innerHTML=t.escapeHtml(g)+"&nbsp;"+this._getSortIcon(z)):S!=e.CellType.RowHeader||r!=E.rowHeaders.columns.length-1||g?S!=e.CellType.Cell||z.dataType!=t.DataType.Boolean||F&&!t.isBoolean(f)?S==e.CellType.Cell&&this._isEditingCell(E,o,r)?(w=z.inputType,z.inputType||(w=z.dataType!=t.DataType.Number||z.dataMap?"text":"tel"),z.dataMap||z.mask||(b=n.getCellData(o,r,!1),t.isNumber(b)&&(v=z.format,v&&b!=Math.round(b)&&(v=z.format.replace(/([a-z])(\d*)(.*)/gi,"$0112$3")),g=t.Globalize.formatNumber(b,v,!0))),s.innerHTML='<input type="'+w+'" class="wj-grid-editor wj-form-control">',C=s.children[0],C.value=g,C.style.textAlign=z.getAlignment(),
N.padding="0px",z.mask&&(P=new t._MaskProvider(C,z.mask)),E._edtHdl._edt=C):S==e.CellType.Cell&&(M.isContentHtml||z.isContentHtml)?s.innerHTML=g:t.setText(s,g):(y=s.firstChild,y instanceof HTMLInputElement&&"checkbox"==y.type||(s.innerHTML='<input type="checkbox"/>',y=s.firstChild),y.checked=1==f?!0:!1,y.indeterminate=null==f,y.disabled=!E._edtHdl._allowEditing(o,r),y.disabled&&(y.style.cursor="default"),E.editRange&&E.editRange.contains(o,r)&&(E._edtHdl._edt=y)):(m=E.collectionView,_=m?m.currentEditItem:null,_&&M.dataItem==_?g="":t.tryCast(M,e._NewRowTemplate)&&(g="*"),t.setText(s,g)),S==e.CellType.Cell&&t.input&&z.dataMap&&z.showDropDown!==!1&&E._edtHdl._allowEditing(o,r)&&(i._ddIcon||(i._ddIcon=t.createElement('<div class="'+i._WJC_DROPDOWN+'"><span class="wj-glyph-down"></span></div>')),x=i._ddIcon.cloneNode(!0),s.appendChild(x))),S){case e.CellType.RowHeader:s.removeAttribute("draggable"),F||I||0==(E.allowDragging&e.AllowDragging.Rows)||s.setAttribute("draggable","true");break;case e.CellType.ColumnHeader:s.removeAttribute("draggable"),0!=(E.allowDragging&e.AllowDragging.Columns)&&s.setAttribute("draggable","true")}s.className!=L&&(s.className=L),t.setCss(s,N),E.itemFormatter&&E.itemFormatter(n,o,r,s),E.formatItem.hasHandlers&&(a=i._fmtRng,a?a.setRange(o,r,R,O):a=i._fmtRng=new e.CellRange(o,r,R,O),j=new e.FormatItemEventArgs(n,a,s),E.onFormatItem(j))},i.prototype.disposeCell=function(){},i.prototype._isEditingCell=function(t,e,i){return t.editRange&&t.editRange.contains(e,i)},i.prototype._getTreeIcon=function(t){var e="wj-glyph-"+(t.isCollapsed?"":"down-")+(t.grid._rtl?"left":"right");return'<span class="'+i._WJC_COLLAPSE+" "+e+'"></span>'},i.prototype._getSortIcon=function(t){return'<span class="wj-glyph-'+("+"==t.currentSort?"up":"down")+'"></span>'},i._WJC_COLLAPSE="wj-elem-collapse",i._WJC_DROPDOWN="wj-elem-dropdown",i}();e.CellFactory=i}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i=function(){function e(t,e,i,n){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===n&&(n=e),this.setRange(t,e,i,n)}return e.prototype.setRange=function(e,i,n,o){void 0===e&&(e=-1),void 0===i&&(i=-1),void 0===n&&(n=e),void 0===o&&(o=i),this._row=t.asInt(e),this._col=t.asInt(i),this._row2=t.asInt(n),this._col2=t.asInt(o)},Object.defineProperty(e.prototype,"row",{get:function(){return this._row},set:function(e){this._row=t.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},set:function(e){this._col=t.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row2",{get:function(){return this._row2},set:function(e){this._row2=t.asInt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col2",{get:function(){return this._col2},set:function(e){this._col2=t.asInt(e)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._row,this._col,this._row2,this._col2)},Object.defineProperty(e.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),e.prototype.contains=function(i,n){var o=t.tryCast(i,e);if(o)return o.topRow>=this.topRow&&o.bottomRow<=this.bottomRow&&o.leftCol>=this.leftCol&&o.rightCol<=this.rightCol;if(t.isInt(i)&&t.isInt(n))return i>=this.topRow&&i<=this.bottomRow&&n>=this.leftCol&&n<=this.rightCol;throw"contains expects a CellRange or row/column indices."},e.prototype.containsRow=function(e){return t.asInt(e)>=this.topRow&&e<=this.bottomRow},e.prototype.containsColumn=function(e){return t.asInt(e)>=this.leftCol&&e<=this.rightCol},e.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},e.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},e.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},e.prototype.getRenderSize=function(e){var i,n,o=new t.Size(0,0);if(this.isValid){for(i=this.topRow;i<=this.bottomRow;i++)o.height+=e.rows[i].renderSize;for(n=this.leftCol;n<=this.rightCol;n++)o.width+=e.columns[n].renderSize}return o},e.prototype.equals=function(t){return t instanceof e&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},e}();e.CellRange=i}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i,n,o,r,s,a,l,c;!function(t){t[t.Visible=1]="Visible",t[t.AllowResizing=2]="AllowResizing",t[t.AllowDragging=4]="AllowDragging",t[t.AllowMerging=8]="AllowMerging",t[t.AllowSorting=16]="AllowSorting",t[t.AutoGenerated=32]="AutoGenerated",t[t.Collapsed=64]="Collapsed",t[t.ParentCollapsed=128]="ParentCollapsed",t[t.Selected=256]="Selected",t[t.ReadOnly=512]="ReadOnly",t[t.HtmlContent=1024]="HtmlContent",t[t.WordWrap=2048]="WordWrap",t[t.RowDefault=3]="RowDefault",t[t.ColumnDefault=23]="ColumnDefault"}(e.RowColFlags||(e.RowColFlags={})),i=e.RowColFlags,n=function(){function n(){this._list=null,this._pos=0,this._idx=-1}return Object.defineProperty(n.prototype,"visible",{get:function(){return this._getFlag(i.Visible)},set:function(t){this._setFlag(i.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return this._getFlag(i.Visible)&&(!this._getFlag(i.ParentCollapsed)||this instanceof e._NewRowTemplate)?!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pos",{get:function(){return this._list&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this._list&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._sz},set:function(e){e!=this._sz&&(this._sz=t.asNumber(e,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderSize",{get:function(){if(!this.isVisible)return 0;var t=this._sz,e=this._list;return(null==t||0>t)&&null!=e?Math.round(e.defaultSize):(null!=e&&(null!=e.minSize&&t<e.minSize&&(t=e.minSize),null!=e.maxSize&&t>e.maxSize&&(t=e.maxSize)),null!=this._szMin&&t<this._szMin&&(t=this._szMin),null!=this._szMax&&t>this._szMax&&(t=this._szMax),Math.round(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowResizing",{get:function(){return this._getFlag(i.AllowResizing)},set:function(t){this._setFlag(i.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowDragging",{get:function(){return this._getFlag(i.AllowDragging)},set:function(t){this._setFlag(i.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowMerging",{get:function(){return this._getFlag(i.AllowMerging)},set:function(t){this._setFlag(i.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSelected",{get:function(){return this._getFlag(i.Selected)},set:function(t){this._setFlag(i.Selected,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isReadOnly",{get:function(){return this._getFlag(i.ReadOnly)},set:function(t){this._setFlag(i.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._getFlag(i.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag(i.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._getFlag(i.WordWrap)},set:function(t){this._setFlag(i.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(this._cssClass=t.asString(e),this.grid&&this.grid.invalidate(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),n.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},n.prototype._getFlag=function(t){return 0!=(this._f&t)},n.prototype._setFlag=function(t,e,i){return e!=this._getFlag(t)?(this._f=e?this._f|t:this._f&~t,i||this.onPropertyChanged(),!0):!1},n}(),e.RowCol=n,o=function(n){function o(e){n.call(this),this._f=i.ColumnDefault,this._hash=o._ctr.toString(36),o._ctr++,e&&t.copy(this,e)}return __extends(o,n),Object.defineProperty(o.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"dataType",{get:function(){return this._type},set:function(e){this._type!=e&&(this._type=t.asEnum(e,t.DataType),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isRequired",{get:function(){return this._required},set:function(e){this._required=t.asBoolean(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"required",{get:function(){return t._deprecated("required","isRequired"),this.isRequired},set:function(e){t._deprecated("required","isRequired"),this.isRequired=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(e){e!=this._showDropDown&&(this._showDropDown=t.asBoolean(e,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(e){this._ddCssClass=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputType",{get:function(){return this._inpType},set:function(e){this._inpType=t.asString(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask=t.asString(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(e){var i,n,o;e!=this.binding&&(i=t.asString(e),this._binding=i?new t.Binding(i):null,!this._type&&this.grid&&this._binding&&(n=this.grid.collectionView,n&&n.sourceCollection&&n.sourceCollection.length&&(o=n.sourceCollection[0],this._type=t.getType(this._binding.getValue(o)))),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(e){if(e!=this.sortMemberPath){var i=t.asString(e);this._bindingSort=i?new t.Binding(i):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){null!=o._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=t.asNumber(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=t.asNumber(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=t.asNumber(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),o.prototype.getAlignment=function(){var e=this._align;if(null==e&&(e="",!this._map))switch(this._type){case t.DataType.Boolean:e="center";break;case t.DataType.Number:e="right"}return e},Object.defineProperty(o.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(t){this._hdr!=t&&(this._hdr=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"dataMap",{get:function(){return this._map},set:function(i){this._map!=i&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),t.isArray(i)&&(i=new e.DataMap(i,null,null)),this._map=t.asType(i,e.DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"allowSorting",{get:function(){return this._getFlag(i.AllowSorting)},set:function(t){this._setFlag(i.AllowSorting,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"currentSort",{get:function(){var t,e;if(this.grid&&this.grid.collectionView&&this.grid.collectionView.canSort)for(t=this.grid.collectionView.sortDescriptions,e=0;e<t.length;e++)if(t[e].property==this._getBindingSort())return t[e].ascending?"+":"-";return null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:t.Aggregate.None},set:function(e){e!=this._agg&&(this._agg=t.asEnum(e,t.Aggregate),this.onPropertyChanged())},enumerable:!0,configurable:!0}),o.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},o._parseStarSize=function(e){if(t.isString(e)&&e.length>0&&"*"==e[e.length-1]){var i=1==e.length?1:1*e.substr(0,e.length-1);if(i>0&&!isNaN(i))return i}return null},o._ctr=0,o}(n),e.Column=o,r=function(t){function e(e){t.call(this),this._f=i.ColumnDefault,this._data=e}return __extends(e,t),Object.defineProperty(e.prototype,"dataItem",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.size},set:function(t){this.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),e}(n),e.Row=r,s=function(n){function o(){n.call(this),this._level=-1,this.isReadOnly=!0}return __extends(o,n),Object.defineProperty(o.prototype,"level",{get:function(){return this._level},set:function(e){t.asInt(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var i=this.index<this._list.length-1?this._list[this.index+1]:null,n=t.tryCast(i,o),r=t.tryCast(i,e._NewRowTemplate);return i&&null==r&&(null==n||n.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isCollapsed",{get:function(){return this._getFlag(i.Collapsed)},set:function(e){t.asBoolean(e),e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(e)},enumerable:!0,configurable:!0}),o.prototype.getGroupHeader=function(){var e=this.grid,i=e.groupHeaderFormat?e.groupHeaderFormat:t.culture.FlexGrid.groupHeaderFormat,n=t.tryCast(this.dataItem,t.collections.CollectionViewGroup);if(n&&i){var o=n.groupDescription.propertyName,r=n.name,s=e.columns.getColumn(o),a=this.isContentHtml;return s&&(a=a||s.isContentHtml,s.header&&(o=s.header),s.dataMap?r=s.dataMap.getDisplayValue(r):s.format&&(r=t.Globalize.format(r,s.format))),t.format(i,{name:t.escapeHtml(o),value:a?r:t.escapeHtml(r),level:n.level,count:n.items.length})}return""},o.prototype._setCollapsed=function(n){var r,s=this,a=this.grid,l=a.rows,c=this.getCellRange(),h=new e.CellRangeEventArgs(a.cells,new e.CellRange(this.index,-1));a.onGroupCollapsedChanging(h),h.cancel||(a.deferUpdate(function(){s._setFlag(i.Collapsed,n);for(var e=c.topRow+1;e<=c.bottomRow&&e>-1&&e<l.length;e++)l[e]._setFlag(i.ParentCollapsed,n),r=t.tryCast(l[e],o),null!=r&&r.isCollapsed&&(e=r.getCellRange().bottomRow)}),a.onGroupCollapsedChanged(h))},o.prototype.getCellRange=function(){for(var i,n=this._list,r=this.index,s=n.length-1,a=r+1;s>=a;a++)if(i=t.tryCast(n[a],o),null!=i&&i.level<=this.level){s=a-1;break}return new e.CellRange(r,0,s,this.grid.columns.length-1)},o}(r),e.GroupRow=s,a=function(i){function n(n,o){i.call(this),this._frozen=0,this._szDef=28,this._szTot=0,this._dirty=!1,this._g=t.asType(n,e.FlexGrid),this._szDef=t.asNumber(o,!1,!0)}return __extends(n,i),Object.defineProperty(n.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szDef!=e&&(this._szDef=t.asNumber(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=t.asNumber(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),n.prototype.isFrozen=function(t){return t<this.frozen},Object.defineProperty(n.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=t.asNumber(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=t.asNumber(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),n.prototype.getTotalSize=function(){return this._update(),this._szTot},n.prototype.getItemAt=function(t){if(this._update(),0>=t&&this.length>0)return 0;for(var e,i,n=0,o=this.length-1;o>=n;)if(e=n+o>>>1,i=this[e],i._pos>t)o=e-1;else{if(!(i._pos+i.renderSize<t)){for(;e>0&&!this[e].visible;)e--;for(;e<this.length-1&&!this[e].visible;)e++;return e}n=e+1}return o},n.prototype.getNextCell=function(t,i,n){var o,r;switch(i){case e.SelMove.Next:for(o=t+1;o<this.length;o++)if(this[o].renderSize>0)return o;break;case e.SelMove.Prev:for(o=t-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case e.SelMove.End:for(o=this.length-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case e.SelMove.Home:for(o=0;o<this.length;o++)if(this[o].renderSize>0)return o;break;case e.SelMove.NextPage:return r=this.getItemAt(this[t].pos+n),0>r?this.getNextCell(t,e.SelMove.End,n):r;case e.SelMove.PrevPage:return r=this.getItemAt(this[t].pos-n),0>r?this.getNextCell(t,e.SelMove.Home,n):r}return t},n.prototype.canMoveElement=function(t,i){var n,o,r;if(i==t||0>t||t>=this.length||i>=this.length)return!1;for(0>i&&(i=this.length-1),n=Math.min(t,i),o=Math.max(t,i),r=n;o>=r;r++)if(!this[r].allowDragging)return!1;return this[i]instanceof e._NewRowTemplate?!1:!0},n.prototype.moveElement=function(t,e){if(this.canMoveElement(t,e)){var i=this[t];this.removeAt(t),0>e&&(e=this.length),this.insert(e,i)}},n.prototype.onCollectionChanged=function(e){void 0===e&&(e=t.collections.NotifyCollectionChangedEventArgs.reset),this._dirty=!0,this._g.invalidate(),i.prototype.onCollectionChanged.call(this,e)},n.prototype.push=function(t){return t._list=this,i.prototype.push.call(this,t)},n.prototype.splice=function(t,e,n){return n&&(n._list=this),i.prototype.splice.call(this,t,e,n)},n.prototype.beginUpdate=function(){this._update(),i.prototype.beginUpdate.call(this)},n.prototype._update=function(){var t,e,i;if(this._dirty&&!this.isUpdating){for(this._dirty=!1,t=0,i=0;i<this.length;i++)e=this[i],e._idx=i,e._list=this,e._pos=t,t+=e.renderSize;return this._szTot=t,!0}return!1},n}(t.collections.ObservableArray),e.RowColCollection=a,l=function(t){function e(){t.apply(this,arguments),this._firstVisible=-1}return __extends(e,t),e.prototype.getColumn=function(t){var e=this.indexOf(t);return e>-1?this[e]:null},e.prototype.indexOf=function(e){var i;if(e instanceof o)return t.prototype.indexOf.call(this,e);for(i=0;i<this.length;i++)if(this[i].name==e)return i;for(i=0;i<this.length;i++)if(this[i].binding==e)return i;return-1},Object.defineProperty(e.prototype,"firstVisibleIndex",{get:function(){return this._update(),this._firstVisible},enumerable:!0,configurable:!0}),e.prototype._update=function(){if(t.prototype._update.call(this)){this._firstVisible=-1;for(var e=0;e<this.length;e++)if(this[e].visible){this._firstVisible=e;break}return!0}return!1},e.prototype._updateStarSizes=function(t){for(var e,i,n,r=0,s=0;s<this.length;s++)i=this[s],i.isVisible&&(i._szStar?(r+=o._parseStarSize(i._szStar),n=i):t-=i.renderWidth);if(n){for(e=t,s=0;s<this.length;s++)i=this[s],i.isVisible&&i._szStar&&(i==n&&e>0?i._sz=e:(i._sz=Math.max(0,Math.round(o._parseStarSize(i._szStar)/r*t)),e-=i.renderWidth));return this._dirty=!0,this._update(),!0}return!1},e}(a),e.ColumnCollection=l,c=function(e){function i(){e.apply(this,arguments),this._maxLevel=-1}return __extends(i,e),Object.defineProperty(i.prototype,"maxGroupLevel",{get:function(){return this._update(),this._maxLevel},enumerable:!0,configurable:!0}),i.prototype._update=function(){var i,n;if(e.prototype._update.call(this)){for(this._maxLevel=-1,i=0;i<this.length;i++)n=t.tryCast(this[i],s),n&&n.level>this._maxLevel&&(this._maxLevel=n.level);return!0}return!1},i}(a),e.RowCollection=c}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i=function(){function i(n,o){var r,s,a;if(this._row=-1,this._col=-1,this._edge=0,n instanceof e.FlexGrid)this._g=n;else{if(!(n instanceof e.GridPanel))throw"First parameter should be a FlexGrid or GridPanel.";this._p=n,n=this._g=this._p.grid}o=t.mouseToPage(o),this._pt=o.clone();var l=n.controlRect,c=n.scrollPosition,h=n.clientSize,u=n.topLeftCells,p=n._eTL,d=n.headersVisibility,f=e.HeadersVisibility,g=d&f.Row?u.columns.getTotalSize():0,m=d&f.Column?u.rows.getTotalSize():0,_=d&f.Column?m+p.offsetTop:0;if(o.x=Math.max(0,o.x-l.left),o.y=Math.max(0,o.y-l.top),this._g._rtl&&(o.x=l.width-o.x),!this._p&&o.x>=0&&o.y>=p.offsetTop&&h&&o.x<=h.width+g&&o.y<=h.height+_&&(this._p=o.x<=g&&o.y<=_?n.topLeftCells:o.x<=g?n.rowHeaders:o.y<=_?n.columnHeaders:n.cells),null!=this._p){var y=this._p.rows,w=this._p.columns,b=this._p.cellType,v=b==e.CellType.ColumnHeader||b==e.CellType.TopLeft?m:y.getTotalSize(),C=b==e.CellType.RowHeader||b==e.CellType.TopLeft?g:w.getTotalSize(),P=this._p._getFrozenPos();if((b==e.CellType.Cell||b==e.CellType.RowHeader)&&(o.y-=m,(o.y>P.y||P.y<=0)&&(o.y-=c.y,o.y+=this._p._getOffsetY())),(b==e.CellType.Cell||b==e.CellType.ColumnHeader)&&(o.x-=g,(o.x>P.x||P.x<=0)&&(o.x-=c.x)),(b==e.CellType.ColumnHeader||b==e.CellType.TopLeft)&&(o.y-=_-m),this._row=o.y>v?-1:y.getItemAt(o.y),this._col=o.x>C?-1:w.getItemAt(o.x),this._row<0||this._col<0)return void(this._p=null);this._edge=0,r=i._SZEDGE[this._g.isTouching?1:0],this._col>-1&&(s=w[this._col],o.x-s.pos<=r&&(this._edge|=1),s.pos+s.renderSize-o.x<=r&&(this._edge|=4)),this._row>-1&&(a=y[this._row],o.y-a.pos<=r&&(this._edge|=2),a.pos+a.renderSize-o.y<=r&&(this._edge|=8))}}return Object.defineProperty(i.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cellType",{get:function(){return this._p?this._p.cellType:e.CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"range",{get:function(){return new e.CellRange(this._row,this._col)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),i._SZEDGE=[5,30],i}();e.HitTestInfo=i}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";!function(t){t[t.None=0]="None",t[t.Cells=1]="Cells",t[t.ColumnHeaders=2]="ColumnHeaders",t[t.RowHeaders=4]="RowHeaders",t[t.AllHeaders=6]="AllHeaders",t[t.All=7]="All"}(e.AllowMerging||(e.AllowMerging={}));var i=e.AllowMerging,n=function(){function n(t){this._g=t}return n.prototype.getMergedRange=function(n,o,r,s){var a,l,c,h,u,p,d,f,g;void 0===s&&(s=!0);var m,_,y=n.cellType,w=n.columns,b=n.rows,v=b[o],C=w[r];if(v instanceof e._NewRowTemplate)return null;if(v instanceof e.GroupRow&&v.dataItem instanceof t.collections.CollectionViewGroup){if(m=new e.CellRange(o,r),C.aggregate==t.Aggregate.None){for(;m.col>0&&w[m.col-1].aggregate==t.Aggregate.None&&m.col!=w.frozen;)m.col--;for(;m.col2<w.length-1&&w[m.col2+1].aggregate==t.Aggregate.None&&m.col2+1!=w.frozen;)m.col2++}for(;m.col<r&&!w[m.col].visible;)m.col++;return m.isSingleCell?null:m}switch(a=!1,this._g.allowMerging){case i.None:a=!0;break;case i.Cells:a=y!=e.CellType.Cell;break;case i.ColumnHeaders:a=y!=e.CellType.ColumnHeader&&y!=e.CellType.TopLeft;break;case i.RowHeaders:a=y!=e.CellType.RowHeader&&y!=e.CellType.TopLeft;break;case i.AllHeaders:a=y==e.CellType.Cell}if(a)return null;if(w[r].allowMerging){for(m=new e.CellRange(o,r),l=0,c=b.length-1,o>=b.frozen?s&&(y==e.CellType.Cell||y==e.CellType.RowHeader)&&(_=n._getViewRange(!0),l=_.topRow,c=_.bottomRow):c=b.frozen-1,h=o-1;h>=l&&this._mergeCell(n,h,r,o,r);h--)m.row=h;for(u=o+1;c>=u&&this._mergeCell(n,o,r,u,r);u++)m.row2=u;for(;m.row<o&&!b[m.row].visible;)m.row++;if(!m.isSingleCell)return m}if(b[o].allowMerging){for(m=new e.CellRange(o,r),p=0,d=w.length-1,r>=w.frozen?s&&(y==e.CellType.Cell||y==e.CellType.ColumnHeader)&&(_=n._getViewRange(!0),p=_.leftCol,d=_.rightCol):d=w.frozen-1,f=r-1;f>=p&&this._mergeCell(n,o,f,o,r);f--)m.col=f;for(g=r+1;d>=g&&this._mergeCell(n,o,r,o,g);g++)m.col2=g;for(;m.col<r&&!w[m.col].visible;)m.col++;if(!m.isSingleCell)return m}return null},n.prototype._mergeCell=function(t,i,n,o,r){var s=t.rows[i],a=t.rows[o];return s instanceof e.GroupRow||s instanceof e._NewRowTemplate||a instanceof e.GroupRow||a instanceof e._NewRowTemplate?!1:i!=o&&t.rows.isFrozen(i)!=t.rows.isFrozen(o)?!1:n!=r&&t.columns.isFrozen(n)!=t.columns.isFrozen(r)?!1:i!=o&&(n>0&&(s.allowMerging&&this._mergeCell(t,i,n-1,i,n)||a.allowMerging&&this._mergeCell(t,o,n-1,o,n))||r<t.columns.length-1&&(s.allowMerging&&this._mergeCell(t,i,r,i,r+1)||a.allowMerging&&this._mergeCell(t,o,r,o,r+1)))?!1:t.getCellData(i,n,!0)!=t.getCellData(o,r,!0)?!1:!0},n}();e.MergeManager=n}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i=function(){function e(e,i,n){var o,r;if(this.mapChanged=new t.Event,t.isArray(e)&&!i&&!n){for(o=[],r=0;r<e.length;r++)o.push({value:e[r]});e=o,i=n="value"}this._cv=t.asCollectionView(e),this._keyPath=t.asString(i,!1),this._displayPath=t.asString(n,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(e.prototype,"sortByDisplayValues",{get:function(){return 1!=this._sortByKey},set:function(e){this._sortByKey=!t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),e.prototype.getKeyValue=function(t){var e=this._indexOf(t,this._displayPath,!1);return e>-1?this._cv.sourceCollection[e][this._keyPath]:null},e.prototype.getDisplayValue=function(t){var e=this._indexOf(t,this._keyPath,!0);return e>-1?this._cv.sourceCollection[e][this._displayPath]:t},e.prototype.getDisplayValues=function(){var t,e,i=[];if(this._cv&&this._displayPath)for(t=this._cv.items,e=0;e<t.length;e++)i.push(t[e][this._displayPath]);return i},e.prototype.getKeyValues=function(){var t,e,i=[];if(this._cv&&this._keyPath)for(t=this._cv.items,e=0;e<t.length;e++)i.push(t[e][this._keyPath]);return i},Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=t.asBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.onMapChanged=function(t){this.mapChanged.raise(this,t)},e.prototype._indexOf=function(t,e,i){var n,o;if(this._cv&&e){var r=null!=t?t.toString():"",s=i?r:r.toLowerCase(),a=this._cv.sourceCollection;for(n=0;n<a.length;n++)if(o=a[n][e],o==t||!i&&o.length==s.length&&o.toLowerCase()==s||null!=o&&o.toString()==r)return n}return-1},e}();e.DataMap=i}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i,n,o,r;!function(t){t[t.None=0]="None",t[t.Cell=1]="Cell",t[t.CellRange=2]="CellRange",t[t.Row=3]="Row",t[t.RowRange=4]="RowRange",t[t.ListBox=5]="ListBox"}(e.SelectionMode||(e.SelectionMode={})),i=e.SelectionMode,function(t){t[t.None=0]="None",t[t.Selected=1]="Selected",t[t.Cursor=2]="Cursor"}(e.SelectedState||(e.SelectedState={})),n=e.SelectedState,function(t){t[t.None=0]="None",t[t.Next=1]="Next",t[t.Prev=2]="Prev",t[t.NextPage=3]="NextPage",t[t.PrevPage=4]="PrevPage",t[t.Home=5]="Home",t[t.End=6]="End",t[t.NextCell=7]="NextCell",t[t.PrevCell=8]="PrevCell"}(e.SelMove||(e.SelMove={})),o=e.SelMove,r=function(){function n(t){this._sel=new e.CellRange(0,0),this._mode=i.CellRange,this._g=t}return Object.defineProperty(n.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){var n,o,r,s;if(t!=this._mode){if(t==i.ListBox||this._mode==i.ListBox)for(n=this._g.rows,o=0;o<n.length;o++)r=n[o],s=t==i.ListBox?this._sel.containsRow(o):!1,r._setFlag(e.RowColFlags.Selected,s,!0);switch(t){case i.None:this._sel.setRange(-1,-1);break;case i.Cell:this._sel.row2=this._sel.row,this._sel.col2=this._sel.col;break;case i.Row:this._sel.row2=this._sel.row}this._mode=t,this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),n.prototype.select=function(n,o){var r,s,a,l;void 0===o&&(o=!0),t.isNumber(n)&&t.isNumber(o)&&(n=new e.CellRange(n,o),o=!0),n=t.asType(n,e.CellRange);var c=this._g,h=this._sel,u=n,p=!1;switch(c.selectionMode){case i.Cell:n.row2=n.row,n.col2=n.col;break;case i.Row:n.row2=n.row;break;case i.ListBox:p=!0}if(r=u.equals(h),p&&u.row>-1&&!c.rows[u.row].isSelected&&(r=!1),r)return void(o&&c.scrollIntoView(u.row,u.col));if(s=new e.CellRangeEventArgs(c.cells,u),c.onSelectionChanging(s)){if(p){for(a=0;a<c.rows.length;a++)c.rows[a]._setFlag(e.RowColFlags.Selected,u.containsRow(a),!0);
c.refreshCells(!1,!0,!0)}u.row=Math.min(u.row,c.rows.length-1),u.row2=Math.min(u.row2,c.rows.length-1),this._sel=u,c.refreshCells(!1,!0,!0),o&&c.scrollIntoView(u.row,u.col),c.collectionView&&(l=c._getCvIndex(u.row),c.collectionView.moveCurrentToPosition(l)),c.onSelectionChanged(s)}},n.prototype.moveSelection=function(t,i,n){var r,s,a,l=this._g,c=l.rows,h=l.columns,u=this._getReferenceCell(t,i,n),p=Math.max(0,l.clientSize.height-l.columnHeaders.height);i==o.NextCell?(s=h.getNextCell(u.col,o.Next,p),r=u.row,s==u.col&&(r=c.getNextCell(r,o.Next,p),r>u.row&&(s=h.getNextCell(0,o.Next,p),s=h.getNextCell(s,o.Prev,p))),l.select(r,s)):i==o.PrevCell?(s=h.getNextCell(u.col,o.Prev,p),r=u.row,s==u.col&&(r=c.getNextCell(r,o.Prev,p),r<u.row&&(s=h.getNextCell(h.length-1,o.Prev,p),s=h.getNextCell(s,o.Next,p))),l.select(r,s)):(r=c.getNextCell(u.row,t,p),s=h.getNextCell(u.col,i,p),n?(a=l._selHdl._sel,l.select(new e.CellRange(r,s,a.row2,a.col2))):l.select(r,s))},n.prototype._getReferenceCell=function(t,e){var i=this._g,n=i._selHdl._sel,r=i.getMergedRange(i.cells,n.row,n.col);if(!r||r.isSingleCell)return n;switch(r=r.clone(),t){case o.Next:case o.NextCell:r.row=r.bottomRow;break;case o.None:r.row=n.row}switch(e){case o.Next:case o.NextCell:r.col=r.rightCol;break;case o.None:r.col=n.col}return r},n.prototype._adjustSelection=function(t){switch(this._mode){case i.Cell:return new e.CellRange(t.row,t.col,t.row,t.col);case i.Row:return new e.CellRange(t.row,0,t.row,this._g.columns.length-1);case i.RowRange:case i.ListBox:return new e.CellRange(t.row,0,t.row2,this._g.columns.length-1)}return t},n}(),e._SelectionHandler=r}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i=function(){function i(t){this._g=t,t.addEventListener(t.hostElement,"keypress",this._keypress.bind(this)),t.addEventListener(t.hostElement,"keydown",this._keydown.bind(this))}return i.prototype._keydown=function(i){var n,o,r=this._g,s=r.selection,a=i.ctrlKey||i.metaKey,l=i.shiftKey,c=i.target,h=!0;if(r.isRangeValid(s)&&!i.defaultPrevented){if(!r.activeEditor&&r._isInputElement(c)&&!c.getAttribute("wj-part"))return;if(r.activeEditor&&r._edtHdl._keydown(i))return;var u=t.tryCast(r.rows[s.row],e.GroupRow),p=t.tryCast(r.collectionView,"IEditableCollectionView"),d=i.keyCode;if(r.autoClipboard){if(a&&(67==d||45==d))return o=new e.CellRangeEventArgs(r.cells,s),r.onCopying(o)&&(n=r.getClipString(),t.Clipboard.copy(n),r.onCopied(o)),void i.stopPropagation();if(a&&86==d||l&&45==d)return r.isReadOnly||(o=new e.CellRangeEventArgs(r.cells,s),r.onPasting(o)&&t.Clipboard.paste(function(t){r.setClipString(t),r.onPasted(o)})),void i.stopPropagation()}if(r._rtl)switch(d){case t.Key.Left:d=t.Key.Right;break;case t.Key.Right:d=t.Key.Left}switch(d){case 65:a?r.select(new e.CellRange(0,0,r.rows.length-1,r.columns.length-1)):h=!1;break;case t.Key.Left:s.isValid&&0==s.col&&null!=u&&!u.isCollapsed&&u.hasChildren?u.isCollapsed=!0:this._moveSel(e.SelMove.None,a?e.SelMove.Home:e.SelMove.Prev,l);break;case t.Key.Right:s.isValid&&0==s.col&&null!=u&&u.isCollapsed?u.isCollapsed=!1:this._moveSel(e.SelMove.None,a?e.SelMove.End:e.SelMove.Next,l);break;case t.Key.Up:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(a?e.SelMove.Home:e.SelMove.Prev,e.SelMove.None,l);break;case t.Key.Down:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(a?e.SelMove.End:e.SelMove.Next,e.SelMove.None,l);break;case t.Key.PageUp:this._moveSel(e.SelMove.PrevPage,e.SelMove.None,l);break;case t.Key.PageDown:this._moveSel(e.SelMove.NextPage,e.SelMove.None,l);break;case t.Key.Home:this._moveSel(a?e.SelMove.Home:e.SelMove.None,e.SelMove.Home,l);break;case t.Key.End:this._moveSel(a?e.SelMove.End:e.SelMove.None,e.SelMove.End,l);break;case t.Key.Tab:this._moveSel(e.SelMove.None,l?e.SelMove.PrevCell:e.SelMove.NextCell,!1);break;case t.Key.Enter:this._moveSel(l?e.SelMove.Prev:e.SelMove.Next,e.SelMove.None,!1),!l&&p&&null!=p.currentEditItem&&r._edtHdl._commitRowEdits();break;case t.Key.Escape:p&&(null!=p.currentEditItem&&p.cancelEdit(),null!=p.currentAddItem&&p.cancelNew()),r._mouseHdl.resetMouseState();break;case t.Key.Delete:h=this._deleteSel();break;case t.Key.F2:h=r.startEditing(!0);break;case t.Key.F4:h=r._edtHdl._toggleListBox(this._g.selection);break;case t.Key.Space:h=r.startEditing(!0),h&&setTimeout(function(){var e=r.activeEditor;e&&("checkbox"==e.type?(e.checked=!e.checked,r.finishEditing()):t.setSelectionRange(e,e.value.length))});break;default:h=!1}h&&(i.preventDefault(),i.stopPropagation())}},i.prototype._keypress=function(e){var i=this._g;i.activeEditor?i._edtHdl._keypress(e):e.charCode>t.Key.Space&&i.startEditing(!1)&&i.activeEditor&&setTimeout(function(){var n=i.activeEditor;n&&"checkbox"!=n.type&&(n.value=String.fromCharCode(e.charCode),t.setSelectionRange(n,1),n.dispatchEvent(i._edtHdl._evtInput),i._edtHdl._keypress(e))}),e.stopPropagation()},i.prototype._moveSel=function(t,i,n){this._g.selectionMode!=e.SelectionMode.None&&this._g._selHdl.moveSelection(t,i,n)},i.prototype._deleteSel=function(){var i,n,o,r,s,a,l=this._g,c=t.tryCast(l.collectionView,"IEditableCollectionView"),h=l.selection,u=l.rows,p=[];if(l.allowDelete&&!l.isReadOnly&&(null==c||c.canRemove&&!c.isAddingNew&&!c.isEditingItem))switch(l.selectionMode){case e.SelectionMode.CellRange:if(0==h.leftCol&&h.rightCol==l.columns.length-1)for(o=h.topRow;o>-1&&o<=h.bottomRow;o++)p.push(u[o]);break;case e.SelectionMode.ListBox:for(o=0;o<u.length;o++)u[o].isSelected&&p.push(u[o]);break;case e.SelectionMode.Row:h.topRow>-1&&p.push(u[h.topRow]);break;case e.SelectionMode.RowRange:for(o=h.topRow;o>-1&&o<=h.bottomRow;o++)p.push(u[o])}if(p.length>0){for(c&&c.beginUpdate(),l.beginUpdate(),i=new e.CellRange,n=new e.CellRangeEventArgs(l.cells,i),o=p.length-1;o>=0;o--)r=p[o],i.row=i.row2=r.index,l.onDeletingRow(n)&&(c&&r.dataItem?c.remove(r.dataItem):l.rows.removeAt(r.index),l.onDeletedRow(n));return l.endUpdate(),c&&c.endUpdate(),l.selectionMode==e.SelectionMode.ListBox&&(s=l.selection.row,s>-1&&s<l.rows.length&&(l.rows[s].isSelected=!0)),l.childItemsPath&&l.collectionView&&l.collectionView.refresh(),!0}return!l.isReadOnly&&0==p.length&&h.isSingleCell&&(a=l._getBindingColumn(l.cells,h.row,l.columns[h.col]),(0==a.isRequired||null==a.isRequired&&a.dataType==t.DataType.String)&&l.getCellData(h.row,h.col,!0)&&l.startEditing(!1,h.row,h.col))?(l.setCellData(h.row,h.col,"",!0),l.finishEditing(!0),l.invalidate(),!0):!1},i}();e._KeyboardHandler=i}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i,n,o,r,s=4;!function(t){t[t.None=0]="None",t[t.Columns=1]="Columns",t[t.Rows=2]="Rows",t[t.Both=3]="Both",t[t.ColumnsAllCells=t.Columns|s]="ColumnsAllCells",t[t.RowsAllCells=t.Rows|s]="RowsAllCells",t[t.BothAllCells=t.Both|s]="BothAllCells"}(e.AllowResizing||(e.AllowResizing={})),i=e.AllowResizing,function(t){t[t.None=0]="None",t[t.Headers=1]="Headers",t[t.Cells=2]="Cells",t[t.Both=3]="Both"}(e.AutoSizeMode||(e.AutoSizeMode={})),n=e.AutoSizeMode,function(t){t[t.None=0]="None",t[t.Columns=1]="Columns",t[t.Rows=2]="Rows",t[t.Both=3]="Both"}(e.AllowDragging||(e.AllowDragging={})),o=e.AllowDragging,r=function(){function n(e){var i,n,o=this,r=e.hostElement;this._g=e,e.addEventListener(r,"mousedown",function(t){t.defaultPrevented||0!=t.button||(e.addEventListener(document,"mousemove",i),e.addEventListener(document,"mouseup",n),o._mousedown(t))}),i=function(t){o._mousemove(t)},n=function(t){e.removeEventListener(document,"mousemove"),e.removeEventListener(document,"mouseup"),o._mouseup(t)},e.addEventListener(r,"mousemove",this._hover.bind(this)),e.addEventListener(r,"dblclick",this._dblclick.bind(this)),e.addEventListener(r,"selectstart",function(t){"INPUT"!=t.target.tagName&&t.preventDefault()}),e.addEventListener(r,"wheel",function(i){var n=e.cells.hostElement.parentElement;n.scrollHeight>n.offsetHeight&&(i.deltaY<0&&0==n.scrollTop||i.deltaY>0&&n.scrollTop+n.offsetHeight>=n.scrollHeight)&&t.closest(i.target,".wj-flexgrid")==e.hostElement&&(i.preventDefault(),i.stopPropagation())}),e.addEventListener(r,"dragstart",this._dragstart.bind(this)),e.addEventListener(r,"dragover",this._dragover.bind(this)),e.addEventListener(r,"dragleave",this._dragover.bind(this)),e.addEventListener(r,"drop",this._drop.bind(this)),e.addEventListener(r,"dragend",this._dragend.bind(this)),this._dvMarker=t.createElement('<div class="wj-marker">&nbsp;</div>')}return n.prototype.resetMouseState=function(){var t,e;this._dragSource&&(this._dragSource.style.opacity=1),this._showDragMarker(null),t=this._g.hostElement,t&&(t.style.cursor="default"),e=this._g,e.removeEventListener(document,"mousemove"),e.removeEventListener(document,"mouseup"),this._htDown=null,this._lbSelRows=null,this._szRowCol=null,this._szArgs=null,this._dragSource=null},n.prototype._mousedown=function(i){var n,r,s,a,l,c=this._g;if(c._rcBounds=null,n=c.hitTest(i),r=n.cellType,r==e.CellType.None)return void c.finishEditing();if(!(r==e.CellType.Cell&&c.editRange&&c.editRange.contains(n.range)||(s=t.getActiveElement(),i.target==s&&c._isInputElement(i.target)))){if(i.target!=s&&c.focus(),this._htDown=n,this._eMouse=i,null!=this._szRowCol)return void this._handleResizing(i);switch(r){case e.CellType.Cell:i.ctrlKey&&c.selectionMode==e.SelectionMode.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(i,i.shiftKey);break;case e.CellType.RowHeader:0==(this._g.allowDragging&o.Rows)&&(i.ctrlKey&&c.selectionMode==e.SelectionMode.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(i,i.shiftKey))}if(r==e.CellType.Cell&&c.rows.maxGroupLevel>-1&&(a=t.tryCast(c.rows[n.row],e.GroupRow),l=t.closest(i.target,"."+e.CellFactory._WJC_COLLAPSE),a&&l))return i.ctrlKey?c.collapseGroupsToLevel(a.isCollapsed?a.level+1:a.level):a.isCollapsed=!a.isCollapsed,this.resetMouseState(),void i.preventDefault()}},n.prototype._mousemove=function(t){var i=this;if(null!=this._htDown)if(setTimeout(function(){t.which&&i._g.containsFocus()||i.resetMouseState()}),this._eMouse=t,this._szRowCol)this._handleResizing(t);else switch(this._htDown.cellType){case e.CellType.Cell:this._mouseSelect(t,!0);break;case e.CellType.RowHeader:0==(this._g.allowDragging&o.Rows)&&this._mouseSelect(t,!0)}},n.prototype._mouseup=function(t){var i,n,o,r;this._dragSource&&this._g.isTouching||(i=this._htDown,!i||i.cellType!=e.CellType.TopLeft||this._szArgs||t.defaultPrevented?this._szArgs?this._finishResizing(t):this._handleSort(t):(n=this._g,o=n.hitTest(t),o.panel==i.panel&&o.row==i.row&&o.col==i.col&&(r=n.getMergedRange(i.panel,i.row,i.col)||o.range,0==r.row&&0==r.col&&n.select(new e.CellRange(0,0,n.rows.length-1,n.columns.length-1)))),this.resetMouseState())},n.prototype._dblclick=function(t){var n,o,r,a=this._g,l=a.hitTest(t),c=l.cellType,h=a.selection,u=l.range;if(!t.defaultPrevented){if(l.edgeRight&&a.allowResizing&i.Columns){if(c==e.CellType.ColumnHeader||c==e.CellType.Cell&&a.allowResizing&s)for(t.preventDefault(),t.ctrlKey&&h.containsColumn(l.col)&&(u=h),o=u.leftCol;o<=u.rightCol;o++)a.columns[o].allowResizing&&(n=new e.CellRangeEventArgs(a.cells,new e.CellRange(-1,o)),a.onAutoSizingColumn(n)&&a.onResizingColumn(n))&&(a.autoSizeColumn(o),a.onResizedColumn(n),a.onAutoSizedColumn(n));else c==e.CellType.TopLeft&&a.topLeftCells.columns[l.col].allowResizing&&(t.preventDefault(),n=new e.CellRangeEventArgs(a.topLeftCells,new e.CellRange(-1,l.col)),a.onAutoSizingColumn(n)&&a.onResizingColumn(n))&&(a.autoSizeColumn(l.col,!0),a.onAutoSizedColumn(n),a.onResizedColumn(n));return void this.resetMouseState()}if(l.edgeBottom&&a.allowResizing&i.Rows){if(c==e.CellType.RowHeader||c==e.CellType.Cell&&a.allowResizing&s)for(t.ctrlKey&&h.containsRow(l.row)&&(u=h),r=u.topRow;r<=u.bottomRow;r++)a.rows[r].allowResizing&&(n=new e.CellRangeEventArgs(a.cells,new e.CellRange(r,-1)),a.onAutoSizingRow(n)&&a.onResizingRow(n))&&(a.autoSizeRow(r),a.onResizedRow(n),a.onAutoSizedRow(n));else c==e.CellType.TopLeft&&a.topLeftCells.rows[l.row].allowResizing&&(n=new e.CellRangeEventArgs(a.topLeftCells,new e.CellRange(l.row,-1)),a.onAutoSizingRow(n)&&a.onResizingRow(n))&&(a.autoSizeRow(l.row,!0),a.onResizedRow(n),a.onAutoSizedRow(n));this.resetMouseState()}}},n.prototype._hover=function(t){if(null==this._htDown){var n=this._g,o=n.hitTest(t),r=(o.panel,o.cellType),a="default";this._szRowCol=null,(r==e.CellType.ColumnHeader||r==e.CellType.TopLeft||r==e.CellType.Cell&&n.allowResizing&s)&&o.edgeRight&&0!=(n.allowResizing&i.Columns)&&(this._szRowCol=this._getResizeCol(o)),(r==e.CellType.RowHeader||r==e.CellType.TopLeft||r==e.CellType.Cell&&n.allowResizing&s)&&o.edgeBottom&&0!=(n.allowResizing&i.Rows)&&(this._szRowCol=this._getResizeRow(o)),this._szRowCol instanceof e.Column?a="col-resize":this._szRowCol instanceof e.Row&&(a="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,n.hostElement.style.cursor=a}},n.prototype._getResizeCol=function(t){for(var i,n=t.panel.columns,o=n[t.col],r=t.col+1;r<n.length;r++)if(i=n[r],i.visible){i.size<1&&(o=i);break}if(t.col==n.length-1&&(t.cellType==e.CellType.TopLeft||t.cellType==e.CellType.RowHeader))for(n=this._g.columns,r=0;r<n.length;r++)if(i=n[r],i.visible){i.size<1&&(o=i);break}return o.allowResizing?o:null},n.prototype._getResizeRow=function(t){for(var i,n=t.panel.rows,o=n[t.row],r=t.row+1;r<n.length;r++)if(i=n[r],i.visible){i.size<1&&(o=i);break}if(t.row==n.length-1&&(t.cellType==e.CellType.TopLeft||t.cellType==e.CellType.ColumnHeader))for(n=this._g.rows,r=0;r<n.length;r++)if(i=n[r],i.visible){i.size<1&&(o=i);break}return o.allowResizing?o:null},n.prototype._mouseSelect=function(i,n){var o,r=this;this._htDown&&this._htDown.panel&&this._g.selectionMode!=e.SelectionMode.None&&(o=new e.HitTestInfo(this._htDown.panel,i),this._handleSelection(o,n),this._g._isInputElement(i.target)||i.preventDefault(),!t.isIE9()&&i.button>=0&&(o=new e.HitTestInfo(this._g,i),o.cellType!=e.CellType.Cell&&o.cellType!=e.CellType.RowHeader&&setTimeout(function(){r._mouseSelect(r._eMouse,n)},100)))},n.prototype._handleResizing=function(t){var i;if(t.preventDefault(),this._szRowCol instanceof e.Column){var o=this._g,r=t.clientX+pageXOffset,s=Math.round(Math.max(n._SZ_MIN,this._szStart+(r-this._htDown.point.x)*(o._rtl?-1:1)));this._szRowCol.renderSize!=s&&(null==this._szArgs&&(i=o.rowHeaders.columns.indexOf(this._szRowCol)>-1?o.rowHeaders:o.cells,this._szArgs=new e.CellRangeEventArgs(i,new e.CellRange(-1,this._szRowCol.index))),this._szArgs.cancel=!1,o.onResizingColumn(this._szArgs)&&(o.deferResizing||o.isTouching?this._showResizeMarker(s):this._szRowCol.width=s))}if(this._szRowCol instanceof e.Row){var o=this._g,a=t.clientY+pageYOffset,s=Math.round(Math.max(n._SZ_MIN,this._szStart+(a-this._htDown.point.y)));this._szRowCol.renderSize!=s&&(null==this._szArgs&&(i=o.columnHeaders.rows.indexOf(this._szRowCol)>-1?o.columnHeaders:o.cells,this._szArgs=new e.CellRangeEventArgs(i,new e.CellRange(this._szRowCol.index,-1))),this._szArgs.cancel=!1,o.onResizingRow(this._szArgs)&&(o.deferResizing||o.isTouching?this._showResizeMarker(s):this._szRowCol.height=s))}},n.prototype._dragstart=function(t){var i,n,r=this._g,s=this._htDown;s&&(this._dragSource=null,this._szRowCol||(i=new e.CellRangeEventArgs(r.cells,s.range),s.cellType==e.CellType.ColumnHeader&&r.allowDragging&o.Columns&&s.col>-1&&r.columns[s.col].allowDragging?r.onDraggingColumn(i)&&(this._dragSource=t.target):s.cellType==e.CellType.RowHeader&&r.allowDragging&o.Rows&&s.row>-1&&r.rows[s.row].allowDragging&&(n=r.rows[s.row],n instanceof e.GroupRow||n instanceof e._NewRowTemplate||r.onDraggingRow(i)&&(this._dragSource=t.target))),this._dragSource&&t.dataTransfer?(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",""),this._dragSource.style.opacity=.5,t.stopPropagation(),r.beginUpdate()):t.preventDefault())},n.prototype._dragend=function(){this._g.endUpdate(),this.resetMouseState()},n.prototype._dragover=function(t){var i=this._g,n=i.hitTest(t),o=!1;this._htDown&&n.cellType==this._htDown.cellType&&(n.cellType==e.CellType.ColumnHeader?o=i.columns.canMoveElement(this._htDown.col,n.col):n.cellType==e.CellType.RowHeader&&(o=i.rows.canMoveElement(this._htDown.row,n.row))),o?(t.dataTransfer.dropEffect="move",t.preventDefault(),this._showDragMarker(n)):this._showDragMarker(null)},n.prototype._drop=function(t){var i,n=this._g,o=n.hitTest(t),r=new e.CellRangeEventArgs(n.cells,o.range);this._htDown&&o.cellType==this._htDown.cellType&&(i=n.selection,o.cellType==e.CellType.ColumnHeader?(n.columns.moveElement(this._htDown.col,o.col),n.select(i.row,o.col),n.onDraggedColumn(r)):o.cellType==e.CellType.RowHeader&&(n.rows.moveElement(this._htDown.row,o.row),n.select(o.row,i.col),n.onDraggedRow(r))),this.resetMouseState()},n.prototype._showResizeMarker=function(i){var n,o,r=this._g,s=this._dvMarker;s.parentElement||r.cells.hostElement.appendChild(s),o=this._szArgs.panel.cellType,this._szRowCol instanceof e.Column?(n={display:"",left:this._szRowCol.pos+i-1,top:0,right:"",bottom:0,width:3,height:"",zIndex:1e3},r._rtl&&(n.left=s.parentElement.clientWidth-n.left-n.width),(o==e.CellType.TopLeft||o==e.CellType.RowHeader)&&(n.left-=r.topLeftCells.hostElement.offsetWidth)):(n={left:0,top:this._szRowCol.pos+i-1,right:0,bottom:"",width:"",height:3,zIndex:1e3},(o==e.CellType.TopLeft||o==e.CellType.ColumnHeader)&&(n.top-=r.topLeftCells.hostElement.offsetHeight)),t.setCss(s,n)},n.prototype._showDragMarker=function(i){var n,o,r,s=this._g,a=this._dvMarker;if(!i)return a.parentElement&&a.parentElement.removeChild(a),void(this._rngTarget=null);if(!i.range.equals(this._rngTarget)){switch(this._rngTarget=i.range,a.parentElement||i.panel.hostElement.appendChild(a),n={display:"",left:0,top:0,width:6,height:6},i.cellType){case e.CellType.ColumnHeader:n.height=i.panel.height,o=s.columns[i.col],n.left=o.pos-n.width/2,i.col>this._htDown.col&&(n.left+=o.renderWidth),s._rtl&&(n.left=a.parentElement.clientWidth-n.left-n.width);break;case e.CellType.RowHeader:n.width=i.panel.width,r=s.rows[i.row],n.top=r.pos-n.height/2,i.row>this._htDown.row&&(n.top+=r.renderHeight)}t.setCss(a,n)}},n.prototype._finishResizing=function(t){var i,o,r,s,a=this._g,l=a.selection,c=this._eMouse.ctrlKey,h=this._szArgs,u=t.clientX+pageXOffset,p=t.clientY+pageYOffset;if(h&&!h.cancel&&h.col>-1&&(i=h.col,o=Math.round(Math.max(n._SZ_MIN,this._szStart+(u-this._htDown.point.x)*(this._g._rtl?-1:1))),h.panel.columns[i].width=Math.round(o),a.onResizedColumn(h),c&&this._htDown.cellType==e.CellType.ColumnHeader&&l.containsColumn(i)))for(r=l.leftCol;r<=l.rightCol;r++)a.columns[r].allowResizing&&r!=i&&(h=new e.CellRangeEventArgs(a.cells,new e.CellRange(-1,r)),a.onResizingColumn(h))&&(a.columns[r].size=a.columns[i].size,a.onResizedColumn(h));if(h&&!h.cancel&&h.row>-1&&(i=h.row,o=Math.round(Math.max(n._SZ_MIN,this._szStart+(p-this._htDown.point.y))),h.panel.rows[i].height=Math.round(o),a.onResizedRow(h),c&&this._htDown.cellType==e.CellType.RowHeader&&l.containsRow(i)))for(s=l.topRow;s<=l.bottomRow;s++)a.rows[s].allowResizing&&s!=i&&(h=new e.CellRangeEventArgs(a.cells,new e.CellRange(s,-1)),a.onResizingRow(h))&&(a.rows[s].size=a.rows[i].size,a.onResizedRow(h))},n.prototype._startListBoxSelection=function(t){var e,i=this._g.rows;for(this._lbSelState=!i[t].isSelected,this._lbSelRows={},e=0;e<i.length;e++)i[e].isSelected&&(this._lbSelRows[e]=!0)},n.prototype._handleSelection=function(t,i){var n,o,r,s,a=this._g,l=a.rows,c=a._selHdl._sel,h=new e.CellRange(t.row,t.col);if(t.row>-1&&t.col>-1)if(null!=this._lbSelRows){for(n=!1,h=new e.CellRange(t.row,t.col,this._htDown.row,this._htDown.col),o=0;o<l.length;o++)r=h.containsRow(o)?this._lbSelState:null!=this._lbSelRows[o],r!=l[o].isSelected&&(s=new e.CellRangeEventArgs(a.cells,new e.CellRange(o,c.col,o,c.col2)),a.onSelectionChanging(s))&&(l[o]._setFlag(e.RowColFlags.Selected,r,!0),n=!0,a.onSelectionChanged(s));n&&a.refreshCells(!1,!0,!0),a.scrollIntoView(t.row,t.col)}else t.cellType==e.CellType.RowHeader&&(h.col=0,h.col2=a.columns.length-1),i&&(h.row2=c.row2,h.col2=c.col2),a.select(h)},n.prototype._handleSort=function(i){var n,o,r,s,a=this._g,l=a.collectionView,c=a.hitTest(i);if(this._htDown&&c.cellType==this._htDown.cellType&&c.col==this._htDown.col&&c.cellType==e.CellType.ColumnHeader&&!c.edgeRight&&c.col>-1&&l&&l.canSort&&a.allowSorting){var h=a.getMergedRange(c.panel,c.row,c.col),u=h?h.row2:c.row,p=a.columns[c.col],d=a._getBindingColumn(c.panel,c.row,p);if((u==a._getSortRowIndex()||p!=d)&&(n=d.currentSort,o="+"!=n,d.allowSorting&&d.binding)){if(!n&&i.ctrlKey)return;r=new e.CellRangeEventArgs(a.columnHeaders,new e.CellRange(-1,c.col)),a.onSortingColumn(r)&&(s=l.sortDescriptions,i.ctrlKey?s.clear():s.splice(0,s.length,new t.collections.SortDescription(d._getBindingSort(),o)),a.onSortedColumn(r))}}},n._SZ_MIN=0,n}(),e._MouseHandler=r}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i=function(){function i(i){var n=this;this._fullEdit=!1,this._list=null,this._g=i,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),i.selectionChanging.addHandler(function(t,e){var o;if(n.finishEditing(),o=i._selHdl._sel.row,o!=e.row){var r=i.rows.length,s=o>-1&&r>o?i.rows[o].dataItem:null,a=e.row>-1&&e.row<r?i.rows[e.row].dataItem:null;s!=a&&n._commitRowEdits()}}),i.lostFocus.addHandler(function(){if(!n._g.containsFocus()){var e=t.getActiveElement();e&&"fixed"==getComputedStyle(e).position||n._commitRowEdits()}}),i.addEventListener(i.hostElement,"mousedown",function(o){var r,s,a,l;if(!o.defaultPrevented&&0==o.button&&!i._mouseHdl._szRowCol)if(r=i.selection,s=i.hitTest(o),n._htDown=null,n._cancelClick=!1,s.cellType!=e.CellType.Cell&&s.cellType!=e.CellType.None)n._lbx&&t.contains(n._lbx.hostElement,o.target)||n._commitRowEdits();else if(s.cellType!=e.CellType.None){if(a=t.tryCast(o.target,HTMLInputElement),a&&"checkbox"==a.type&&t.hasClass(a.parentElement,"wj-cell")&&(a!=n.activeEditor?(n.startEditing(!1,s.row,s.col),setTimeout(function(){a=n.activeEditor,a&&"checkbox"==a.type?(a.checked=!a.checked,a.focus(),n.finishEditing()):n._cancelClick=!0})):n.finishEditing()),l=document.elementFromPoint(o.clientX,o.clientY),t.closest(l,"."+e.CellFactory._WJC_DROPDOWN))return n._toggleListBox(s.range),n._htDown=null,void o.preventDefault();null==a&&s.row==r.row&&s.col==r.col&&(n._htDown=s)}},!0),i.addEventListener(i.hostElement,"click",function(t){if(n._cancelClick)return t.preventDefault(),void t.stopPropagation();if(n._htDown&&!n.activeEditor){var e=i.hitTest(t);e.range.equals(n._htDown.range)&&n.startEditing(!0,e.row,e.col)}},!0)}return i.prototype.startEditing=function(i,n,o,r){var s,a,l,c,h,u,p;return void 0===i&&(i=!0),s=this._g,n=t.asNumber(n,!0,!0),o=t.asNumber(o,!0,!0),null==n&&(n=s.selection.row),null==o&&(o=s.selection.col),null==r&&(r=!0),this._allowEditing(n,o)&&(a=s.getMergedRange(s.cells,n,o),a||(a=new e.CellRange(n,o)),l=s.rows[n].dataItem,s.select(a,!0),s.rows[n]&&l==s.rows[n].dataItem)?a.equals(this._rng)?!0:(c=new e.CellRangeEventArgs(s.cells,a),s.onBeginningEdit(c)?(h=t.tryCast(s.collectionView,"IEditableCollectionView"),h&&(l=s.rows[n].dataItem,h.editItem(l)),this._fullEdit=i,this._rng=a,this._list=null,u=s.columns[o].dataMap,u&&(this._list=u.getDisplayValues()),s.refresh(!1),(p=this._edt)&&("checkbox"==p.type?this._fullEdit=!1:r&&t.setSelectionRange(p,0,p.value.length),s.onPrepareCellForEdit(c),p=this._edt,p&&r&&p.focus()),!0):!1):!1},i.prototype.finishEditing=function(i){var n,o,r,s,a;if(void 0===i&&(i=!1),n=this._edt,!n)return this._removeListBox(),!0;var l=this._g,c=this._rng,h=new e.CellRangeEventArgs(l.cells,c),u=this._g.containsFocus();if(l.activeEditor&&u&&(o=t.Control.getControl(t.closest(t.getActiveElement(),".wj-control")))&&o.onLostFocus(h),h.cancel=i,l.onCellEditEnding(h),!h.cancel)for(r="checkbox"==n.type?n.checked:n.value,s=c.topRow;s<=c.bottomRow&&s<l.rows.length;s++)for(a=c.leftCol;a<=c.rightCol&&a<l.columns.length;a++)l.cells.setCellData(s,a,r,!0);return this._edt=null,this._rng=null,this._list=null,this._removeListBox(),l.refresh(!1),u&&l.focus(),l.onCellEditEnded(h),!0},Object.defineProperty(i.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),i.prototype._allowEditing=function(t,i){var n=this._g;return n.isReadOnly||n.selectionMode==e.SelectionMode.None?!1:0>t||t>=n.rows.length||n.rows[t].isReadOnly||!n.rows[t].isVisible?!1:0>i||i>=n.columns.length||n.columns[i].isReadOnly||!n.columns[i].isVisible?!1:n._getBindingColumn(n.cells,t,n.columns[i]).isReadOnly?!1:!0},i.prototype._commitRowEdits=function(){var i,n,o;this.finishEditing(),i=this._g,n=t.tryCast(i.collectionView,"IEditableCollectionView"),n&&n.currentEditItem&&(o=new e.CellRangeEventArgs(i.cells,i.selection),i.onRowEditEnding(o),n.commitEdit(),i.onRowEditEnded(o))},i.prototype._keydown=function(e){switch(e.keyCode){case t.Key.F2:return this._fullEdit=!this._fullEdit,e.preventDefault(),!0;case t.Key.F4:return this._toggleListBox(this._g.selection),e.preventDefault(),!0;case t.Key.Space:var i=this._edt;return i&&"checkbox"==i.type&&(i.checked=!i.checked,this.finishEditing(),e.preventDefault()),!0;case t.Key.Enter:case t.Key.Tab:return this.finishEditing(),!1;case t.Key.Escape:return this.finishEditing(!0),!0;case t.Key.Up:case t.Key.Down:case t.Key.Left:case t.Key.Right:case t.Key.PageUp:case t.Key.PageDown:case t.Key.Home:case t.Key.End:if(this._lbx)return this._keydownListBox(e);if(e.altKey)switch(e.keyCode){case t.Key.Up:case t.Key.Down:return this._toggleListBox(this._g.selection),e.preventDefault(),!0}if(!this._fullEdit)return this.finishEditing(),!1}return!0},i.prototype._keydownListBox=function(e){var i=!0;if(this._lbx)switch(e.keyCode){case t.Key.Up:e.altKey?this._toggleListBox(this._g.selection):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case t.Key.Down:e.altKey?this._toggleListBox(this._g.selection):this._lbx.selectedIndex++;break;case t.Key.Home:case t.Key.PageUp:this._lbx.selectedIndex=0;break;case t.Key.End:case t.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:i=!1}return i?(e.preventDefault(),!0):!1},i.prototype._keypress=function(e){var i,n,o,r=this._edt;if(r&&"checkbox"!=r.type&&e.target==r&&this._list&&this._list.length>0&&e.charCode>=32)for(i=r.selectionStart,n=r.value.substr(0,i),e.target==r&&(i++,n+=String.fromCharCode(e.charCode)),n=n.toLowerCase(),o=0;o<this._list.length;o++)if(0==this._list[o].toLowerCase().indexOf(n)){r.value=this._list[o],t.setSelectionRange(r,i,this._list[o].length),r.dispatchEvent(this._evtInput),e.preventDefault();break}},i.prototype._toggleListBox=function(e){var i,n,o=this._g;return this._lbx&&(this._removeListBox(),o.selection.contains(e))?(o.activeEditor?o.activeEditor.focus():o.containsFocus()||o.focus(),!0):(i=o.isTouching,n=o._getBindingColumn(o.cells,e.row,o.columns[e.col]),t.input&&n.dataMap&&n.showDropDown!==!1&&t.input&&this.startEditing(!0,e.row,e.col,!i)?(this._lbx=this._createListBox(),this._lbx.showSelection(),i&&this._lbx.focus(),!0):!1)},i.prototype._createListBox=function(){var e=this,i=this._g,n=this._rng,o=i.rows[n.row],r=i._getBindingColumn(i.cells,n.row,i.columns[n.col]),s=document.createElement("div"),a=new t.input.ListBox(s);return t.addClass(s,"wj-dropdown-panel"),a.maxHeight=4*o.renderHeight,a.itemsSource=r.dataMap.getDisplayValues(),a.selectedValue=i.activeEditor?i.activeEditor.value:i.getCellData(n.row,n.col,!0),t.addClass(s,r.dropDownCssClass),a.addEventListener(a.hostElement,"click",function(){e._removeListBox(),e.finishEditing()}),a.lostFocus.addHandler(function(){e._removeListBox()}),a.selectedIndexChanged.addHandler(function(){var n=i.activeEditor;n&&(n.value=e._lbx.selectedValue,n.dispatchEvent(e._evtInput),t.setSelectionRange(n,0,n.value.length))}),t.showPopup(s,i.getCellBoundingRect(n.row,n.col)),a},i.prototype._removeListBox=function(){this._lbx&&(t.hidePopup(this._lbx.hostElement,!0),this._lbx.dispose(),this._lbx=null)},i}();e._EditHandler=i}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){"use strict";var i,n=function(){function n(t){this._nrt=new i,this._g=t,t.beginningEdit.addHandler(this._beginningEdit,this),t.pastingCell.addHandler(this._beginningEdit,this),t.rowEditEnded.addHandler(this._rowEditEnded,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this)}return n.prototype.updateNewRowTemplate=function(){var i,n=t.tryCast(this._g.collectionView,"IEditableCollectionView"),o=this._g,r=o.rows,s=n&&n.canAddNew&&o.allowAddNew&&!o.isReadOnly,a=r.indexOf(this._nrt);!s&&a>-1?(i=o.selection,i.row==a&&o.select(i.row-1,i.col),r.removeAt(a)):s&&(0>a?r.push(this._nrt):a!=r.length-1&&(r.removeAt(a),r.push(this._nrt)),this._nrt&&this._nrt._setFlag(e.RowColFlags.ParentCollapsed,!1))},n.prototype._beginningEdit=function(e,n){var o,r,s;!n.cancel&&(o=this._g.rows[n.row],t.tryCast(o,i)&&(r=t.tryCast(this._g.collectionView,"IEditableCollectionView"),r&&r.canAddNew))&&(s=r.currentAddItem&&r.currentAddItem==o.dataItem?r.currentAddItem:r.addNew(),r.moveCurrentTo(s),this.updateNewRowTemplate(),this._g.refresh(!0),this._g.onRowAdded(n),n.cancel&&r.cancelNew())},n.prototype._rowEditEnded=function(){var e=t.tryCast(this._g.collectionView,"IEditableCollectionView");e&&e.isAddingNew&&e.commitNew()},n}();e._AddNewHandler=n,i=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(e.Row),e._NewRowTemplate=i}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){"use strict";var i=function(){function e(e){this._tbx=t.createElement('<input class="wj-grid-editor wj-form-control" wj-part="ime-target"/>'),this._cssHidden={opacity:"0",pointerEvents:"none",position:"absolute",left:-10,top:-10,width:0},t.setCss(this._tbx,this._cssHidden),this._g=e,this._g.cells.hostElement.parentElement.appendChild(this._tbx),this._updateImeFocus();var e=this._g,i=e.hostElement;e.addEventListener(this._tbx,"compositionstart",this._compositionstart.bind(this)),e.addEventListener(i,"blur",this._updateImeFocus.bind(this),!0),e.addEventListener(i,"focus",this._updateImeFocus.bind(this),!0),e.addEventListener(i,"mousedown",this._mousedown.bind(this),!0),e.addEventListener(i,"mouseup",this._mouseup.bind(this),!0),e.cellEditEnded.addHandler(this._cellEditEnded,this),e.selectionChanged.addHandler(this._updateImeFocus,this)}return e.prototype.dispose=function(){var t=this._g,e=t.hostElement;t.removeEventListener(this._tbx,"compositionstart"),t.removeEventListener(e,"blur"),t.removeEventListener(e,"focus"),t.removeEventListener(e,"mousedown"),t.removeEventListener(e,"mouseup"),t.cellEditEnded.removeHandler(this._cellEditEnded),t.selectionChanged.removeHandler(this._updateImeFocus),this._tbx.parentElement&&this._tbx.parentElement.removeChild(this._tbx)},e.prototype._cellEditEnded=function(){t.setCss(this._tbx,this._cssHidden),this._tbx.value=""},e.prototype._compositionstart=function(){var e,i,n,o=this._g;null==o.activeEditor&&(e=o._selHdl.selection,o.startEditing(!1,e.row,e.col,!1)&&(i=o.getCellBoundingRect(e.row,e.col),n=o.cells.hostElement,t.setCss(this._tbx,{opacity:"",pointerEvents:"",left:o.columns[e.col].pos+n.offsetLeft,top:o.rows[e.row].pos+n.offsetTop,width:i.width-1,height:i.height-1}),o._edtHdl._edt=this._tbx))},e.prototype._mousedown=function(){this._mouseDown=!0,this._updateImeFocus()},e.prototype._mouseup=function(){this._mouseDown=!1,this._updateImeFocus()},e.prototype._updateImeFocus=function(){var e,i,n=this._g;!n.containsFocus()||n.activeEditor||n.isTouching||this._mouseDown||(e=this._tbx,this._enableIme()?(e.disabled=!1,e.select()):e.disabled||(e.disabled=!0,i=t.getActiveElement(),i instanceof HTMLElement&&i.blur(),n.focus()))},e.prototype._enableIme=function(){var e=this._g,i=e.selection;return i.row<0||i.col<0||!e._edtHdl._allowEditing(i.row,i.col)?!1:e.columns[i.col].dataType==t.DataType.Boolean?!1:!0;
},e}();e._ImeHandler=i}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={}));var __extends,wijmo;!function(t){var e;!function(t){var e;!function(){"use strict"}(e=t.filter||(t.filter={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){var i;!function(e){"use strict";var i=function(){function e(e){this._maxValues=250,this._sortValues=!0,this._col=e,this._bnd=e.binding?new t.Binding(e.binding):null}return Object.defineProperty(e.prototype,"showValues",{get:function(){return this._values},set:function(t){this._values=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterText",{get:function(){return this._filterText},set:function(e){this._filterText=t.asString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValues",{get:function(){return this._maxValues},set:function(e){this._maxValues=t.asNumber(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(e){this._uniqueValues=t.asArray(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortValues",{get:function(){return this._sortValues},set:function(e){this._sortValues=t.asBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return null!=this._values&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var i=this.column;return this._bnd&&this._values&&Object.keys(this._values).length?(e=this._bnd.getValue(e),e=i.dataMap?i.dataMap.getDisplayValue(e):t.Globalize.format(e,i.format),void 0!=this._values[e]):!0},e.prototype.clear=function(){this.showValues=null,this.filterText=null},e.prototype.implementsInterface=function(t){return"IColumnFilter"==t},e}();e.ValueFilter=i}(i=e.filter||(e.filter={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){var i;!function(e){"use strict";var i=function(i){function n(n,o){var r,s;i.call(this,n),this._filter=t.asType(o,e.ValueFilter,!1),r=this.getTemplate(),this.applyTemplate("wj-control",r,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),this._spSelectAll.textContent=t.culture.FlexGridFilter.selectAll,this._view=new t.collections.CollectionView,o.sortValues&&(s=o.column.dataMap?"text":"value",this._view.sortDescriptions.push(new t.collections.SortDescription(s,!0))),this._view.filter=this._filterValues.bind(this),this._view.collectionChanged.addHandler(this._updateSelectAllCheck,this),this._filterText="",this._cmbFilter=new t.input.ComboBox(this._divFilter,{placeholder:t.culture.FlexGridFilter.search}),this._lbValues=new t.input.ListBox(this._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:this._view,itemFormatter:function(e,i){return i?i:t.culture.FlexGridFilter["null"]}}),this._cmbFilter.textChanged.addHandler(this._filterTextChanged,this),this._cbSelectAll.addEventListener("click",this._cbSelectAllClicked.bind(this)),this.updateEditor()}return __extends(n,i),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),n.prototype.updateEditor=function(){var e,i,n,o,r,s,a,l,c=this._filter.column,h=[];if(this._filter.uniqueValues)for(e=this._filter.uniqueValues,l=0;l<e.length;l++)o=e[l],h.push({value:o,text:o.toString()});else{var u={},p=c.collectionView?c.collectionView.sourceCollection:[],d=c.collectionView;if(d&&d.sourceCollection&&d.filter){for(i=this._filter.showValues,this._filter.showValues=null,n=[],l=0;l<p.length;l++)d.filter(p[l])&&n.push(p[l]);p=n,this._filter.showValues=i}for(l=0;l<p.length;l++)o=c._binding.getValue(p[l]),r=c.dataMap?c.dataMap.getDisplayValue(o):t.Globalize.format(o,c.format),u[r]||(u[r]=!0,h.push({value:o,text:r}))}if(s=this._filter.showValues,s&&0!=Object.keys(s).length){for(a in s)for(l=0;l<h.length;l++)if(h[l].text==a){h[l].show=!0;break}}else for(l=0;l<h.length;l++)h[l].show=!0;this._lbValues.isContentHtml=c.isContentHtml,this._cmbFilter.text=this._filter.filterText,this._filterText=this._cmbFilter.text.toLowerCase(),this._view.pageSize=this._filter.maxValues,this._view.sourceCollection=h,this._view.moveCurrentToPosition(-1)},n.prototype.clearEditor=function(){var t,e;for(this._cmbFilter.text="",this._filterText="",this._view.refresh(),t=this._view.items,e=0;e<t.length;e++)t[e].show=!1},n.prototype.updateFilter=function(){var t,e,i=null,n=this._view.items;if(this._filterText||this._cbSelectAll.indeterminate)for(i={},t=0;t<n.length;t++)e=n[t],e.show&&(i[e.text]=!0);this._filter.showValues=i,this._filter.filterText=this._filterText},n.prototype._filterTextChanged=function(){var t=this;this._toText&&clearTimeout(this._toText),this._toText=setTimeout(function(){var e=t._cmbFilter.text.toLowerCase();e!=t._filterText&&(t._filterText=e,t._view.refresh(),t._cbSelectAll.checked=!0,t._cbSelectAllClicked())},500)},n.prototype._filterValues=function(t){return this._filterText?t&&t.text?t.text.toLowerCase().indexOf(this._filterText)>-1:!1:!0},n.prototype._cbSelectAllClicked=function(){for(var t=this._cbSelectAll.checked,e=this._view.items,i=0;i<e.length;i++)e[i].show=t;this._view.refresh()},n.prototype._updateSelectAllCheck=function(){for(var t=0,e=this._view.items,i=0;i<e.length;i++)e[i].show&&t++;0==t?(this._cbSelectAll.checked=!1,this._cbSelectAll.indeterminate=!1):t==e.length?(this._cbSelectAll.checked=!0,this._cbSelectAll.indeterminate=!1):this._cbSelectAll.indeterminate=!0},n.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values" style="height:150px"></div></div>',n}(t.Control);e.ValueFilterEditor=i}(i=e.filter||(e.filter={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){var i;!function(e){"use strict";var i=function(){function i(i){this._c1=new e.FilterCondition,this._c2=new e.FilterCondition,this._and=!0,this._col=i,this._bnd=i.binding?new t.Binding(i.binding):null}return Object.defineProperty(i.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"and",{get:function(){return this._and},set:function(e){this._and=t.asBoolean(e),this._bnd=this._col&&this._col.binding?new t.Binding(this._col.binding):null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),i.prototype.apply=function(e){var i,n,o=this._col,r=this._c1,s=this._c2;return this._bnd&&this.isActive?(e=this._bnd.getValue(e),o.dataMap?e=o.dataMap.getDisplayValue(e):t.isDate(e)?(t.isString(r.value)||t.isString(s.value))&&(e=t.Globalize.format(e,o.format)):t.isNumber(e)&&(e=t.Globalize.parseFloat(t.Globalize.format(e,o.format))),i=r.apply(e),n=s.apply(e),r.isActive&&s.isActive?this._and?i&&n:i||n:r.isActive?i:s.isActive?n:!0):!0},i.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},i.prototype.implementsInterface=function(t){return"IColumnFilter"==t},i}();e.ConditionFilter=i}(i=e.filter||(e.filter={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){var i;!function(e){"use strict";var i=function(i){function n(n,o){var r,s;i.call(this,n),this._filter=t.asType(o,e.ConditionFilter,!1),r=this.getTemplate(),this.applyTemplate("wj-control",r,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"}),this._divHdr.textContent=t.culture.FlexGridFilter.header,this._spAnd.textContent=t.culture.FlexGridFilter.and,this._spOr.textContent=t.culture.FlexGridFilter.or,this._cmb1=this._createOperatorCombo(this._divCmb1),this._cmb2=this._createOperatorCombo(this._divCmb2),this._val1=this._createValueInput(this._divVal1),this._val2=this._createValueInput(this._divVal2),s=this._btnAndOrChanged.bind(this),this._btnAnd.addEventListener("change",s),this._btnOr.addEventListener("change",s),this.updateEditor()}return __extends(n,i),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),n.prototype.updateEditor=function(){var e=this._filter.condition1,i=this._filter.condition2;this._cmb1.selectedValue=e.operator,this._cmb2.selectedValue=i.operator,this._val1 instanceof t.input.ComboBox?(this._val1.text=t.changeType(e.value,t.DataType.String,null),this._val2.text=t.changeType(i.value,t.DataType.String,null)):(this._val1.value=e.value,this._val2.value=i.value),this._btnAnd.checked=this._filter.and,this._btnOr.checked=!this._filter.and},n.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._btnAnd.checked=!0,this._btnOr.checked=!1},n.prototype.updateFilter=function(){var e,i=this._filter.column,n=this._filter.condition1,o=this._filter.condition2;n.operator=this._cmb1.selectedValue,o.operator=this._cmb2.selectedValue,this._val1 instanceof t.input.ComboBox?(e=i.dataType==t.DataType.Date?t.DataType.String:i.dataType,n.value=t.changeType(this._val1.text,e,i.format),o.value=t.changeType(this._val2.text,e,i.format)):(n.value=this._val1.value,o.value=this._val2.value),this._filter.and=this._btnAnd.checked},n.prototype._createOperatorCombo=function(e){var i,n=this._filter.column,o=t.culture.FlexGridFilter.stringOperators;return n.dataType!=t.DataType.Date||this._isTimeFormat(n.format)?n.dataType!=t.DataType.Number||n.dataMap?n.dataType!=t.DataType.Boolean||n.dataMap||(o=t.culture.FlexGridFilter.booleanOperators):o=t.culture.FlexGridFilter.numberOperators:o=t.culture.FlexGridFilter.dateOperators,i=new t.input.ComboBox(e),i.itemsSource=o,i.displayMemberPath="name",i.selectedValuePath="op",i},n.prototype._createValueInput=function(e){var i=this._filter.column,n=null;return i.dataType!=t.DataType.Date||this._isTimeFormat(i.format)?i.dataType!=t.DataType.Number||i.dataMap?(n=new t.input.ComboBox(e),i.dataMap?(n.itemsSource=i.dataMap.getDisplayValues(),n.isEditable=!0):i.dataType==t.DataType.Boolean&&(n.itemsSource=[!0,!1])):(n=new t.input.InputNumber(e),n.format=i.format):(n=new t.input.InputDate(e),n.format=i.format),n.isRequired=!1,n},n.prototype._isTimeFormat=function(e){return e?(e=t.culture.Globalize.calendar.patterns[e]||e,/[Hmst]+/.test(e)):!1},n.prototype._btnAndOrChanged=function(t){this._btnAnd.checked=t.target==this._btnAnd,this._btnOr.checked=t.target==this._btnOr},n.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div style="text-align:center"><label><input wj-part="btn-and" type="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',n}(t.Control);e.ConditionFilterEditor=i}(i=e.filter||(e.filter={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){var i;!function(e){"use strict";var i,n=function(){function e(){this._op=null}return Object.defineProperty(e.prototype,"operator",{get:function(){return this._op},set:function(e){this._op=t.asEnum(e,i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._val},set:function(e){this._val=e,this._strVal=t.isString(e)?e.toString().toLowerCase():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case i.EQ:case i.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.operator=null,this.value=null},e.prototype.apply=function(e){var n=this._strVal||this._val;switch(t.isString(e)&&(e=e.toLowerCase()),this._op){case null:return!0;case i.EQ:return t.isDate(e)&&t.isDate(n)?t.DateTime.sameDate(e,n):e==n;case i.NE:return e!=n;case i.GT:return e>n;case i.GE:return e>=n;case i.LT:return n>e;case i.LE:return n>=e;case i.BW:return this._strVal&&t.isString(e)?0==e.indexOf(this._strVal):!1;case i.EW:return this._strVal&&t.isString(e)&&e.length>=this._strVal.length?e.substr(e.length-this._strVal.length)==n:!1;case i.CT:return this._strVal&&t.isString(e)?e.indexOf(this._strVal)>-1:!1;case i.NC:return this._strVal&&t.isString(e)?e.indexOf(this._strVal)<0:!1}throw"Unknown operator"},e}();e.FilterCondition=n,function(t){t[t.EQ=0]="EQ",t[t.NE=1]="NE",t[t.GT=2]="GT",t[t.GE=3]="GE",t[t.LT=4]="LT",t[t.LE=5]="LE",t[t.BW=6]="BW",t[t.EW=7]="EW",t[t.CT=8]="CT",t[t.NC=9]="NC"}(e.Operator||(e.Operator={})),i=e.Operator}(i=e.filter||(e.filter={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){var i;!function(e){"use strict";var i=function(){function i(t,i){this._owner=t,this._col=i,this._valueFilter=new e.ValueFilter(i),this._conditionFilter=new e.ConditionFilter(i)}return Object.defineProperty(i.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(i){if(i!=this._filterType){var n=this.isActive;this.clear(),this._filterType=t.asEnum(i,e.FilterType,!0),n?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),i.prototype.apply=function(t){return this._conditionFilter.apply(t)&&this._valueFilter.apply(t)},i.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},i.prototype.implementsInterface=function(t){return"IColumnFilter"==t},i}();e.ColumnFilter=i}(i=e.filter||(e.filter={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){var i;!function(e){"use strict";t.culture.FlexGridFilter={ascending:" Ascending",descending:" Descending",apply:"Apply",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All","null":"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:e.Operator.EQ},{name:"Does not equal",op:e.Operator.NE},{name:"Begins with",op:e.Operator.BW},{name:"Ends with",op:e.Operator.EW},{name:"Contains",op:e.Operator.CT},{name:"Does not contain",op:e.Operator.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:e.Operator.EQ},{name:"Does not equal",op:e.Operator.NE},{name:"Is Greater than",op:e.Operator.GT},{name:"Is Greater than or equal to",op:e.Operator.GE},{name:"Is Less than",op:e.Operator.LT},{name:"Is Less than or equal to",op:e.Operator.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:e.Operator.EQ},{name:"Is Before",op:e.Operator.LT},{name:"Is After",op:e.Operator.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:e.Operator.EQ},{name:"Does not equal",op:e.Operator.NE}]};var i=function(i){function n(n,o,r){var s,a,l,c,h,u=this;void 0===r&&(r=!0),i.call(this,n),this.filterChanged=new t.Event,this.buttonClicked=new t.Event,this._filter=t.asType(o,e.ColumnFilter),s=this.getTemplate(),this.applyTemplate("wj-control wj-columnfiltereditor wj-content",s,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnClear:"btn-clear"}),this._btnAsc.textContent=t.culture.FlexGridFilter.ascending,this._btnDsc.textContent=t.culture.FlexGridFilter.descending,this._aVal.textContent=t.culture.FlexGridFilter.values,this._aCnd.textContent=t.culture.FlexGridFilter.conditions,this._btnApply.textContent=t.culture.FlexGridFilter.apply,this._btnClear.textContent=t.culture.FlexGridFilter.clear,a=this.filter.conditionFilter.isActive||0==(o.filterType&e.FilterType.Value)?e.FilterType.Condition:e.FilterType.Value,this._showFilter(a),l=this.filter.column,c=l.grid.collectionView,r&&c&&c.canSort||(this._divSort.style.display="none"),this.updateEditor(),h=this._btnClicked.bind(this),this._btnApply.addEventListener("click",h),this._btnClear.addEventListener("click",h),this._btnAsc.addEventListener("click",h),this._btnDsc.addEventListener("click",h),this._aVal.addEventListener("click",h),this._aCnd.addEventListener("click",h),this.hostElement.addEventListener("keydown",function(e){switch(e.keyCode){case t.Key.Enter:switch(e.target.tagName){case"A":case"BUTTON":u._btnClicked(e);break;default:u.updateFilter(),u.onFilterChanged(),u.onButtonClicked()}e.preventDefault();break;case t.Key.Escape:u.onButtonClicked(),e.preventDefault()}})}return __extends(n,i),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),n.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},n.prototype.updateFilter=function(){switch(this._getFilterType()){case e.FilterType.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case e.FilterType.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},n.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},n.prototype.onButtonClicked=function(t){this.buttonClicked.raise(this,t)},n.prototype._showFilter=function(t){switch(t==e.FilterType.Value&&null==this._edtVal&&(this._edtVal=new e.ValueFilterEditor(this._divEdtVal,this.filter.valueFilter)),t==e.FilterType.Condition&&null==this._edtCnd&&(this._edtCnd=new e.ConditionFilterEditor(this._divEdtCnd,this.filter.conditionFilter)),0!=(t&this.filter.filterType)&&(t==e.FilterType.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0)):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1))),this.filter.filterType){case e.FilterType.None:case e.FilterType.Condition:case e.FilterType.Value:this._divType.style.display="none";break;default:this._divType.style.display=""}},n.prototype._enableLink=function(t,e){t.style.textDecoration=e?"":"none",t.style.fontWeight=e?"":"bold",e?t.href="":t.removeAttribute("href")},n.prototype._getFilterType=function(){return"none"!=this._divEdtVal.style.display?e.FilterType.Value:e.FilterType.Condition},n.prototype._btnClicked=function(i){if(i.preventDefault(),i.stopPropagation(),!t.hasClass(i.target,"wj-state-disabled")){if(i.target==this._aVal)return this._showFilter(e.FilterType.Value),void this._edtVal.focus();if(i.target==this._aCnd)return this._showFilter(e.FilterType.Condition),void this._edtCnd.focus();if(i.target==this._btnAsc||i.target==this._btnDsc){var n=this.filter.column,o=n.sortMemberPath?n.sortMemberPath:n.binding,r=n.grid.collectionView,s=new t.collections.SortDescription(o,i.target==this._btnAsc);r.sortDescriptions.deferUpdate(function(){r.sortDescriptions.clear(),r.sortDescriptions.push(s)})}i.target==this._btnApply?(this.updateFilter(),this.onFilterChanged()):i.target==this._btnClear&&this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()),this.updateEditor(),this.onButtonClicked()}},n.controlTemplate='<div><div wj-part="div-sort"><a wj-part="btn-asc" href="" style="min-width:95px" draggable="false"></a>&nbsp;&nbsp;&nbsp;<a wj-part="btn-dsc" href="" style="min-width:95px" draggable="false"></a></div><div style="text-align:right;margin:10px 0px;font-size:80%"><div wj-part="div-type"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div></div><div wj-part="div-edt-val"></div><div wj-part="div-edt-cnd"></div><div style="text-align:right;margin-top:10px"><a wj-part="btn-apply" href="" draggable="false"></a>&nbsp;&nbsp;<a wj-part="btn-clear" href="" draggable="false"></a></div>',n}(t.Control);e.ColumnFilterEditor=i}(i=e.filter||(e.filter={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){var i;!function(i){"use strict";!function(t){t[t.None=0]="None",t[t.Condition=1]="Condition",t[t.Value=2]="Value",t[t.Both=3]="Both"}(i.FilterType||(i.FilterType={}));var n=i.FilterType,o=function(){function o(i){this._showIcons=!0,this._showSort=!0,this._defFilterType=n.Both,this.filterApplied=new t.Event,this.filterChanging=new t.Event,this.filterChanged=new t.Event;var o="Missing dependency: FlexGridFilter requires ";t.assert(null!=t.grid,o+"wijmo.grid."),t.assert(null!=t.input,o+"wijmo.input."),this._filters=[],this._g=t.asType(i,e.FlexGrid,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this)),this._g.hostElement.addEventListener("mousedown",this._mouseDown.bind(this),!0),this._g.invalidate()}return Object.defineProperty(o.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(e){this._filterColumns=t.asArray(e),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(e){e!=this.showFilterIcons&&(this._showIcons=t.asBoolean(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(e){this._showSort=t.asBoolean(e)},enumerable:!0,configurable:!0}),o.prototype.getColumnFilter=function(n,o){var r,s;for(void 0===o&&(o=!0),t.isString(n)?n=this._g.columns.getColumn(n):t.isNumber(n)&&(n=this._g.columns[n]),n=t.asType(n,e.Column),r=0;r<this._filters.length;r++)if(this._filters[r].column==n)return this._filters[r];return o&&n.binding?(s=new i.ColumnFilter(this,n),this._filters.push(s),s):null},Object.defineProperty(o.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(e){e!=this.defaultFilterType&&(this._defFilterType=t.asEnum(e,n,!1),this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filterDefinition",{get:function(){for(var t,e,i,n={defaultFilterType:this.defaultFilterType,filters:[]},o=0;o<this._filters.length;o++)t=this._filters[o],t&&t.column&&t.column.binding&&(t.conditionFilter.isActive?(e=t.conditionFilter,n.filters.push({binding:t.column.binding,type:"condition",condition1:{operator:e.condition1.operator,value:e.condition1.value},and:e.and,condition2:{operator:e.condition2.operator,value:e.condition2.value}})):t.valueFilter.isActive&&(i=t.valueFilter,n.filters.push({binding:t.column.binding,type:"value",filterText:i.filterText,showValues:i.showValues})));return JSON.stringify(n)},set:function(e){var i,n,o,r=JSON.parse(t.asString(e));for(this.clear(),this.defaultFilterType=r.defaultFilterType,i=0;i<r.filters.length;i++){var s=r.filters[i],a=this._g.columns.getColumn(s.binding),l=this.getColumnFilter(a,!0);if(l)switch(s.type){case"condition":n=l.conditionFilter,n.condition1.value=a.dataType==t.DataType.Date?t.changeType(s.condition1.value,a.dataType,null):s.condition1.value,n.condition1.operator=s.condition1.operator,n.and=s.and,n.condition2.value=a.dataType==t.DataType.Date?t.changeType(s.condition2.value,a.dataType,null):s.condition2.value,n.condition2.operator=s.condition2.operator;break;case"value":o=l.valueFilter,o.filterText=s.filterText,o.showValues=s.showValues}}this.apply()},enumerable:!0,configurable:!0}),o.prototype.editColumnFilter=function(n,o){var r,s=this;if(this.closeEditor(),n=t.isString(n)?this._g.columns.getColumn(n):t.asType(n,e.Column,!1),r=new e.CellRangeEventArgs(this._g.cells,new e.CellRange(-1,n.index)),this.onFilterChanging(r),!r.cancel){r.cancel=!0;var a=document.createElement("div"),l=this.getColumnFilter(n),c=new i.ColumnFilterEditor(a,l,this.showSortButtons);t.addClass(a,"wj-dropdown-panel"),this._g._rtl&&(a.dir="rtl"),c.filterChanged.addHandler(function(){r.cancel=!1,setTimeout(function(){r.cancel||s.apply()})}),c.buttonClicked.addHandler(function(){s.closeEditor(),s.onFilterChanged(r)}),c.lostFocus.addHandler(function(){setTimeout(function(){var e=t.Control.getControl(s._divEdt);e&&!e.containsFocus()&&s.closeEditor()},10)});var h=this._g.columnHeaders,u=o?o.row:h.rows.length-1,p=o?o.col:n.index,d=h.getCellBoundingRect(u,p),f=document.elementFromPoint(d.left+d.width/2,d.top+d.height/2);f=t.closest(f,".wj-cell"),f?t.showPopup(a,f,!1,!1,!1):t.showPopup(a,d),c.focus(),this._divEdt=a,this._edtCol=n}},o.prototype.closeEditor=function(){if(this._divEdt){t.hidePopup(this._divEdt,!0);var e=t.Control.getControl(this._divEdt);e&&e.dispose(),this._divEdt=null,this._edtCol=null}},o.prototype.apply=function(){var e,i=this._g.collectionView;i&&(i.filter?i.refresh():i.filter=this._filter.bind(this)),e=i?i.updateFilterDefinition:null,t.isFunction(e)&&e.call(i,this),this.onFilterApplied()},o.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},o.prototype.onFilterApplied=function(t){this.filterApplied.raise(this,t)},o.prototype.onFilterChanging=function(t){this.filterChanging.raise(this,t)},o.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},o.prototype._filter=function(t){for(var e=0;e<this._filters.length;e++)if(!this._filters[e].apply(t))return!1;return!0},o.prototype._formatItem=function(i,r){var s,a,l;if(r.panel.cellType==e.CellType.ColumnHeader){var c=this._g,h=c.getMergedRange(r.panel,r.row,r.col)||new e.CellRange(r.row,r.col),u=c.columns[h.col],p=c._getBindingColumn(r.panel,r.row,u);(h.row2==r.panel.rows.length-1||u!=p)&&(s=this.getColumnFilter(p,this.defaultFilterType!=n.None),this._filterColumns&&this._filterColumns.indexOf(p.binding)<0&&(s=null),s&&s.filterType!=n.None?(this._showIcons&&(o._filterGlyph||(o._filterGlyph=t.createElement('<div class="'+o._WJC_FILTER+'"><span class="wj-glyph-filter"></span></div>')),a=r.cell.querySelector("div")||r.cell,l=o._filterGlyph.cloneNode(!0),a.insertBefore(l,a.firstChild)),t.toggleClass(r.cell,"wj-filter-on",s.isActive),t.toggleClass(r.cell,"wj-filter-off",!s.isActive)):(t.removeClass(r.cell,"wj-filter-on"),t.removeClass(r.cell,"wj-filter-off")))}},o.prototype._mouseDown=function(e){var i,n,r,s,a=this;e.defaultPrevented||0!=e.button||t.closest(e.target,"."+o._WJC_FILTER)&&(i=this._g,n=i.hitTest(e),n.panel==i.columnHeaders&&(r=i.columns[n.col],s=i._getBindingColumn(n.panel,n.row,r),this._divEdt&&this._edtCol==s?this.closeEditor():setTimeout(function(){a.editColumnFilter(s,n)},this._divEdt?100:0),e.stopPropagation(),e.preventDefault()))},o._WJC_FILTER="wj-elem-filter",o}();i.FlexGridFilter=o}(i=e.filter||(e.filter={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={}));var __extends,wijmo;!function(t){var e;!function(e){var i;!function(i){"use strict";!function(t){t[t.Code=0]="Code",t[t.Selection=1]="Selection",t[t.ExpandSingle=2]="ExpandSingle",t[t.ExpandMulti=3]="ExpandMulti"}(i.DetailVisibilityMode||(i.DetailVisibilityMode={}));var n=i.DetailVisibilityMode,o=function(){function o(t){var e=this;this._mode=n.ExpandSingle,this._g=t,t.mergeManager=new i.DetailMergeManager(t),t.rowHeaders.hostElement.addEventListener("click",this._hdrClick.bind(this)),t.formatItem.addHandler(this._formatItem,this),t.selectionChanged.addHandler(this._selectionChanged,this),t.resizedRow.addHandler(this._resizedRow,this),t.loadingRows.addHandler(function(){e.hideDetail()}),t.draggingRow.addHandler(function(t,i){e.hideDetail(i.row)}),t.formatItem.addHandler(function(t,e){if(e.panel==t.cells){var n=t.rows[e.row];n instanceof i.DetailRow&&(e.cell.style.left="0")}})}return Object.defineProperty(o.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"detailVisibilityMode",{get:function(){return this._mode},set:function(e){e!=this._mode&&(this._mode=t.asEnum(e,n),this.hideDetail(),this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(e){this._maxHeight=t.asNumber(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"createDetailCell",{get:function(){return this._createDetailCellFn},set:function(e){this._createDetailCellFn=t.asFunction(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"disposeDetailCell",{get:function(){return this._disposeDetailCellFn},set:function(e){this._disposeDetailCellFn=t.asFunction(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowHasDetail",{get:function(){return this._rowHasDetailFn},set:function(e){this._rowHasDetailFn=t.asFunction(e,!0)},enumerable:!0,configurable:!0}),o.prototype.isDetailVisible=function(t){var e=this._g.rows;return t=this._toIndex(t),e[t]instanceof i.DetailRow?!0:t<e.length-1&&e[t+1]instanceof i.DetailRow?!0:!1},o.prototype.isDetailAvailable=function(t){this._g.rows;return t=this._toIndex(t),this._hasDetail(t)},o.prototype.hideDetail=function(e){var n,o=this._g.rows;if(null!=e)e=this._toIndex(e),!(o[e]instanceof i.DetailRow)&&e<o.length-1&&o[e+1]instanceof i.DetailRow&&e++,o[e]instanceof i.DetailRow&&(this.disposeDetailCell&&this.disposeDetailCell(o[e]),t.Control.disposeAll(o[e].detail),o.removeAt(e));else for(n=0;n<o.length;n++)o[n]instanceof i.DetailRow&&this.hideDetail(n)},o.prototype.showDetail=function(t,e){var n,o,r,s,a;if(void 0===e&&(e=!1),n=this._g.rows,t=this._toIndex(t),!this.isDetailVisible(t)&&this._hasDetail(t)&&(o=new i.DetailRow(n[t]),o.detail=this._createDetailCell(n[t]),o.detail&&(n.insert(t+1,o),this._g.scrollIntoView(t,-1))),e){for(r=this._g.selection,s=!1,t>0&&n[t]instanceof i.DetailRow&&t--,a=0;a<n.length-1;a++)a!=t&&n[a+1]instanceof i.DetailRow&&(this.hideDetail(a),t>a&&t--,a<r.row&&(r.row--,r.row2--,s=!0));s&&this._g.select(r,!1)}},o.prototype._toIndex=function(i){return i instanceof e.Row&&(i=i.index),t.asNumber(i,!1,!0)},o.prototype._hdrClick=function(t){var i,o,r;(this._mode==n.ExpandMulti||this._mode==n.ExpandSingle)&&(i=this._g,o=i.hitTest(t),o.row>-1&&(r=i.rows[o.row],this.isDetailVisible(o.row)?this.hideDetail(o.row):(i.select(new e.CellRange(o.row,0,o.row,i.columns.length-1)),this.showDetail(o.row,this._mode==n.ExpandSingle)),t.preventDefault()))},o.prototype._selectionChanged=function(t){var e=this;this._mode==n.Selection&&(this._toSel&&clearTimeout(this._toSel),this._toSel=setTimeout(function(){t.selection.row>-1?e.showDetail(t.selection.row,!0):e.hideDetail()},300))},o.prototype._formatItem=function(e,o){var r,s,a,l,c=this._g,h=o.panel.rows[o.row];o.panel==c.cells&&h instanceof i.DetailRow&&null!=h.detail&&(t.addClass(o.cell,"wj-detail"),
o.cell.textContent="",o.cell.style.textAlign="",o.cell.appendChild(h.detail),null==h.height?(t.Control.refreshAll(o.cell),r=getComputedStyle(o.cell),s=h.detail.scrollHeight+parseInt(r.paddingTop)+parseInt(r.paddingBottom),this._maxHeight>0&&s>this._maxHeight&&(s=this._maxHeight),h.height=s,h.detail.style.height||(h.detail.style.height="100%"),a=h.detail.querySelector(".wj-flexgrid"),a&&!a.style.height&&(a.style.height="100%")):setTimeout(function(){t.Control.refreshAll(h.detail)})),(this._mode==n.ExpandMulti||this._mode==n.ExpandSingle)&&o.panel==c.rowHeaders&&0==o.col&&this._hasDetail(o.row)&&(l=o.row<c.rows.length-1&&c.rows[o.row+1]instanceof i.DetailRow,o.cell.innerHTML=l?'<span class="wj-glyph-minus"></span>':'<span class="wj-glyph-plus"></span>')},o.prototype._resizedRow=function(e,n){var o=n.panel.rows[n.row];o instanceof i.DetailRow&&o.detail&&t.Control.refreshAll(o.detail)},o.prototype._hasVisibleDetail=function(t){return t instanceof i.DetailRow||t instanceof e.GroupRow||t instanceof e._NewRowTemplate?!1:!0},o.prototype._hasDetail=function(e){return t.isFunction(this._rowHasDetailFn)?this._rowHasDetailFn(this._g.rows[e]):!0},o.prototype._createDetailCell=function(t,e){return this.createDetailCell?this.createDetailCell(t,e):null},o}();i.FlexGridDetailProvider=o}(i=e.detail||(e.detail={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(t){var e;!function(e){"use strict";var i=function(i){function n(t){i.call(this,t)}return __extends(n,i),n.prototype.getMergedRange=function(n,o,r,s){switch(void 0===s&&(s=!0),n.cellType){case t.CellType.Cell:if(n.rows[o]instanceof e.DetailRow)return new t.CellRange(o,0,o,n.columns.length-1);break;case t.CellType.RowHeader:if(n.rows[o]instanceof e.DetailRow)return new t.CellRange(o-1,r,o,r);if(o<n.rows.length-1&&n.rows[o+1]instanceof e.DetailRow)return new t.CellRange(o,r,o+1,r)}return i.prototype.getMergedRange.call(this,n,o,r,s)},n}(t.MergeManager);e.DetailMergeManager=i}(e=t.detail||(t.detail={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(t){var e;!function(e){"use strict";var i=function(t){function e(){t.call(this),this.isReadOnly=!0}return __extends(e,t),Object.defineProperty(e.prototype,"detail",{get:function(){return this._detail},set:function(t){this._detail=t},enumerable:!0,configurable:!0}),e}(t.Row);e.DetailRow=i}(e=t.detail||(t.detail={}))}(e=t.grid||(t.grid={}))}(wijmo||(wijmo={}));var wj,__extends,wijmo;!function(t){var e;!function(t){function e(t){return t<=n.Enum}var i,n,o,r,s,a,l=function(){function t(){}return t.CreateProp=function(t,e,n,o,r,s){return new i(t,e,n,o,r,s)},t.CreateEvent=function(t,e){return new r(t,e)},t.CreateComplexProp=function(t,e,i){return new s(t,e,i)},t.findProp=function(t,e){return this.findInArr(e,"propertyName",t)},t.findEvent=function(t,e){return this.findInArr(e,"eventName",t)},t.findComplexProp=function(t,e){return this.findInArr(e,"propertyName",t)},t.getMetaData=function(t){switch(t){case wijmo.Control:return new a([this.CreateProp("isDisabled",n.Boolean),this.CreateProp("disabled",n.Boolean)],[this.CreateEvent("gotFocus"),this.CreateEvent("lostFocus")]);case wijmo.input&&wijmo.input.DropDown:return this.getMetaData(wijmo.Control).add([this.CreateProp("isDroppedDown",n.Boolean,"isDroppedDownChanged"),this.CreateProp("showDropDownButton",n.Boolean),this.CreateProp("autoExpandSelection",n.Boolean),this.CreateProp("placeholder",n.String),this.CreateProp("dropDownCssClass",n.String),this.CreateProp("isReadOnly",n.Boolean),this.CreateProp("isRequired",n.Boolean),this.CreateProp("required",n.Boolean),this.CreateProp("text",n.String,"textChanged",null,!0,1e3)],[this.CreateEvent("isDroppedDownChanging"),this.CreateEvent("isDroppedDownChanged",!0),this.CreateEvent("textChanged",!0)]);case wijmo.input&&wijmo.input.ComboBox:return this.getMetaData(wijmo.input.DropDown).add([this.CreateProp("displayMemberPath",n.String),this.CreateProp("selectedValuePath",n.String),this.CreateProp("headerPath",n.String),this.CreateProp("isContentHtml",n.Boolean),this.CreateProp("isEditable",n.Boolean),this.CreateProp("maxDropDownHeight",n.Number),this.CreateProp("maxDropDownWidth",n.Number),this.CreateProp("itemFormatter",n.Function),this.CreateProp("itemsSource",n.Any,"",null,!0,900),this.CreateProp("selectedIndex",n.Number,"selectedIndexChanged",null,!0,1e3),this.CreateProp("selectedItem",n.Any,"selectedIndexChanged",null,!0,1e3),this.CreateProp("selectedValue",n.Any,"selectedIndexChanged",null,!0,1e3)],[this.CreateEvent("selectedIndexChanged",!0)]).addOptions({ngModelProperty:"selectedValue"});case wijmo.input&&wijmo.input.AutoComplete:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp("delay",n.Number),this.CreateProp("maxItems",n.Number),this.CreateProp("minLength",n.Number),this.CreateProp("cssMatch",n.String),this.CreateProp("itemsSourceFunction",n.Function),this.CreateProp("searchMemberPath",n.String)]);case wijmo.input&&wijmo.input.Calendar:return this.getMetaData(wijmo.Control).add([this.CreateProp("monthView",n.Boolean),this.CreateProp("showHeader",n.Boolean),this.CreateProp("itemFormatter",n.Function),this.CreateProp("itemValidator",n.Function),this.CreateProp("displayMonth",n.Date,"displayMonthChanged"),this.CreateProp("firstDayOfWeek",n.Number),this.CreateProp("max",n.Date),this.CreateProp("min",n.Date),this.CreateProp("selectionMode",n.Enum,"",wijmo.input.DateSelectionMode),this.CreateProp("isReadOnly",n.Boolean),this.CreateProp("value",n.Date,"valueChanged")],[this.CreateEvent("valueChanged",!0),this.CreateEvent("displayMonthChanged",!0),this.CreateEvent("formatItem",!1)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.ColorPicker:return this.getMetaData(wijmo.Control).add([this.CreateProp("showAlphaChannel",n.Boolean),this.CreateProp("showColorString",n.Boolean),this.CreateProp("palette",n.Any),this.CreateProp("value",n.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.ListBox:return this.getMetaData(wijmo.Control).add([this.CreateProp("isContentHtml",n.Boolean),this.CreateProp("maxHeight",n.Number),this.CreateProp("selectedValuePath",n.String),this.CreateProp("itemFormatter",n.Function),this.CreateProp("displayMemberPath",n.String),this.CreateProp("checkedMemberPath",n.String),this.CreateProp("itemsSource",n.Any),this.CreateProp("selectedIndex",n.Number,"selectedIndexChanged"),this.CreateProp("selectedItem",n.Any,"selectedIndexChanged"),this.CreateProp("selectedValue",n.Any,"selectedIndexChanged")],[this.CreateEvent("formatItem",!1),this.CreateEvent("itemsChanged",!0),this.CreateEvent("itemChecked",!0),this.CreateEvent("selectedIndexChanged",!0)]).addOptions({ngModelProperty:"selectedValue"});case"ItemTemplate":return new a([],[],[],void 0,void 0,void 0,"owner");case wijmo.input&&wijmo.input.Menu:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp("header",n.String),this.CreateProp("commandParameterPath",n.String),this.CreateProp("commandPath",n.String),this.CreateProp("isButton",n.Boolean),this.CreateProp("value",n.Any,"selectedIndexChanged",null,!1,1e3)],[this.CreateEvent("itemClicked")]);case"MenuItem":return new a([this.CreateProp("value",n.Any,""),this.CreateProp("cmd",n.Any,""),this.CreateProp("cmdParam",n.Any,"")],[],[],"itemsSource",!0);case"MenuSeparator":return new a([],[],[],"itemsSource",!0);case wijmo.input&&wijmo.input.InputDate:return this.getMetaData(wijmo.input.DropDown).add([this.CreateProp("selectionMode",n.Enum,"",wijmo.input.DateSelectionMode),this.CreateProp("format",n.String),this.CreateProp("mask",n.String),this.CreateProp("max",n.Date),this.CreateProp("min",n.Date),this.CreateProp("inputType",n.String),this.CreateProp("value",n.Date,"valueChanged",null,!0,1e3),this.CreateProp("itemValidator",n.Function),this.CreateProp("itemFormatter",n.Function)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputDateTime:return this.getMetaData(wijmo.input.InputDate).add([this.CreateProp("timeMax",n.Date),this.CreateProp("timeMin",n.Date),this.CreateProp("timeStep",n.Number),this.CreateProp("timeFormat",n.String)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputNumber:return this.getMetaData(wijmo.Control).add([this.CreateProp("showSpinner",n.Boolean),this.CreateProp("max",n.Number),this.CreateProp("min",n.Number),this.CreateProp("step",n.Number),this.CreateProp("isRequired",n.Boolean),this.CreateProp("required",n.Boolean),this.CreateProp("placeholder",n.String),this.CreateProp("inputType",n.String),this.CreateProp("format",n.String),this.CreateProp("isReadOnly",n.Boolean),this.CreateProp("value",n.Number,"valueChanged"),this.CreateProp("text",n.String,"textChanged")],[this.CreateEvent("valueChanged",!0),this.CreateEvent("textChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputMask:return this.getMetaData(wijmo.Control).add([this.CreateProp("mask",n.String),this.CreateProp("isRequired",n.Boolean),this.CreateProp("promptChar",n.String),this.CreateProp("placeholder",n.String),this.CreateProp("rawValue",n.String,"valueChanged"),this.CreateProp("value",n.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputTime:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp("max",n.Date),this.CreateProp("min",n.Date),this.CreateProp("step",n.Number),this.CreateProp("format",n.String),this.CreateProp("mask",n.String),this.CreateProp("inputType",n.String),this.CreateProp("value",n.Date,"valueChanged",null,!0,1e3)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputColor:return this.getMetaData(wijmo.input.DropDown).add([this.CreateProp("showAlphaChannel",n.Boolean),this.CreateProp("value",n.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.Popup:return this.getMetaData(wijmo.Control).add([this.CreateProp("owner",n.String),this.CreateProp("showTrigger",n.Enum,"",wijmo.input.PopupTrigger),this.CreateProp("hideTrigger",n.Enum,"",wijmo.input.PopupTrigger),this.CreateProp("fadeIn",n.Boolean),this.CreateProp("fadeOut",n.Boolean),this.CreateProp("dialogResultEnter",n.String),this.CreateProp("modal",n.Boolean)],[this.CreateEvent("showing"),this.CreateEvent("shown"),this.CreateEvent("hiding"),this.CreateEvent("hidden")]);case wijmo.input&&wijmo.input.MultiSelect:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp("checkedMemberPath",n.String),this.CreateProp("maxHeaderItems",n.Number),this.CreateProp("headerFormat",n.String),this.CreateProp("headerFormatter",n.Function),this.CreateProp("checkedItems",n.Any,"checkedItemsChanged",o.TwoWay,!0,950)],[this.CreateEvent("checkedItemsChanged",!0)]);case"CollectionViewNavigator":return new a([this.CreateProp("cv",n.Any)]);case"CollectionViewPager":return new a([this.CreateProp("cv",n.Any)]);case wijmo.grid&&wijmo.grid.FlexGrid:return this.getMetaData(wijmo.Control).add([this.CreateProp("allowAddNew",n.Boolean),this.CreateProp("allowDelete",n.Boolean),this.CreateProp("allowDragging",n.Enum,"",wijmo.grid.AllowDragging),this.CreateProp("allowMerging",n.Enum,"",wijmo.grid.AllowMerging),this.CreateProp("allowResizing",n.Enum,"",wijmo.grid.AllowResizing),this.CreateProp("allowSorting",n.Boolean),this.CreateProp("autoSizeMode",n.Enum,"",wijmo.grid.AutoSizeMode),this.CreateProp("autoGenerateColumns",n.Boolean),this.CreateProp("childItemsPath",n.Any),this.CreateProp("groupHeaderFormat",n.String),this.CreateProp("headersVisibility",n.Enum,"",wijmo.grid.HeadersVisibility),this.CreateProp("showSelectedHeaders",n.Enum,"",wijmo.grid.HeadersVisibility),this.CreateProp("showMarquee",n.Boolean),this.CreateProp("itemFormatter",n.Function),this.CreateProp("isReadOnly",n.Boolean),this.CreateProp("imeEnabled",n.Boolean),this.CreateProp("mergeManager",n.Any),this.CreateProp("selectionMode",n.Enum,"",wijmo.grid.SelectionMode),this.CreateProp("showGroups",n.Boolean),this.CreateProp("showSort",n.Boolean),this.CreateProp("showAlternatingRows",n.Boolean),this.CreateProp("treeIndent",n.Number),this.CreateProp("itemsSource",n.Any),this.CreateProp("autoClipboard",n.Boolean),this.CreateProp("frozenRows",n.Number),this.CreateProp("frozenColumns",n.Number),this.CreateProp("deferResizing",n.Boolean),this.CreateProp("sortRowIndex",n.Number),this.CreateProp("stickyHeaders",n.Boolean),this.CreateProp("preserveSelection",n.Boolean),this.CreateProp("preserveOutlineState",n.Boolean)],[this.CreateEvent("beginningEdit"),this.CreateEvent("cellEditEnded"),this.CreateEvent("cellEditEnding"),this.CreateEvent("prepareCellForEdit"),this.CreateEvent("formatItem"),this.CreateEvent("resizingColumn"),this.CreateEvent("resizedColumn"),this.CreateEvent("autoSizingColumn"),this.CreateEvent("autoSizedColumn"),this.CreateEvent("draggingColumn"),this.CreateEvent("draggedColumn"),this.CreateEvent("sortingColumn"),this.CreateEvent("sortedColumn"),this.CreateEvent("resizingRow"),this.CreateEvent("resizedRow"),this.CreateEvent("autoSizingRow"),this.CreateEvent("autoSizedRow"),this.CreateEvent("draggingRow"),this.CreateEvent("draggedRow"),this.CreateEvent("deletingRow"),this.CreateEvent("loadingRows"),this.CreateEvent("loadedRows"),this.CreateEvent("rowEditEnded"),this.CreateEvent("rowEditEnding"),this.CreateEvent("rowAdded"),this.CreateEvent("groupCollapsedChanged"),this.CreateEvent("groupCollapsedChanging"),this.CreateEvent("itemsSourceChanged",!0),this.CreateEvent("selectionChanging"),this.CreateEvent("selectionChanged",!0),this.CreateEvent("scrollPositionChanged",!1),this.CreateEvent("updatingView"),this.CreateEvent("updatedView"),this.CreateEvent("updatingLayout"),this.CreateEvent("updatedLayout"),this.CreateEvent("pasting"),this.CreateEvent("pasted"),this.CreateEvent("copying"),this.CreateEvent("copied")]);case wijmo.grid&&wijmo.grid.Column:return new a([this.CreateProp("name",n.String),this.CreateProp("dataMap",n.Any),this.CreateProp("dataType",n.Enum,"",wijmo.DataType),this.CreateProp("binding",n.String),this.CreateProp("sortMemberPath",n.String),this.CreateProp("format",n.String),this.CreateProp("header",n.String),this.CreateProp("width",n.Number),this.CreateProp("minWidth",n.Number),this.CreateProp("maxWidth",n.Number),this.CreateProp("align",n.String),this.CreateProp("allowDragging",n.Boolean),this.CreateProp("allowSorting",n.Boolean),this.CreateProp("allowResizing",n.Boolean),this.CreateProp("allowMerging",n.Boolean),this.CreateProp("aggregate",n.Enum,"",wijmo.Aggregate),this.CreateProp("isReadOnly",n.Boolean),this.CreateProp("cssClass",n.String),this.CreateProp("isContentHtml",n.Boolean),this.CreateProp("isSelected",n.Boolean,"grid.selectionChanged"),this.CreateProp("visible",n.Boolean),this.CreateProp("wordWrap",n.Boolean),this.CreateProp("mask",n.String),this.CreateProp("inputType",n.String),this.CreateProp("isRequired",n.Boolean),this.CreateProp("required",n.Boolean),this.CreateProp("showDropDown",n.Boolean),this.CreateProp("dropDownCssClass",n.String)],[],[],"columns",!0);case"FlexGridCellTemplate":return new a([this.CreateProp("cellType",n.String,"",null,!1),this.CreateProp("cellOverflow",n.String,"")],[],[],void 0,void 0,void 0,"owner");case wijmo.grid&&wijmo.grid.filter&&wijmo.grid.filter.FlexGridFilter:return new a([this.CreateProp("showFilterIcons",n.Boolean),this.CreateProp("showSortButtons",n.Boolean),this.CreateProp("defaultFilterType",n.Enum,"",wijmo.grid.filter.FilterType),this.CreateProp("filterColumns",n.Any)],[this.CreateEvent("filterChanging"),this.CreateEvent("filterChanged"),this.CreateEvent("filterApplied")],[],void 0,void 0,void 0,"");case wijmo.grid&&wijmo.grid.grouppanel&&wijmo.grid.grouppanel.GroupPanel:return this.getMetaData(wijmo.Control).add([this.CreateProp("hideGroupedColumns",n.Boolean),this.CreateProp("maxGroups",n.Number),this.CreateProp("placeholder",n.String),this.CreateProp("grid",n.Any)]);case wijmo.grid&&wijmo.grid.detail&&wijmo.grid.detail.FlexGridDetailProvider:return new a([this.CreateProp("maxHeight",n.Number),this.CreateProp("detailVisibilityMode",n.Enum,"",wijmo.grid.detail.DetailVisibilityMode),this.CreateProp("rowHasDetail",n.Function)],[],[],void 0,void 0,void 0,"");case wijmo.grid&&wijmo.grid.sheet&&wijmo.grid.sheet.FlexSheet:return this.getMetaData(wijmo.grid.FlexGrid).add([this.CreateProp("isTabHolderVisible",n.Boolean),this.CreateProp("selectedSheetIndex",n.Number,"selectedSheetChanged")],[this.CreateEvent("selectedSheetChanged",!0),this.CreateEvent("draggingRowColumn"),this.CreateEvent("droppingRowColumn"),this.CreateEvent("loaded")]);case wijmo.grid&&wijmo.grid.sheet&&wijmo.grid.sheet.Sheet:return new a([this.CreateProp("name",n.String),this.CreateProp("itemsSource",n.Any),this.CreateProp("visible",n.Boolean),this.CreateProp("rowCount",n.Number,"",null,!1),this.CreateProp("columnCount",n.Number,"",null,!1)],[this.CreateEvent("nameChanged")]).addOptions({parentReferenceProperty:""});case wijmo.grid&&wijmo.grid.multirow&&wijmo.grid.multirow.MultiRow:return this.getMetaData(wijmo.grid.FlexGrid).add([this.CreateProp("layoutDefinition",n.Any),this.CreateProp("centerHeadersVertically",n.Boolean),this.CreateProp("collapsedHeaders",n.Boolean),this.CreateProp("showHeaderCollapseButton",n.Boolean)]);case wijmo.chart&&wijmo.chart.FlexChartBase:return this.getMetaData(wijmo.Control).add([this.CreateProp("binding",n.String),this.CreateProp("footer",n.String),this.CreateProp("header",n.String),this.CreateProp("selectionMode",n.Enum,"",wijmo.chart.SelectionMode),this.CreateProp("palette",n.Any),this.CreateProp("plotMargin",n.Any),this.CreateProp("footerStyle",n.Any),this.CreateProp("headerStyle",n.Any),this.CreateProp("tooltipContent",n.String,"",null,!1),this.CreateProp("itemsSource",n.Any)],[this.CreateEvent("rendering"),this.CreateEvent("rendered")]);case wijmo.chart&&wijmo.chart.FlexChartCore:return this.getMetaData(wijmo.chart.FlexChartBase).add([this.CreateProp("bindingX",n.String),this.CreateProp("interpolateNulls",n.Boolean),this.CreateProp("legendToggle",n.Boolean),this.CreateProp("symbolSize",n.Number),this.CreateProp("options",n.Any),this.CreateProp("selection",n.Any,"selectionChanged"),this.CreateProp("itemFormatter",n.Function),this.CreateProp("labelContent",n.String,"",null,!1)],[this.CreateEvent("seriesVisibilityChanged"),this.CreateEvent("selectionChanged",!0)],[this.CreateComplexProp("axisX",!1,!1),this.CreateComplexProp("axisY",!1,!1),this.CreateComplexProp("axes",!0),this.CreateComplexProp("plotAreas",!0)]);case wijmo.chart&&wijmo.chart.FlexChart:return this.getMetaData(wijmo.chart.FlexChartCore).add([this.CreateProp("chartType",n.Enum,"",wijmo.chart.ChartType),this.CreateProp("rotated",n.Boolean),this.CreateProp("stacking",n.Enum,"",wijmo.chart.Stacking)]);case wijmo.chart&&wijmo.chart.FlexPie:return this.getMetaData(wijmo.chart.FlexChartBase).add([this.CreateProp("bindingName",n.String),this.CreateProp("innerRadius",n.Number),this.CreateProp("isAnimated",n.Boolean),this.CreateProp("offset",n.Number),this.CreateProp("reversed",n.Boolean),this.CreateProp("startAngle",n.Number),this.CreateProp("selectedItemPosition",n.Enum,"",wijmo.chart.Position),this.CreateProp("selectedItemOffset",n.Number),this.CreateProp("itemFormatter",n.Function),this.CreateProp("labelContent",n.String,"",null,!1)]);case wijmo.chart&&wijmo.chart.FlexPie&&wijmo.chart.hierarchical&&wijmo.chart.hierarchical.Sunburst:return this.getMetaData(wijmo.chart.FlexChartBase).add([this.CreateProp("bindingName",n.Any),this.CreateProp("innerRadius",n.Number),this.CreateProp("isAnimated",n.Boolean),this.CreateProp("offset",n.Number),this.CreateProp("reversed",n.Boolean),this.CreateProp("startAngle",n.Number),this.CreateProp("selectedItemPosition",n.Enum,"",wijmo.chart.Position),this.CreateProp("selectedItemOffset",n.Number),this.CreateProp("itemFormatter",n.Function),this.CreateProp("labelContent",n.String,"",null,!1),this.CreateProp("childItemsPath",n.Any)]);case wijmo.chart&&wijmo.chart.Axis:return new a([this.CreateProp("axisLine",n.Boolean),this.CreateProp("format",n.String),this.CreateProp("labels",n.Boolean),this.CreateProp("majorGrid",n.Boolean),this.CreateProp("majorTickMarks",n.Enum,"",wijmo.chart.TickMark),this.CreateProp("majorUnit",n.Number),this.CreateProp("max",n.Number),this.CreateProp("min",n.Number),this.CreateProp("position",n.Enum,"",wijmo.chart.Position),this.CreateProp("reversed",n.Boolean),this.CreateProp("title",n.String),this.CreateProp("labelAngle",n.Number),this.CreateProp("minorGrid",n.Boolean),this.CreateProp("minorTickMarks",n.Enum,"",wijmo.chart.TickMark),this.CreateProp("minorUnit",n.Number),this.CreateProp("origin",n.Number),this.CreateProp("logBase",n.Number),this.CreateProp("plotArea",n.Any),this.CreateProp("labelAlign",n.String),this.CreateProp("name",n.String),this.CreateProp("overlappingLabels",n.Enum,"",wijmo.chart.OverlappingLabels),this.CreateProp("labelPadding",n.Number),this.CreateProp("itemFormatter",n.Function),this.CreateProp("itemsSource",n.Any),this.CreateProp("binding",n.String)],[this.CreateEvent("rangeChanged")],[],"axes",!0);case wijmo.chart&&wijmo.chart.Legend:return new a([this.CreateProp("position",n.Enum,"",wijmo.chart.Position)],[],[],"legend",!1,!1);case wijmo.chart&&wijmo.chart.DataLabelBase:return new a([this.CreateProp("content",n.Any,""),this.CreateProp("border",n.Boolean)],[],[],"dataLabel",!1,!1);case wijmo.chart&&wijmo.chart.DataLabel:return this.getMetaData(wijmo.chart.DataLabelBase).add([this.CreateProp("position",n.Enum,"",wijmo.chart.LabelPosition)]);case wijmo.chart&&wijmo.chart.PieDataLabel:return this.getMetaData(wijmo.chart.DataLabelBase).add([this.CreateProp("position",n.Enum,"",wijmo.chart.PieLabelPosition)]);case wijmo.chart&&wijmo.chart.SeriesBase:return new a([this.CreateProp("axisX",n.Any),this.CreateProp("axisY",n.Any),this.CreateProp("binding",n.String),this.CreateProp("bindingX",n.String),this.CreateProp("cssClass",n.String),this.CreateProp("name",n.String),this.CreateProp("style",n.Any),this.CreateProp("altStyle",n.Any),this.CreateProp("symbolMarker",n.Enum,"",wijmo.chart.Marker),this.CreateProp("symbolSize",n.Number),this.CreateProp("symbolStyle",n.Any),this.CreateProp("visibility",n.Enum,"chart.seriesVisibilityChanged",wijmo.chart.SeriesVisibility),this.CreateProp("itemsSource",n.Any)],[],[this.CreateComplexProp("axisX",!1,!0),this.CreateComplexProp("axisY",!1,!0)],"series",!0);case wijmo.chart&&wijmo.chart.Series:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("chartType",n.Enum,"",wijmo.chart.ChartType)]);case wijmo.chart&&wijmo.chart.LineMarker:return new a([this.CreateProp("isVisible",n.Boolean),this.CreateProp("seriesIndex",n.Number),this.CreateProp("horizontalPosition",n.Number),this.CreateProp("content",n.Function),this.CreateProp("verticalPosition",n.Number),this.CreateProp("alignment",n.Enum,"",wijmo.chart.LineMarkerAlignment),this.CreateProp("lines",n.Enum,"",wijmo.chart.LineMarkerLines),this.CreateProp("interaction",n.Enum,"",wijmo.chart.LineMarkerInteraction),this.CreateProp("dragLines",n.Boolean),this.CreateProp("dragThreshold",n.Number),this.CreateProp("dragContent",n.Boolean)],[this.CreateEvent("positionChanged")],[],void 0,void 0,void 0,"");case wijmo.chart&&wijmo.chart.DataPoint:return new a([this.CreateProp("x",n.AnyPrimitive),this.CreateProp("y",n.AnyPrimitive)],[],[],"");case wijmo.chart&&wijmo.chart.annotation&&wijmo.chart.annotation.AnnotationLayer:return new a([],[],[],void 0,void 0,void 0,"");case"FlexChartAnnotation":return new a([this.CreateProp("type",n.String,"",null,!1),this.CreateProp("attachment",n.Enum,"",wijmo.chart.annotation.AnnotationAttachment),this.CreateProp("position",n.Enum,"",wijmo.chart.annotation.AnnotationPosition),this.CreateProp("point",n.Any),this.CreateProp("seriesIndex",n.Number),this.CreateProp("pointIndex",n.Number),this.CreateProp("offset",n.Any),this.CreateProp("style",n.Any),this.CreateProp("isVisible",n.Boolean),this.CreateProp("tooltip",n.String),this.CreateProp("text",n.String),this.CreateProp("content",n.String),this.CreateProp("name",n.String),this.CreateProp("width",n.Number),this.CreateProp("height",n.Number),this.CreateProp("start",n.Any),this.CreateProp("end",n.Any),this.CreateProp("radius",n.Number),this.CreateProp("length",n.Number),this.CreateProp("href",n.String)],[],[this.CreateComplexProp("point",!1,!0),this.CreateComplexProp("start",!1,!0),this.CreateComplexProp("end",!1,!0),this.CreateComplexProp("points",!0)],"items",!0);case wijmo.chart&&wijmo.chart.interaction&&wijmo.chart.interaction.RangeSelector:return new a([this.CreateProp("isVisible",n.Boolean),this.CreateProp("min",n.Number),this.CreateProp("max",n.Number),this.CreateProp("orientation",n.Enum,"",wijmo.chart.interaction.Orientation),this.CreateProp("seamless",n.Boolean),this.CreateProp("minScale",n.Number),this.CreateProp("maxScale",n.Number)],[this.CreateEvent("rangeChanged")],[],void 0,void 0,void 0,"");case wijmo.chart&&wijmo.chart.interaction&&wijmo.chart.interaction.ChartGestures:return new a([this.CreateProp("mouseAction",n.Enum,"",wijmo.chart.interaction.MouseAction),this.CreateProp("interactiveAxes",n.Enum,"",wijmo.chart.interaction.InteractiveAxes),this.CreateProp("enable",n.Boolean),this.CreateProp("scaleX",n.Number),this.CreateProp("scaleY",n.Number),this.CreateProp("posX",n.Number),this.CreateProp("posY",n.Number)],[],[],void 0,void 0,void 0,"");case wijmo.chart&&wijmo.chart.animation&&wijmo.chart.animation.ChartAnimation:return new a([this.CreateProp("animationMode",n.Enum,"",wijmo.chart.animation.AnimationMode),this.CreateProp("easing",n.Enum,"",wijmo.chart.animation.Easing),this.CreateProp("duration",n.Number),this.CreateProp("axisAnimation",n.Boolean)],[],[],void 0,void 0,void 0,"");case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.FinancialChart:return this.getMetaData(wijmo.chart.FlexChartCore).add([this.CreateProp("chartType",n.Enum,"",wijmo.chart.finance.FinancialChartType)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.FinancialSeries:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("chartType",n.Enum,"",wijmo.chart.finance.FinancialChartType)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.TrendLineBase:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("sampleCount",n.Number)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.TrendLine:return this.getMetaData(wijmo.chart.analytics.TrendLineBase).add([this.CreateProp("order",n.Number),this.CreateProp("fitType",n.Enum,"",wijmo.chart.analytics.TrendLineFitType)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.MovingAverage:return this.getMetaData(wijmo.chart.analytics.TrendLineBase).add([this.CreateProp("period",n.Number),this.CreateProp("type",n.Enum,"",wijmo.chart.analytics.MovingAverageType)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.FunctionSeries:return this.getMetaData(wijmo.chart.analytics.TrendLineBase).add([this.CreateProp("min",n.Number),this.CreateProp("max",n.Number)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.YFunctionSeries:return this.getMetaData(wijmo.chart.analytics.FunctionSeries).add([this.CreateProp("func",n.Function)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.ParametricFunctionSeries:return this.getMetaData(wijmo.chart.analytics.FunctionSeries).add([this.CreateProp("func",n.Function),this.CreateProp("xFunc",n.Function),this.CreateProp("yFunc",n.Function)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.Waterfall:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("relativeData",n.Boolean),this.CreateProp("start",n.Number),this.CreateProp("startLabel",n.String),this.CreateProp("showTotal",n.Boolean),this.CreateProp("totalLabel",n.String),this.CreateProp("showIntermediateTotal",n.Boolean),this.CreateProp("intermediateTotalPositions",n.Any),this.CreateProp("intermediateTotalLabels",n.Any),this.CreateProp("connectorLines",n.Boolean),this.CreateProp("styles",n.Any)]);case wijmo.chart&&wijmo.chart.PlotArea:return new a([this.CreateProp("column",n.Number),this.CreateProp("height",n.String),this.CreateProp("name",n.String),this.CreateProp("row",n.Number),this.CreateProp("style",n.Any),this.CreateProp("width",n.String)],[],[],"plotAreas",!0);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Fibonacci:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("high",n.Number),this.CreateProp("low",n.Number),this.CreateProp("labelPosition",n.Enum,"",wijmo.chart.LabelPosition),this.CreateProp("levels",n.Any),this.CreateProp("minX",n.AnyPrimitive),this.CreateProp("maxX",n.AnyPrimitive),this.CreateProp("uptrend",n.Boolean)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.FibonacciTimeZones:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("startX",n.Any),this.CreateProp("endX",n.Any),this.CreateProp("labelPosition",n.Enum,"",wijmo.chart.LabelPosition),this.CreateProp("levels",n.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.FibonacciArcs:case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.FibonacciFans:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("start",n.Any),this.CreateProp("end",n.Any),this.CreateProp("labelPosition",n.Enum,"",wijmo.chart.LabelPosition),this.CreateProp("levels",n.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.OverlayIndicatorBase:return this.getMetaData(wijmo.chart.SeriesBase);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.SingleOverlayIndicatorBase:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",n.Number)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.MacdBase:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("fastPeriod",n.Number),this.CreateProp("slowPeriod",n.Number),this.CreateProp("smoothingPeriod",n.Number)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Macd:return this.getMetaData(wijmo.chart.finance.analytics.MacdBase).add([this.CreateProp("styles",n.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.MacdHistogram:return this.getMetaData(wijmo.chart.finance.analytics.MacdBase);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.ATR:case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.RSI:case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.WilliamsR:return this.getMetaData(wijmo.chart.finance.analytics.SingleOverlayIndicatorBase);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.CCI:return this.getMetaData(wijmo.chart.finance.analytics.SingleOverlayIndicatorBase).add([this.CreateProp("constant",n.Number)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Stochastic:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("dPeriod",n.Number),this.CreateProp("kPeriod",n.Number),this.CreateProp("smoothingPeriod",n.Number),this.CreateProp("styles",n.Any)]);
case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Envelopes:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",n.Number),this.CreateProp("size",n.Number),this.CreateProp("type",n.Enum,"",wijmo.chart.finance.analytics.MovingAverageType)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.BollingerBands:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",n.Number),this.CreateProp("multiplier",n.Number)]);case wijmo.gauge&&wijmo.gauge.Gauge:return this.getMetaData(wijmo.Control).add([this.CreateProp("value",n.Number,"valueChanged"),this.CreateProp("min",n.Number),this.CreateProp("max",n.Number),this.CreateProp("origin",n.Number),this.CreateProp("isReadOnly",n.Boolean),this.CreateProp("step",n.Number),this.CreateProp("format",n.String),this.CreateProp("thickness",n.Number),this.CreateProp("hasShadow",n.Boolean),this.CreateProp("isAnimated",n.Boolean),this.CreateProp("showText",n.Enum,"",wijmo.gauge.ShowText),this.CreateProp("showRanges",n.Boolean),this.CreateProp("thumbSize",n.Number),this.CreateProp("getText",n.Function)],[this.CreateEvent("valueChanged",!0)],[this.CreateComplexProp("ranges",!0),this.CreateComplexProp("pointer",!1,!1),this.CreateComplexProp("face",!1,!1)]).addOptions({ngModelProperty:"value"});case wijmo.gauge&&wijmo.gauge.LinearGauge:return this.getMetaData(wijmo.gauge.Gauge).add([this.CreateProp("direction",n.Enum,"",wijmo.gauge.GaugeDirection)]);case wijmo.gauge&&wijmo.gauge.BulletGraph:return this.getMetaData(wijmo.gauge.LinearGauge).add([this.CreateProp("target",n.Number),this.CreateProp("good",n.Number),this.CreateProp("bad",n.Number)]);case wijmo.gauge&&wijmo.gauge.RadialGauge:return this.getMetaData(wijmo.gauge.Gauge).add([this.CreateProp("autoScale",n.Boolean),this.CreateProp("startAngle",n.Number),this.CreateProp("sweepAngle",n.Number)]);case wijmo.gauge&&wijmo.gauge.Range:return new a([this.CreateProp("color",n.String),this.CreateProp("min",n.Number),this.CreateProp("max",n.Number),this.CreateProp("name",n.String),this.CreateProp("thickness",n.Number)],[],[],"ranges",!0);case wijmo.olap&&wijmo.olap.PivotGrid:return this.getMetaData(wijmo.grid.FlexGrid).add([this.CreateProp("showDetailOnDoubleClick",n.Boolean),this.CreateProp("customContextMenu",n.Boolean),this.CreateProp("collapsibleSubtotals",n.Boolean),this.CreateProp("centerHeadersVertically",n.Boolean)]);case wijmo.olap&&wijmo.olap.PivotChart:return new a([this.CreateProp("chartType",n.Enum,"",wijmo.olap.PivotChartType),this.CreateProp("showHierarchicalAxes",n.Boolean),this.CreateProp("showTotals",n.Boolean),this.CreateProp("stacking",n.Enum,"",wijmo.chart.Stacking),this.CreateProp("maxSeries",n.Number),this.CreateProp("maxPoints",n.Number),this.CreateProp("itemsSource",n.Any)]);case wijmo.olap&&wijmo.olap.PivotPanel:return new a([this.CreateProp("autoGenerateFields",n.Boolean),this.CreateProp("viewDefinition",n.String),this.CreateProp("engine",n.Any),this.CreateProp("itemsSource",n.Any)],[this.CreateEvent("itemsSourceChanged"),this.CreateEvent("viewDefinitionChanged"),this.CreateEvent("updatingView"),this.CreateEvent("updatedView")]);case wijmo.olap&&wijmo.olap.PivotField:return new a([this.CreateProp("binding",n.String),this.CreateProp("header",n.String),this.CreateProp("dataType",n.Enum,"",wijmo.DataType)],[],[],"",!0,!0,"")}return new a([])},t.getClassName=function(t){return(t.toString().match(/function (.+?)\(/)||[,""])[1]},t.toCamelCase=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},t.findInArr=function(t,e,i){for(var n in t)if(t[n][e]===i)return t[n];return null},t}();t.ControlMetaFactory=l,i=function(){function t(t,e,i,n,o,r){void 0===o&&(o=!0),void 0===r&&(r=0),this._priority=0,this._propertyName=t,this._propertyType=e,this._changeEvent=i,this._enumType=n,this._isNativeControlProperty=o,this._priority=r}return Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propertyType",{get:function(){return this._propertyType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeEvent",{get:function(){return this._changeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enumType",{get:function(){return this._enumType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingMode",{get:function(){return this.changeEvent?o.TwoWay:o.OneWay},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNativeControlProperty",{get:function(){return this._isNativeControlProperty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldUpdateSource",{get:function(){return this.bindingMode===o.TwoWay&&this.propertyType!=n.EventHandler},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){wijmo.copy(this,t)},t.prototype.castValueToType=function(t){var e,i,o;if(void 0==t)return t;if(e=this.propertyType,i=n,e===i.AnyPrimitive){if(!wijmo.isString(t))return t;if("true"!==t&&"false"!==t)return o=+t,isNaN(o)?(o=this._parseDate(t),wijmo.isString(o)?t:o):o;e=i.Boolean}switch(e){case i.Number:if("string"==typeof t){if(t.indexOf("*")>=0)return t;if(""===t.trim())return null}return+t;case i.Boolean:return"true"===t?!0:"false"===t?!1:!!t;case i.String:return t+"";case i.Date:return this._parseDate(t);case i.Enum:return"number"==typeof t?t:this.enumType[t];default:return t}},t.prototype._parseDate=function(t){if(t&&wijmo.isString(t)){t=t.replace(/["']/g,"");var e=wijmo.changeType(t,wijmo.DataType.Date,"r");if(wijmo.isDate(e))return e}return t},t}(),t.PropDescBase=i,function(t){t[t.Boolean=0]="Boolean",t[t.Number=1]="Number",t[t.Date=2]="Date",t[t.String=3]="String",t[t.AnyPrimitive=4]="AnyPrimitive",t[t.Enum=5]="Enum",t[t.Function=6]="Function",t[t.EventHandler=7]="EventHandler",t[t.Any=8]="Any"}(t.PropertyType||(t.PropertyType={})),n=t.PropertyType,t.isSimpleType=e,function(t){t[t.OneWay=0]="OneWay",t[t.TwoWay=1]="TwoWay"}(t.BindingMode||(t.BindingMode={})),o=t.BindingMode,r=function(){function t(t,e){this._eventName=t,this._isPropChanged=e}return Object.defineProperty(t.prototype,"eventName",{get:function(){return this._eventName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPropChanged",{get:function(){return this._isPropChanged===!0},enumerable:!0,configurable:!0}),t}(),t.EventDescBase=r,s=function(){function t(t,e,i){void 0===i&&(i=!1),this.isArray=!1,this._ownsObject=!1,this.propertyName=t,this.isArray=e,this._ownsObject=i}return Object.defineProperty(t.prototype,"ownsObject",{get:function(){return this.isArray||this._ownsObject},enumerable:!0,configurable:!0}),t}(),t.ComplexPropDescBase=s,a=function(){function t(t,e,i,n,o,r,s,a){this._props=[],this._events=[],this._complexProps=[],this.props=t,this.events=e,this.complexProps=i,this.parentProperty=n,this.isParentPropertyArray=o,this.ownsObject=r,this.parentReferenceProperty=s,this.ngModelProperty=a}return Object.defineProperty(t.prototype,"props",{get:function(){return this._props},set:function(t){this._props=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this._events},set:function(t){this._events=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"complexProps",{get:function(){return this._complexProps},set:function(t){this._complexProps=t||[]},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e,i,n,o,r,s,a){return this.addOptions({props:t,events:e,complexProps:i,parentProperty:n,isParentPropertyArray:o,ownsObject:r,parentReferenceProperty:s,ngModelProperty:a})},t.prototype.addOptions=function(t){var e,i,n;for(e in t)i=this[e],n=t[e],i instanceof Array?this[e]=i.concat(n||[]):void 0!==n&&(this[e]=n);return this},t.prototype.prepare=function(){var t=[].concat(this._props);this._props.sort(function(e,i){var n=e.priority-i.priority;return n||(n=t.indexOf(e)-t.indexOf(i)),n})},t}(),t.MetaDataBase=a}(e=t.interop||(t.interop={}))}(wj||(wj={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(t){var e,i,n,o=function(t){function o(){t.apply(this,arguments)}return __extends(o,t),o.CreateProp=function(t,i,n,o,r,s){return new e(t,i,n,o,r,s)},o.CreateEvent=function(t,e){return new i(t,e)},o.CreateComplexProp=function(t,e,i){return new n(t,e,i)},o.findProp=function(t,e){return wj.interop.ControlMetaFactory.findProp(t,e)},o.findEvent=function(t,e){return wj.interop.ControlMetaFactory.findEvent(t,e)},o.findComplexProp=function(t,e){return wj.interop.ControlMetaFactory.findComplexProp(t,e)},o}(wj.interop.ControlMetaFactory);t.MetaFactory=o,e=function(t){function e(e,i,n,o,r,s){t.call(this,e,i,n,o,r,s),this._scopeBindingMode=this.propertyType===wj.interop.PropertyType.EventHandler?"&":this.bindingMode==wj.interop.BindingMode.OneWay&&wj.interop.isSimpleType(this.propertyType)?"@":"="}return __extends(e,t),Object.defineProperty(e.prototype,"scopeBindingMode",{get:function(){return this._scopeBindingMode},set:function(t){this._scopeBindingMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customHandler",{get:function(){return this._customHandler},set:function(t){this._customHandler=t},enumerable:!0,configurable:!0}),e}(wj.interop.PropDescBase),t.PropDesc=e,i=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(wj.interop.EventDescBase),t.EventDesc=i,n=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(wj.interop.ComplexPropDescBase),t.ComplexPropDesc=n}(e=t.angular||(t.angular={}))}(wijmo||(wijmo={})),function(t){var e;!function(e){var i,n=function(){function n(){this.replace=!0,this.restrict="E",this.template="<div />",this.transclude=!1,this._props=[],this._events=[],this._complexProps=[];var t=this;this._dirId=++n._dirIdCounter+"",this.link=this._postLinkFn(),this.controller=["$scope","$parse","$element",function(e,i,o){t._$parse=i,this[n._cntrlScopeProp]=e,e[n._scopeChildrenProp]=[],t._controllerImpl(this,e,o)}],this._initDirective()}return Object.defineProperty(n.prototype,"_controlConstructor",{get:function(){throw"Abstract method call"},enumerable:!0,configurable:!0}),n.prototype._getMetaDataId=function(){return this._controlConstructor},n.prototype._getMetaData=function(){return e.MetaFactory.getMetaData(this._getMetaDataId())},n.prototype._initDirective=function(){this._initSharedMeta(),this._prepareProps(),this._initEvents(),this._initScopeEvents(),this._initScopeDescription()},n.prototype._initSharedMeta=function(){var t,i,n,o=this._getMetaData();this._props=o.props,this._events=o.events,this._complexProps=o.complexProps,this._property=o.parentProperty,this._isPropertyArray=o.isParentPropertyArray,this._ownObject=o.ownsObject,this._parentReferenceProperty=o.parentReferenceProperty,this._ngModelProperty=o.ngModelProperty,t=e.MetaFactory.findProp("required",this._props),t&&(i=this._props.indexOf(t),i>-1&&(n=new e.PropDesc("wjRequired",wj.interop.PropertyType.Boolean),n.customHandler=function(t,e,i){e.required=i},this._props.splice(i+1,0,n)))},n.prototype._initProps=function(){},n.prototype._initEvents=function(){},n.prototype._createLink=function(){return new i},n.prototype._controllerImpl=function(){},n.prototype._initControl=function(t){try{var e=this._controlConstructor;return new e(t)}catch(i){return}},n.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},n.prototype._isParentInitializer=function(){return void 0!=this._property},n.prototype._isParentReferencer=function(){return void 0!=this._parentReferenceProperty},n.prototype._scopeToAttrName=function(t){var e,i,n=this.scope[t];return n?(e=1,i=n.length,2>i?t:("?"===n.charAt(1)&&(e=2),i===e?t:n.substr(e))):t},n.prototype._getComplexPropDesc=function(t){return e.MetaFactory.findComplexProp(t,this._complexProps)},n.prototype._initScopeEvents=function(){var t,i;for(t in this._events)i=this._events[t],this._props.push(new e.PropDesc(i.eventName,wj.interop.PropertyType.EventHandler))},n.prototype._initScopeDescription=function(){var t,e,i=this._props,o={},r=n._optionalAttr?"=?":"=";if(null!=i){for(e=0;e<i.length;e++)t=i[e],o[t.propertyName]=t.scopeBindingMode,n._optionalAttr&&"="==t.scopeBindingMode&&(o[t.propertyName]="=?");o.required&&(o.wjRequired=o.required)}o.control=r,o[n._initPropAttr]=r,o[n._initEventAttr]="&",o[n._parPropAttr]="@",o[n._wjModelPropAttr]="@",this.scope=o},n.prototype._postLinkFn=function(){var e=this;return function(i,o,r,s){var a,l,c=e._createLink();if(c.directive=e,c.scope=i,c.tElement=o,c.tAttrs=r,t.isArray(s)){var h=o.parent(),u=h.isolateScope||h.scope,p=u.call(h);for(a in s)if(l=s[a],void 0!=l&&(l[n._cntrlScopeProp]===i&&(l=o.parent().controller(e._stripRequire(+a))),l&&l[n._cntrlScopeProp]===p)){c.controller=l;break}}else c.controller=s;c.ngModel=o.controller("ngModel"),c._link()}},n.prototype._prepareProps=function(){this._initProps();var t=[].concat(this._props);this._props.sort(function(e,i){var n=e.priority-i.priority;return n||(n=t.indexOf(e)-t.indexOf(i)),n})},n.prototype._stripRequire=function(t){if(this._stripReq||(this._stripReq=[],this._stripReq.length=this.require.length),!this._stripReq[t]){var e=/^[^A-Za-z]*(.*)/.exec(this.require[t]);this._stripReq[t]=e?e[1]:""}return this._stripReq[t]},n.prototype._getId=function(){return this._dirId},n._versionOk=function(t){var e,i=window.angular.version,n=[i.major,i.minor,i.dot],o=t.split(".");if(o.length!==n.length)throw"Unrecognizable version number.";for(e=0;e<o.length;e++){if(n[e]<o[e])return!1;if(n[e]>o[e])return!0}return!0},n._removeTransclude=function(t){var e,i;return t?(e=document.createElement("div"),e.innerHTML=t,i=e.querySelectorAll("[ng-transclude]"),[].forEach.call(i,function(t){t.removeAttribute("ng-transclude")}),e.innerHTML):t},n._parPropAttr="wjProperty",n._wjModelPropAttr="wjModelProperty",n._initPropAttr="isInitialized",n._initEventAttr="initialized",n._cntrlScopeProp="_cntrlScope",n._cntrlLinkProp="$_thisLink",n._scopeChildrenProp="$_childLinks",n._dirIdAttr="wj-directive-id",n._optionalAttr=n._versionOk("1.1.4"),n._dynaTemplates=n._optionalAttr,n._angStripPrefixes=["data","x"],n._dirIdCounter=0,n}();e.WjDirective=n,i=function(){function i(){this._nonAssignable={},this._definedProps={},this._definedEvents={},this._oldValues={},this._isInitialized=!1,this._hasTriggeredInitialized=!1,this._isNgModelInitialized=!1,this._scopeSuspend=0,this._suspendedEvents=[],this._areChlildrenReady=!1,this._isDestroyed=!1,this._isAppliedToParent=!1}return i.prototype._link=function(){var t,i,o=this.directive,r=this;this.tElement[0].setAttribute(n._dirIdAttr,o._getId()),this.directiveTemplateElement=o.replace?this.tElement:window.angular.element(this.tElement.children()[0]),this._initNonAssignable(),this._isChild()?(this._parentPropDesc=new e.ComplexPropDesc(o._property,o._isPropertyArray,o._ownObject),this.controller[n._cntrlScopeProp][n._scopeChildrenProp].push(this),t=this.controller[n._cntrlScopeProp],i=t[n._cntrlLinkProp],i&&i._areChlildrenReady&&this._parentReady(i)):(this._createInstance(),this._notifyReady(),this._prepareControl()),this._destroyEhUnreg=this.scope.$on("$destroy",function(){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];r._destroy()})},i.prototype._onChildrenReady=function(){},i.prototype._createInstance=function(){this.control=this._initControl(),this._safeApply(this.scope,"control",this.control)},i.prototype._parentReady=function(t){var e,i,o;if(this._isChild()){if(e=this,this._isAttrDefined(n._parPropAttr)&&!this.scope[n._parPropAttr])return void this.scope.$watch(n._parPropAttr,function(){e._parentReady(t)});i=this._getParentProp(),o=t.directive._getComplexPropDesc(i),o?this._parentPropDesc=o:this._parentPropDesc.propertyName=i,this.parent=t,this._useParentObj()?(this.control=t.control[i],this._safeApply(this.scope,"control",this.control)):this._createInstance(),this._notifyReady(),this._prepareControl(),this._initParent(),this.directiveTemplateElement[0].style.display="none",this._appliedToParent()}},i.prototype._initParent=function(){var t,e,i;if(!this._useParentObj()){var n=(this.directive,this._getParentProp()),o=this.parent.control,r=this.control;this._isParentInitializer()&&(this._isParentArray()?(t=o[n],e=this._getIndex(),(0>e||e>=t.length)&&(e=t.length),t.splice(e,0,r),i=this,this._siblingInsertedEH=this._siblingInserted.bind(this),this.tElement[0].addEventListener("DOMNodeInserted",this._siblingInsertedEH)):o[n]=r),this._isParentReferencer()&&!this._parentInCtor()&&(r[this._getParentReferenceProperty()]=o)}},i.prototype._destroy=function(){var e,i,n,o,r;this._isDestroyed||(this._isDestroyed=!0,e=this.control,this._destroyEhUnreg&&(this._destroyEhUnreg=null),this._siblingInsertedEH&&this.tElement[0].removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isParentArray()&&!this.parent._isDestroyed&&(i=this.parent.control,n=this._getParentProp(),i&&n&&e&&(o=i[n],o&&(r=o.indexOf(e),r>=0&&o.splice(r,1)))),e instanceof t.Control&&setTimeout(function(){e.hostElement&&e.dispose()},0))},i.prototype._siblingInserted=function(t){if(t.target===this.tElement[0]){var e=this._getIndex(),i=this.parent.control[this._getParentProp()],n=this.control,o=i.indexOf(n);e>=0&&o>=0&&e!==o&&(i.splice(o,1),e=Math.min(e,i.length),i.splice(e,0,n))}},i.prototype._notifyReady=function(){var t,e;for(this.scope[n._cntrlLinkProp]=this,t=[].concat(this.scope[n._scopeChildrenProp]),e=0;e<t.length;e++)t[e]._parentReady(this);this._areChlildrenReady=!0,this._onChildrenReady()},i.prototype._initControl=function(){return this.directive._initControl(this._parentInCtor()?this.parent.control:this.directiveTemplateElement[0])},i.prototype._prepareControl=function(){this._addEventHandlers(),this._addWatchers()},i.prototype._setupScopeWithControlProperties=function(){for(var t,e,i,n,o,r,s=this.control,a=this.scope,l=this.directive._props,c=0;c<l.length;c++)i=l[c],"="===i.scopeBindingMode&&i.isNativeControlProperty&&i.shouldUpdateSource&&(n=i.propertyName,o=a[n],r=s[n],t=i.propertyType==wj.interop.PropertyType.Function,e=i.propertyType==wj.interop.PropertyType.EventHandler,!this._canApply(a,i.propertyName)||r==o||t||e||(a[i.propertyName]=r));a.$root.$$phase||a.$apply()},i.prototype._initNonAssignable=function(){var t,e=this.directive._$parse,i=this.directive.scope;for(var n in i)"="===i[n].charAt(0)&&(t=this.tAttrs[this.directive._scopeToAttrName(n)],(void 0===t||void 0==e(t).assign)&&(this._nonAssignable[n]=!0))},i.prototype._suspendScope=function(){this._scopeSuspend++},i.prototype._resumeScope=function(){this._scopeSuspend>0&&0==--this._scopeSuspend&&this._suspendedEvents.length>0&&this._updateScope()},i.prototype._isScopeSuspended=function(){return this._scopeSuspend>0},i.prototype._isAttrDefined=function(t){return null!=this.tAttrs.$attr[this.directive._scopeToAttrName(t)]},i.prototype._childInitialized=function(t){var e=this.scope[n._scopeChildrenProp],i=e.indexOf(t);i>=0&&(e.splice(i,1),this._checkRaiseInitialized())},i.prototype._thisInitialized=function(){this._checkRaiseInitialized()},i.prototype._initialized=function(){},i.prototype._appliedToParent=function(){this._isAppliedToParent=!0,this._checkRaiseInitialized()},i.prototype._checkRaiseInitialized=function(){if(!this._hasTriggeredInitialized&&0===this.scope[n._scopeChildrenProp].length&&this._isInitialized&&(!this._isChild()||this._isAppliedToParent)){this._hasTriggeredInitialized=!0,this._initialized(),this._safeApply(this.scope,n._initPropAttr,!0);var t=this.scope[n._initEventAttr],e=this;t&&setTimeout(function(){t({s:e.control,e:void 0})},0),this._isChild()&&this.parent&&this.parent._childInitialized(this)}},i.prototype._addWatchers=function(){var e,i,o,r,s,a=this,l=this.directive._props,c=this.scope;if(l){for(this.ngModel&&(e=this.ngModel,e.$pristine&&t.addClass(this.tElement[0],"ng-pristine"),e.$valid&&t.addClass(this.tElement[0],"ng-valid"),e.$untouched&&t.addClass(this.tElement[0],"ng-untouched"),e.$render=this._ngModelRender.bind(this),this._updateNgModelPropDesc(),this._isAttrDefined(n._wjModelPropAttr)&&c.$watch(n._wjModelPropAttr,function(){a._updateNgModelPropDesc(),a._ngModelRender()})),i=0;i<l.length;i++)r=l[i],o=r.propertyName,r.propertyType!==wj.interop.PropertyType.EventHandler&&this._isAttrDefined(o)&&(this._definedProps[o]=r);s=this.control,c.$watch(function(t){var e,i,n,o,r;if(!a._isDestroyed)try{e={};for(i in a._definedProps)t[i]!==a._oldValues[i]&&(e[i]=t[i]);for(i in e)if(n=e[i],o=a._oldValues[i],n!==o&&(a._oldValues[i]=n,a._isInitialized||void 0!==n)){var l=a._definedProps[i],c=a._nullOrValue(a._castValueToType(n,l)),h=s[i];h!=c&&(r=!1,null!=l.customHandler&&(r=l.customHandler(t,s,c,h,a)),l.isNativeControlProperty&&r!==!0&&(s[i]=c))}}finally{a._isInitialized||(a._isNgModelInitialized=!0,a.ngModel&&(void 0!==a.ngModel.$viewValue?a._ngModelRender():a._ngModelPropDesc&&(a.ngModel.$setViewValue(s[a._ngModelPropDesc.propertyName]),a.ngModel.$setPristine())),a._isInitialized=!0,a._setupScopeWithControlProperties(),a._thisInitialized())}})}},i.prototype._addEventHandlers=function(){for(var t,e=this.directive._events,i=0;i<e.length;i++)t=e[i],this._addEventHandler(t)},i.prototype._addEventHandler=function(t){var e,i=this,n=t.eventName,o=this.control[n];if(null==o)throw'Event "'+n+'" not found in '+i.constructor.name;if(e=this._isAttrDefined(n))this._definedEvents[n]=t;else if(!t.isPropChanged)return;var r=(this.scope,this.directive._props,this.control);o.addHandler(function(e,n){var o={eventDesc:t,s:e,e:n};i._isScopeSuspended()?i._suspendedEvents.push(o):i._updateScope(o)},r)},i.prototype._updateScope=function(t){var e,i,n,o,r,s,a,l,c;if(void 0===t&&(t=null),!this._isDestroyed){if(e=t?t.eventDesc.isPropChanged:this._suspendedEvents.some(function(t){return t.eventDesc.isPropChanged}),i=this,e)for(n=this.directive._props,o=0;o<n.length;o++)r=n[o],"="==r.scopeBindingMode&&r.isNativeControlProperty&&r.shouldUpdateSource&&(s=r.propertyName,a=this.control[s],this._shouldApply(this.scope,s,a)&&(this.scope[s]=a,this.directive._$parse(this.tAttrs[this.directive._scopeToAttrName(s)]).assign(this.scope.$parent,a)),this._ngModelPropDesc&&this._isInitialized&&this._ngModelPropDesc.propertyName==s&&this.ngModel.$viewValue!==a&&this.ngModel.$setViewValue(a));l=function(){for(var e=t?[t]:this._suspendedEvents,n=0;n<e.length;n++){var o=e[n],r=o.eventDesc.eventName,s=this.scope[r];i._definedEvents[r]&&s&&s({s:o.s,e:o.e})}t||(this._suspendedEvents.length=0)}.bind(this),e&&(this.scope.$root.$$phase?c=this.scope.$watch("value",function(){c()}):this.scope.$apply()),l()}},i.prototype._ngModelRender=function(){var t,e,i;this._isNgModelInitialized&&(t=this.ngModel.$viewValue,e=this._ngModelPropDesc,e&&(void 0!==t||this._isInitialized))&&(i=this._nullOrValue(this._castValueToType(t,e)),t!==this.control[e.propertyName]&&(this.control[e.propertyName]=t))},i.prototype._castValueToType=function(t,e){return e.castValueToType(t)},i.prototype._isChild=function(){return this.directive._isChild()},i.prototype._isParentInitializer=function(){return this.directive._isParentInitializer()},i.prototype._isParentReferencer=function(){return this.directive._isParentReferencer()},i.prototype._getParentProp=function(){return this._isParentInitializer()?this.scope[n._parPropAttr]||this.directive._property:void 0},i.prototype._getParentReferenceProperty=function(){return this.directive._parentReferenceProperty},i.prototype._useParentObj=function(){return!this._isParentReferencer()&&this._isParentInitializer()&&!this._parentPropDesc.isArray&&!this._parentPropDesc.ownsObject},i.prototype._isParentArray=function(){return this._isParentInitializer()&&this._parentPropDesc.isArray},i.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},i.prototype._getNgModelProperty=function(){return this.scope[n._wjModelPropAttr]||this.directive._ngModelProperty},i.prototype._updateNgModelPropDesc=function(){var i=this._getNgModelProperty();this._ngModelPropDesc=t.isNullOrWhiteSpace(i)?null:e.MetaFactory.findProp(i,this.directive._props)},i.prototype._safeApply=function(t,e,i){this._shouldApply(t,e,i)&&(t[e]=i,t.$root.$$phase||t.$apply())},i.prototype._shouldApply=function(t,e,i){return this._canApply(t,e)&&i!=t[e]},i.prototype._canApply=function(t,e){return!this._nonAssignable[e]},i.prototype._nullOrValue=function(t){return void 0!=t?t:null},i.prototype._getIndex=function(){var t,e,i=this.tElement[0],o=i.parentElement;if(!o)return-1;var r=o.childNodes,s=-1,a=this.directive._getId();for(t=0;t<r.length;t++)if(e=r[t],1==e.nodeType&&e.getAttribute(n._dirIdAttr)==a&&(++s,e===i))return s;return-1},i}(),e.WjLink=i}(e=t.angular||(t.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){var i=window.angular.module("wj.container",[]);i.directive("wjTooltip",[function(){return new n}]),i.directive("wjValidationError",[function(){return new r}]);var n=function(e){function i(){e.call(this),this.restrict="A",this.template=""}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.Tooltip},enumerable:!0,configurable:!0}),i.prototype._initControl=function(){return new t.Tooltip},i.prototype._createLink=function(){return new o},i}(e.WjDirective),o=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype._link=function(){t.prototype._link.call(this);var e=this.control,i=this;this.tAttrs.$observe("wjTooltip",function(t){e.setTooltip(i.tElement[0],t)})},e}(e.WjLink),r=function(t){function e(){t.call(this),this.restrict="A",this.template="",this.require="ngModel",this.scope=!1}return __extends(e,t),e.prototype._postLinkFn=function(){return function(t,e,i,n){var o="wjValidationError";t.$watch(i[o],function(t){var i="INPUT"==e[0].tagName?e[0]:e[0].querySelector("input");"boolean"==typeof t&&(t=t?"error":""),i&&i.setCustomValidity&&i.setCustomValidity(t),n&&n.$setValidity(o,t?!1:!0)})}},e.prototype._getMetaDataId=function(){return"ValidationError"},e}(e.WjDirective)}(e=t.angular||(t.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){var i=window.angular.module("wj.input",[]);t.input&&t.input.InputNumber&&(i.directive("wjAutoComplete",["$compile",function(t){return new r(t)}]),i.directive("wjCalendar",[function(){return new s}]),i.directive("wjColorPicker",[function(){return new a}]),i.directive("wjComboBox",["$compile",function(t){return new o(t)}]),i.directive("wjInputDate",[function(){return new _}]),i.directive("wjInputDateTime",[function(){return new y}]),i.directive("wjInputNumber",[function(){return new w}]),i.directive("wjInputMask",[function(){return new b}]),i.directive("wjInputTime",["$compile",function(t){return new v(t)}]),i.directive("wjInputColor",[function(){return new C}]),i.directive("wjListBox",[function(){return new l}]),i.directive("wjItemTemplate",["$compile",function(t){return new c(t)}]),i.directive("wjMenu",["$compile",function(t){return new u(t)}]),i.directive("wjMenuItem",[function(){return new d}]),i.directive("wjMenuSeparator",[function(){return new g}]),i.directive("wjContextMenu",[function(){return new m}]),i.directive("wjCollectionViewNavigator",[function(){return new j}]),i.directive("wjCollectionViewPager",[function(){return new E}]),i.directive("wjPopup",[function(){return new P}]),i.directive("wjMultiSelect",["$compile",function(t){return new x(t)}]));var n=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.DropDown},enumerable:!0,configurable:!0}),i}(e.WjDirective),o=function(e){function i(t){e.call(this),this._$compile=t,this.template="<div ng-transclude />",this.transclude=!0}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.ComboBox},enumerable:!0,configurable:!0}),i}(n),r=function(e){function i(t){e.call(this,t)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.AutoComplete},enumerable:!0,configurable:!0}),i}(o),s=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.Calendar},enumerable:!0,configurable:!0}),i}(e.WjDirective),a=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.ColorPicker},enumerable:!0,configurable:!0}),i}(e.WjDirective),l=function(e){function i(){e.call(this),this.transclude=!0,this.template="<div ng-transclude />"}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.ListBox},enumerable:!0,configurable:!0}),i}(e.WjDirective),c=function(t){function i(n){t.call(this),this._$compile=n,this.require=["?^wjListBox","?^wjMenu"],this.terminal=!0,e.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(t,e){return e[i._itemTemplateProp]=t[0].innerHTML,"<div />"}):(this.transclude=!0,this.template="<div ng-transclude/>")}return __extends(i,t),i.prototype._initControl=function(){return{}},i.prototype._createLink=function(){return new h},i.prototype._getMetaDataId=function(){return"ItemTemplate"},i._itemTemplateProp="$__wjItemTemplate",i._itemScopeProp="$_itemScope",i}(e.WjDirective),h=function(i){function n(){i.apply(this,arguments)}return __extends(n,i),n.prototype._initParent=function(){i.prototype._initParent.call(this);var t=this.tAttrs[c._itemTemplateProp],n=this.parent.control,o=this._getListBox();this.itemTemplate=null!=t?t:e.WjDirective._removeTransclude(this.tElement[0].innerHTML),o.formatItem.addHandler(this._fmtItem,this),o.loadingItems.addHandler(this._loadingItems,this),this.parent._isInitialized&&n.invalidate()},n.prototype._destroy=function(){var t=this.parent&&this.parent.control,e=this._getListBox();e&&(e.formatItem.removeHandler(this._fmtItem,this),e.loadingItems.removeHandler(this._loadingItems,this)),i.prototype._destroy.call(this),this._tmplLink=null,t&&t.invalidate()},n.prototype._loadingItems=function(t){for(var e,i,n=t.hostElement.getElementsByClassName("wj-listbox-item"),o=n.length-1;o>=0;o--)e=n[o],i=e[c._itemScopeProp],i&&(e[c._itemScopeProp]=null,i.$destroy())},n.prototype._fmtItem=function(t,e){var i,n,o,r;this._tmplLink||(this._tmplLink=this.directive._$compile("<div>"+this.itemTemplate+"</div>")),i=e.item,n=this.scope.$parent.$new(),i[c._itemScopeProp]=n,n.$control=t,n.$item=e.data,n.$itemIndex=e.index,o=this._tmplLink(n,function(){})[0],1===i.childNodes.length?i.replaceChild(o,i.firstChild):(i.textContent="",i.appendChild(o)),r=40,clearTimeout(this._closingApplyTimeOut),this._closingApplyTimeOut=setTimeout(function(){n.$root.$$phase||n.$apply()},r)},n._invalidateControl=function(t){t&&t.invalidate()},n.prototype._getListBox=function(){var e=this.parent&&this.parent.control;return e?e instanceof t.input.ListBox?e:e.listBox:null},n}(e.WjLink),u=function(i){function n(t){i.call(this,t)}return __extends(n,i),Object.defineProperty(n.prototype,"_controlConstructor",{get:function(){return t.input.Menu},enumerable:!0,configurable:!0}),n.prototype._createLink=function(){
return new p},n.prototype._initProps=function(){i.prototype._initProps.call(this);var t=this,n=e.MetaFactory.findProp("value",this._props);n.customHandler=function(e,i,n,o,r){t.updateControlValue(e,i,r)}},n.prototype.updateControlValue=function(t,e,i){null!=t.value&&(e.selectedValue=t.value,i.directive.updateHeader(t,e,i))},n.prototype.updateHeader=function(t,e){var i,n,o;e.header=t.header||"",i=e.selectedItem,"undefined"!=typeof t.value&&i&&e.displayMemberPath&&(n=i[d._itemLinkProp],o=n?n.linkedContent.innerHTML:i[e.displayMemberPath],null!=o&&(e.header+=": <b>"+o+"</b>"))},n}(o),p=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),i.prototype._initControl=function(){var e=this,i=new t.input.Menu(this.directiveTemplateElement[0],{itemsSource:new t.collections.ObservableArray,selectedIndex:0,itemClicked:function(){e._safeApply(e.scope,"value",i.selectedValue),e.directive.updateHeader(e.scope,i,e)}.bind(e)});return i.listBox.formatItem.addHandler(e._fmtItem,this),i.listBox.loadingItems.addHandler(this._loadingItems,this),i},i.prototype._initialized=function(){this.directive.updateControlValue(this.scope,this.control,this)},i.prototype._fmtItem=function(t,e){var i,n,o=e.data[d._itemLinkProp];if(o){o.contentLink||(o.contentLink=this.directive._$compile("<div>"+o.itemTemplate+"</div>"));var r=this,s=e.item,a=o.scope.$parent.$new();s[d._itemScopeProp]=a,a.$control=this.control,a.$item=e.data,a.$itemIndex=e.index,i=o.linkedContent=o.contentLink(a,function(){})[0],1===s.childNodes.length?s.replaceChild(i,s.firstChild):(s.textContent="",s.appendChild(i)),n=40,clearTimeout(this._closingApplyTimeOut),this._closingApplyTimeOut=setTimeout(function(){a.$root.$$phase||a.$apply(),r.control.selectedItem&&r.directive.updateHeader(r.scope,r.control,r)},n)}},i.prototype._loadingItems=function(t){for(var e,i,n=t.hostElement.getElementsByClassName("wj-listbox-item"),o=n.length-1;o>=0;o--)e=n[o],i=e[d._itemScopeProp],i&&(e[c._itemScopeProp]=null,i.$destroy())},i}(e.WjLink);e.WjMenuLink=p;var d=function(t){function i(){t.call(this),this.require="^wjMenu",this.terminal=!0,e.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(t,e){return e[c._itemTemplateProp]=t[0].innerHTML,"<div />"}):(this.transclude=!0,this.template="<div ng-transclude/>")}return __extends(i,t),i.prototype._createLink=function(){return new f(!1)},i.prototype._getMetaDataId=function(){return"MenuItem"},i.prototype._getId=function(){return i._directiveId},i._itemTemplateProp="$__wjMenuItemTemplate",i._itemScopeProp="$_menuItemScope",i._itemLinkProp="$_menuItemLink",i._directiveId="menuItemDir",i}(e.WjDirective),f=function(t){function i(e){t.call(this),this.isSeparator=e}return __extends(i,t),i.prototype._initControl=function(){var t,i=this.tAttrs[c._itemTemplateProp];return this.itemTemplate=this.isSeparator?'<div class="wj-state-disabled" style="width:100%;height:1px;background-color:lightgray"/>':null!=i?i:e.WjDirective._removeTransclude(this.tElement[0].innerHTML),t={value:null,cmd:null,cmdParam:null,header:this.itemTemplate},t[d._itemLinkProp]=this,t},i.prototype._initParent=function(){t.prototype._initParent.call(this);var e=this.parent.control;1==e.itemsSource.length&&e.selectedIndex<0&&(e.selectedIndex=0),e.displayMemberPath||(e.displayMemberPath="header"),e.selectedValuePath||(e.selectedValuePath="value"),e.commandPath||(e.commandPath="cmd"),e.commandParameterPath||(e.commandParameterPath="cmdParam")},i.prototype._destroy=function(){var e=this.parent&&this.parent.control;t.prototype._destroy.call(this),e&&e.invalidate()},i}(e.WjLink),g=function(t){function e(){t.call(this),this.template="<span />",this.require="^wjMenu"}return __extends(e,t),e.prototype._getMetaDataId=function(){return"MenuSeparator"},e.prototype._createLink=function(){return new f(!0)},e.prototype._getId=function(){return d._directiveId},e}(e.WjDirective),m=function(e){function i(){e.call(this),this.template=void 0,this.restrict="A",this.scope=!1}return __extends(i,e),i.prototype._getMetaDataId=function(){return"WjContextMenu"},i.prototype._postLinkFn=function(){return function(e,i,n){var o=t.getElement(n.wjContextMenu);i[0].addEventListener("contextmenu",function(e){var n=t.Control.getControl(o),r=n.dropDown;n&&r&&!t.closest(e.target,"[disabled]")&&(e.preventDefault(),n.owner=i[0],n.selectedIndex=-1,n.onIsDroppedDownChanging(new t.CancelEventArgs)&&(t.showPopup(r,e),n.onIsDroppedDownChanged(),r.focus()))})}},i}(e.WjDirective),_=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.InputDate},enumerable:!0,configurable:!0}),i}(n),y=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.InputDateTime},enumerable:!0,configurable:!0}),i}(_),w=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.InputNumber},enumerable:!0,configurable:!0}),i}(e.WjDirective),b=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.InputMask},enumerable:!0,configurable:!0}),i}(e.WjDirective),v=function(e){function i(t){e.call(this,t)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.InputTime},enumerable:!0,configurable:!0}),i}(o),C=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.InputColor},enumerable:!0,configurable:!0}),i}(n),P=function(i){function n(){i.call(this),this.transclude=!0,this.template="<div ng-transclude/>"}return __extends(n,i),Object.defineProperty(n.prototype,"_controlConstructor",{get:function(){return t.input.Popup},enumerable:!0,configurable:!0}),n.prototype._initProps=function(){i.prototype._initProps.call(this),e.MetaFactory.findProp("owner",this._props).customHandler=function(t,e,i){var n=t.modal;null==n&&(e.modal=i?!1:!0)}},n}(e.WjDirective),x=function(e){function i(t){e.call(this,t)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.input.MultiSelect},enumerable:!0,configurable:!0}),i}(o),j=function(t){function e(){t.call(this),this.template='<div class="wj-control wj-content wj-pager"><div class="wj-input-group"><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button" ng-click="cv.moveCurrentToFirst()" ng-disabled="cv.currentPosition <= 0"><span class="wj-glyph-left" style="margin-right:-4px"></span><span class="wj-glyph-left"></span> </button></span><span class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" type="button" ng-click="cv.moveCurrentToPrevious()" ng-disabled="cv.currentPosition <= 0"><span class="wj-glyph-left"></span> </button></span><input type="text" class="wj-form-control" value=" {{cv.currentPosition + 1 | number}} / {{cv.itemCount | number}} " disabled /><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button" ng-click="cv.moveCurrentToNext()" ng-disabled="cv.currentPosition >= cv.itemCount - 1"><span class="wj-glyph-right"></span></button></span><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button" ng-click="cv.moveCurrentToLast()" ng-disabled="cv.currentPosition >= cv.itemCount - 1"><span class="wj-glyph-right"></span><span class="wj-glyph-right" style="margin-left:-4px"></span></button></span></div></div>'}return __extends(e,t),e.prototype._getMetaDataId=function(){return"CollectionViewNavigator"},e.prototype._postLinkFn=function(){return function(){}},e}(e.WjDirective),E=function(t){function e(){t.call(this),this.template='<div class="wj-control wj-content wj-pager"><div class="wj-input-group"><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button"ng-click="cv.moveToFirstPage()"ng-disabled="cv.pageIndex <= 0"><span class="wj-glyph-left" style="margin-right:-4px"></span><span class="wj-glyph-left"></span></button></span><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button"ng-click="cv.moveToPreviousPage()"ng-disabled="cv.pageIndex <= 0"><span class="wj-glyph-left"></span></button></span><input type="text" class="wj-form-control" value="{{cv.pageIndex + 1 | number}} / {{cv.pageCount | number}}" disabled /><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button"ng-click="cv.moveToNextPage()"ng-disabled="cv.pageIndex >= cv.pageCount - 1"><span class="wj-glyph-right"></span></button></span><span class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button"ng-click="cv.moveToLastPage()"ng-disabled="cv.pageIndex >= cv.pageCount - 1"><span class="wj-glyph-right"></span><span class="wj-glyph-right" style="margin-left:-4px"></span></button></span></div></div>'}return __extends(e,t),e.prototype._getMetaDataId=function(){return"CollectionViewPager"},e.prototype._postLinkFn=function(){return function(){}},e}(e.WjDirective)}(e=t.angular||(t.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){var i=window.angular.module("wj.chart",[]);t.chart&&t.chart.FlexChart&&(i.directive("wjFlexChart",[function(){return new r}]),i.directive("wjFlexChartAxis",[function(){return new s}]),i.directive("wjFlexChartSeries",[function(){return new p}]),i.directive("wjFlexChartLegend",[function(){return new a}]),i.directive("wjFlexChartDataLabel",[function(){return new c}]),i.directive("wjFlexPieDataLabel",[function(){return new h}]),i.directive("wjFlexChartLineMarker",[function(){return new d}]),i.directive("wjFlexChartPlotArea",[function(){return new A}]),i.directive("wjFlexChartDataPoint",[function(){return new f}]),t.chart.interaction&&(i.directive("wjFlexChartRangeSelector",[function(){return new w}]),i.directive("wjFlexChartGestures",[function(){return new b}]),i.directive("wjFlexChartChartGestures",[function(){return new b}])),t.chart.annotation&&(i.directive("wjFlexChartAnnotationLayer",[function(){return new g}]),i.directive("wjFlexChartAnnotation",[function(){return new _}])),i.directive("wjFlexPie",[function(){return new v}]),t.chart.hierarchical&&i.directive("wjSunburst",[function(){return new C}]),t.chart.finance&&(i.directive("wjFinancialChart",[function(){return new P}]),i.directive("wjFinancialChartSeries",[function(){return new x}]),t.chart.finance.analytics&&(i.directive("wjFlexChartFibonacci",[function(){return new R}]),i.directive("wjFlexChartFibonacciArcs",[function(){return new O}]),i.directive("wjFlexChartFibonacciFans",[function(){return new F}]),i.directive("wjFlexChartFibonacciTimeZones",[function(){return new I}]),i.directive("wjFlexChartAtr",[function(){return new L}]),i.directive("wjFlexChartCci",[function(){return new N}]),i.directive("wjFlexChartRsi",[function(){return new B}]),i.directive("wjFlexChartWilliamsR",[function(){return new z}]),i.directive("wjFlexChartMacd",[function(){return new G}]),i.directive("wjFlexChartMacdHistogram",[function(){return new q}]),i.directive("wjFlexChartStochastic",[function(){return new W}]),i.directive("wjFlexChartBollingerBands",[function(){return new K}]),i.directive("wjFlexChartEnvelopes",[function(){return new U}]))),t.chart.analytics&&(i.directive("wjFlexChartTrendLine",[function(){return new E}]),i.directive("wjFlexChartMovingAverage",[function(){return new S}]),i.directive("wjFlexChartYFunctionSeries",[function(){return new T}]),i.directive("wjFlexChartParametricFunctionSeries",[function(){return new D}]),i.directive("wjFlexChartWaterfall",[function(){return new M}])),t.chart.animation&&i.directive("wjFlexChartAnimation",[function(){return new m}]));var n=function(i){function n(){i.call(this);this.template="<div ng-transclude />",this.transclude=!0}return __extends(n,i),Object.defineProperty(n.prototype,"_controlConstructor",{get:function(){return t.chart.FlexChartBase},enumerable:!0,configurable:!0}),n.prototype._initProps=function(){i.prototype._initProps.call(this);var t=e.MetaFactory.findProp("tooltipContent",this._props);t.customHandler=function(t,e,i){null!=i&&(e.tooltip.content=i)}},n}(e.WjDirective),o=function(i){function n(){i.apply(this,arguments)}return __extends(n,i),Object.defineProperty(n.prototype,"_controlConstructor",{get:function(){return t.chart.FlexChartCore},enumerable:!0,configurable:!0}),n.prototype._initProps=function(){i.prototype._initProps.call(this);var t=e.MetaFactory.findProp("labelContent",this._props);t.customHandler=function(t,e,i){null!=i&&(e.dataLabel.content=i)}},n}(n),r=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.FlexChart},enumerable:!0,configurable:!0}),i}(o),s=function(e){function i(){e.call(this),this.require=["?^wjFlexChartSeries","?^wjFinancialChartSeries","?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjFlexChartAxis" />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.Axis},enumerable:!0,configurable:!0}),i.prototype._initControl=function(){return e.prototype._initControl.call(this,void 0)},i}(e.WjDirective),a=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFlexPie","?^wjSunburst","?^wjFinancialChart"],this.template="<div />"}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.Legend},enumerable:!0,configurable:!0}),i}(e.WjDirective),l=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFlexPie","?^wjSunburst"],this.template="<div />"}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.DataLabelBase},enumerable:!0,configurable:!0}),i}(e.WjDirective),c=function(e){function i(){e.call(this),this.require="^wjFlexChart"}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.DataLabel},enumerable:!0,configurable:!0}),i}(l),h=function(e){function i(){e.call(this),this.require=["^wjFlexPie","?^wjSunburst"]}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.PieDataLabel},enumerable:!0,configurable:!0}),i}(l),u=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjSeriesBase" ng-transclude />',this.transclude=!0}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.SeriesBase},enumerable:!0,configurable:!0}),i.prototype._getId=function(){return"series"},i}(e.WjDirective),p=function(e){function i(){e.call(this),this.require="^wjFlexChart",this.template='<div class="wjFlexChartSeries" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.Series},enumerable:!0,configurable:!0}),i}(u),d=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"]}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.LineMarker},enumerable:!0,configurable:!0}),i}(e.WjDirective),f=function(e){function i(){e.call(this),this.require=["?^wjFlexChartAnnotation"]}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.DataPoint},enumerable:!0,configurable:!0}),i}(e.WjDirective),g=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjFlexChartAnnotationLayer" ng-transclude />',this.transclude=!0}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.annotation.AnnotationLayer},enumerable:!0,configurable:!0}),i}(e.WjDirective),m=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFlexPie","?^wjSunburst","?^wjFinancialChart"]}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.animation.ChartAnimation},enumerable:!0,configurable:!0}),i}(e.WjDirective),_=function(t){function e(){t.call(this),this.require="^wjFlexChartAnnotationLayer",this.template='<div class="wjFlexChartAnnotation" ng-transclude />',this.transclude=!0}return __extends(e,t),e.prototype._createLink=function(){return new y},e.prototype._getMetaDataId=function(){return"FlexChartAnnotation"},e}(e.WjDirective),y=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),i.prototype._initControl=function(){return new t.chart.annotation[this.scope.type]},i}(e.WjLink),w=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"]}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.interaction.RangeSelector},enumerable:!0,configurable:!0}),i}(e.WjDirective),b=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"]}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.interaction.ChartGestures},enumerable:!0,configurable:!0}),i}(e.WjDirective),v=function(i){function n(){i.apply(this,arguments)}return __extends(n,i),Object.defineProperty(n.prototype,"_controlConstructor",{get:function(){return t.chart.FlexPie},enumerable:!0,configurable:!0}),n.prototype._initProps=function(){i.prototype._initProps.call(this);var t=e.MetaFactory.findProp("labelContent",this._props);t.customHandler=function(t,e,i){null!=i&&(e.dataLabel.content=i)}},n}(n),C=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.hierarchical.Sunburst},enumerable:!0,configurable:!0}),i}(v),P=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.FinancialChart},enumerable:!0,configurable:!0}),i}(o),x=function(e){function i(){e.call(this),this.require="^wjFinancialChart",this.template='<div class="wjFinancialChartSeries" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.FinancialSeries},enumerable:!0,configurable:!0}),i}(u),j=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjTrendLineBase" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.analytics.TrendLineBase},enumerable:!0,configurable:!0}),i}(u),E=function(e){function i(){e.call(this),this.template='<div class="wjTrendLine" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.analytics.TrendLine},enumerable:!0,configurable:!0}),i}(j),S=function(e){function i(){e.call(this),this.template='<div class="wjMovingAverage" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.analytics.MovingAverage},enumerable:!0,configurable:!0}),i}(j),T=function(e){function i(){e.call(this),this.template='<div class="wjYFunctionSeries" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.analytics.YFunctionSeries},enumerable:!0,configurable:!0}),i}(j),D=function(i){function n(){i.call(this),this.template='<div class="wjParametricFunctionSeries" ng-transclude />'}return __extends(n,i),Object.defineProperty(n.prototype,"_controlConstructor",{get:function(){return t.chart.analytics.ParametricFunctionSeries},enumerable:!0,configurable:!0}),n.prototype._initProps=function(){i.prototype._initProps.call(this);var t=e.MetaFactory.findProp("func",this._props);t.customHandler=function(t,e,i){null!=i&&(e.xFunc=i)}},n}(j),M=function(e){function i(){e.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjWaterfall" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.analytics.Waterfall},enumerable:!0,configurable:!0}),i}(u),A=function(e){function i(){e.call(this),this.require=["?^wjFlexChartPlotArea","?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjFlexChartPlotArea" />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.PlotArea},enumerable:!0,configurable:!0}),i.prototype._initControl=function(){return e.prototype._initControl.call(this,void 0)},i}(e.WjDirective),R=function(e){function i(){e.call(this),this.require=["?^wjFinancialChart"],this.template='<div class="wjFlexChartFibonacci" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.Fibonacci},enumerable:!0,configurable:!0}),i.prototype._initControl=function(){return e.prototype._initControl.call(this,void 0)},i}(u),O=function(e){function i(){e.call(this),this.require=["?^wjFinancialChart"],this.template='<div class="wjFlexChartFibonacciArcs" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.FibonacciArcs},enumerable:!0,configurable:!0}),i.prototype._initControl=function(){return e.prototype._initControl.call(this,void 0)},i}(u),F=function(e){function i(){e.call(this),this.require=["?^wjFinancialChart"],this.template='<div class="wjFlexChartFibonacciFans" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.FibonacciFans},enumerable:!0,configurable:!0}),i.prototype._initControl=function(){return e.prototype._initControl.call(this,void 0)},i}(u),I=function(e){function i(){e.call(this),this.require=["?^wjFinancialChart"],this.template='<div class="wjFlexChartFibonacciTimeZones" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.FibonacciTimeZones},enumerable:!0,configurable:!0}),i.prototype._initControl=function(){return e.prototype._initControl.call(this,void 0)},i}(u),k=function(e){function i(){e.call(this),this.require="^wjFinancialChart",this.template='<div class="wjBaseOverlayIndicator" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.OverlayIndicatorBase},enumerable:!0,configurable:!0}),i}(u),H=function(e){function i(){e.call(this),this.template='<div class="wjBaseSingleOverlayIndicator" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.SingleOverlayIndicatorBase},enumerable:!0,configurable:!0}),i}(k),L=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartAtr" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.ATR},enumerable:!0,configurable:!0}),i}(H),N=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartCci" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.CCI},enumerable:!0,configurable:!0}),i}(H),B=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartRsi" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.RSI},enumerable:!0,configurable:!0}),i}(H),z=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartWilliamsR" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.WilliamsR},enumerable:!0,configurable:!0}),i}(H),V=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartBaseMacd" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.MacdBase},enumerable:!0,configurable:!0}),i}(k),G=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartMacd" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.Macd},enumerable:!0,configurable:!0}),i}(V),q=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartMacdHistogram" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.MacdHistogram},enumerable:!0,configurable:!0}),i}(V),W=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartStochastic" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.Stochastic},enumerable:!0,configurable:!0}),i}(k),K=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartBollingerBands" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.BollingerBands},enumerable:!0,configurable:!0}),i}(k),U=function(e){function i(){e.call(this),this.template='<div class="wjFlexChartEnvelopes" ng-transclude />'}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.chart.finance.analytics.Envelopes},enumerable:!0,configurable:!0}),i}(k)}(e=t.angular||(t.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){var i=window.angular.module("wj.gauge",[]);t.gauge&&t.gauge.LinearGauge&&(i.directive("wjLinearGauge",[function(){return new o}]),i.directive("wjBulletGraph",[function(){return new r}]),i.directive("wjRadialGauge",[function(){return new s}]),i.directive("wjRange",[function(){return new a}]));var n=function(e){function i(){e.call(this),this.template="<div ng-transclude />",this.transclude=!0}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.gauge.Gauge},enumerable:!0,configurable:!0}),i}(e.WjDirective),o=function(e){function i(){e.call(this)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.gauge.LinearGauge},enumerable:!0,configurable:!0}),i}(n),r=function(e){function i(){e.call(this)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.gauge.BulletGraph},enumerable:!0,configurable:!0}),i}(o),s=function(e){function i(){e.call(this)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.gauge.RadialGauge},enumerable:!0,configurable:!0}),i}(n),a=function(e){function i(){e.call(this),this.require=["?^wjLinearGauge","?^wjRadialGauge","?^wjBulletGraph"],this.template="<div ng-transclude />",this.transclude=!0,this._property="ranges",this._isPropertyArray=!0}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.gauge.Range},enumerable:!0,configurable:!0}),i}(e.WjDirective)}(e=t.angular||(t.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){var i,n,o,r,s,a,l,c=window.angular.module("wj.grid",[]);t.grid&&t.grid.FlexGrid&&(c.directive("wjFlexGrid",["$compile","$interpolate",function(t,e){return new i(t,e)}]),c.directive("wjFlexGridColumn",["$compile",function(t){return new a(t)}]),c.directive("wjFlexGridCellTemplate",[function(){return new u}]),t.grid.filter&&c.directive("wjFlexGridFilter",[function(){return new d}]),t.grid.grouppanel&&c.directive("wjGroupPanel",[function(){return new f}]),t.grid.detail&&c.directive("wjFlexGridDetail",["$compile",function(t){return new g(t)}]),t.grid.sheet&&(c.directive("wjFlexSheet",["$compile","$interpolate",function(t,e){return new _(t,e)}]),c.directive("wjSheet",[function(){return new y}])),t.grid.multirow&&c.directive("wjMultiRow",["$compile","$interpolate",function(t,e){return new b(t,e)}])),i=function(i){function o(t,e){i.call(this),this._$compile=t,this._$interpolate=e;this.transclude=!0,this.template="<div ng-transclude />"}return __extends(o,i),Object.defineProperty(o.prototype,"_controlConstructor",{get:function(){return t.grid.FlexGrid},enumerable:!0,configurable:!0}),o.prototype._createLink=function(){return new n},o.prototype._initProps=function(){var t=e.MetaFactory.findProp("childItemsPath",this._props);t.scopeBindingMode="@",t.customHandler=function(t,e,i){if(i&&(i=i.trim(),i&&"["===i[0])){var n=t.$parent.$eval(i);return e.childItemsPath=n,!0}return!1}},o}(e.WjDirective),e.WjFlexGrid=i,n=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype._initControl=function(){var e=t.prototype._initControl.call(this);return new r(e,this),e},e}(e.WjLink),e.WjFlexGridLink=n,o=t.grid&&t.grid.CellFactory,o||(t.grid={},t.grid.CellFactory=function(){}),r=function(e){function i(t,n){var o,r;if(e.call(this),this._lastApplyTimeStamp=0,this._noApplyLag=!1,this._startingEditing=!1,this._cellStampCounter=0,this._gridLink=n,this._rowHeightUpdates=new s(this),!i._templateTypes){i._templateTypes=[];for(o in h)isNaN(o)&&i._templateTypes.push(o)}r=this,this._baseCf=t.cellFactory,t.cellFactory=this,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtBlur=document.createEvent("HTMLEvents"),this._evtBlur.initEvent("blur",!1,!1),t.prepareCellForEdit.addHandler(function(){r._noApplyLag=!0}),t.cellEditEnded.addHandler(function(e,i){(i.range.col<0||!t.columns[i.range.col][u._getTemplContextProp(h.CellEdit)])&&(r._editChar=null),setTimeout(function(){r._noApplyLag=!1},300)}),t.beginningEdit.addHandler(function(){r._startingEditing=!0}),t.hostElement.addEventListener("keydown",function(){r._startingEditing=!1},!0),t.hostElement.addEventListener("keypress",function(e){var i=e.charCode>32?String.fromCharCode(e.charCode):null;i&&(!t.activeEditor||r._startingEditing?r._editChar=i:r._editChar&&(r._editChar+=i))},!0)}return __extends(i,e),i.prototype.updateCell=function(e,n,o,r,s){var a,l,c,p,d,f,g,m,_,y,w,b,v,C,P,x,j,E,S,T,D,M,A,R;this._cellStampCounter=(this._cellStampCounter+1)%1e7,a=r[i._cellStampProp]=this._cellStampCounter,r.style.overflow&&(r.style.overflow="");var O,F=this,I=e.grid,k=I.editRange,H=e.rows[n],L=H.dataItem,N=!1,B=!1,z=!1,V=!1;switch(e.cellType){case t.grid.CellType.Cell:H instanceof t.grid.GroupRow?(V=L instanceof t.collections.CollectionViewGroup,l=!(V||H.hasChildren),o==e.columns.firstVisibleIndex?O=l?h.Cell:h.GroupHeader:(O=l?h.Cell:h.Group,B=!0)):k&&k.row===n&&k.col===o?(O=h.CellEdit,B=z=!0):t.grid.detail&&t.grid.detail.DetailRow&&H instanceof t.grid.detail.DetailRow||(O=h.Cell);break;case t.grid.CellType.ColumnHeader:O=h.ColumnHeader;break;case t.grid.CellType.RowHeader:O=I.collectionView&&I.collectionView.currentEditItem===L?h.RowHeaderEdit:h.RowHeader,N=!0;break;case t.grid.CellType.TopLeft:
O=h.TopLeft,N=!0}if(c=!1,null!=O&&(p=V&&O==h.GroupHeader?I.columns.getColumn(L.groupDescription.propertyName):o>=0&&o<e.columns.length?e.columns[o]:null,p&&(d=u._getTemplContextProp(O),f=(N?I:p)[d],f||(O===h.RowHeaderEdit?(O=h.RowHeader,d=u._getTemplContextProp(O),f=I[d]):(O===h.Group||O===h.GroupHeader)&&(V||(O=h.Cell,d=u._getTemplContextProp(O),f=p[d]))),f))){var G,q=F._getCellTemplate(f.cellTemplate),W=f.cellStyle,K=f.cellClass,U=!t.isNullOrWhiteSpace(q),$=!t.isNullOrWhiteSpace(W),Y=!t.isNullOrWhiteSpace(K);if(B&&(G=e.getCellData(n,o,!1)),U){g=r.getAttribute(t.grid.FlexGrid._WJS_MEASURE),m=g&&"true"===g.toLowerCase(),c=!0,z&&this._baseCf.updateCell(e,n,o,r,s,!0);var X=r[d]||{},J=X.column!==p||!X.cellScope||!X.cellScope.$root,Z=X.cellScope;J&&(this._doDisposeCell(r),X.cellScope=Z=f.templLink.scope.$parent.$new(),X.column=p,r[d]=X),_=Z.$row!==H||Z.$col!==p||Z.$item!==L||Z.$value!==G,_&&F._initCellScope(Z,H,p,L,G),y=f.cellLink,y||(y=f.cellLink=this._gridLink.directive._$compile('<div style="display:none"'+($?' ng-style="'+W+'"':"")+(Y?' ng-class="'+K+'"':"")+">"+q+"</div>")),w=X.clonedElement,J&&(b=Z.$watch(function(){if(w&&(b(),w[0].style.display="",e.cellType===t.grid.CellType.ColumnHeader||e.cellType===t.grid.CellType.TopLeft)){var i=w[0].style,n=i.outlineColor,o=i.outlineWidth;i.outlineColor="white",i.outlineWidth="0px",setTimeout(function(){i.outlineColor=n,i.outlineWidth=o},0)}}),X.clonedElement=w=y(Z,function(){})),m&&(w[0].style.display=""),v=!1,z?(C=r.firstElementChild,C&&(r.focus(),C.style.display="none")):(v=1==r.childNodes.length,v||(r.textContent="")),v?w[0]!==r.firstChild&&r.replaceChild(w[0],r.firstChild):r.appendChild(w[0]),f.cellOverflow&&(r.style.overflow=f.cellOverflow),P=40,x=10,this._closingApplyTimeOut&&clearTimeout(this._closingApplyTimeOut),F._rowHeightUpdates.add({panel:e,cell:r,rng:s,cellStamp:a}),m||k||this._noApplyLag||_&&Date.now()-this._lastApplyTimeStamp>P?(clearTimeout(this._closingApplyTimeOut),Z.$root.$$phase||Z.$apply(),k||m||F._rowHeightUpdates.execute(),this._lastApplyTimeStamp=Date.now()):(clearTimeout(this._closingApplyTimeOut),this._closingApplyTimeOut=setTimeout(function(){clearTimeout(this._closingApplyTimeOut),Z.$root.$$phase||Z.$apply(),F._rowHeightUpdates.execute()},x)),setTimeout(function(){var i,n,o,l,c;if(F._updateRowHeight(e,r,s,a)){if(z)return F._rowHeightUpdates.clear(),I.refresh(),void I.startEditing()}else if(z&&!t.contains(w[0],t.getActiveElement())&&(i=w[0].querySelectorAll("input")))for(n=0;n<i.length;n++)if(o=i[n],l=window.getComputedStyle(o),"none"!==l.display&&"visible"===l.visibility){c=function(){o.removeEventListener("focus",c),setTimeout(function(){F._editChar&&(o.value=F._editChar,F._editChar=null,t.setSelectionRange(o,o.value.length),o.dispatchEvent(F._evtInput))},50)},o.addEventListener("focus",c),o.focus();break}},0),z?(j=function(i,s){var a,l;I.cellEditEnding.removeHandler(j),a=t.getActiveElement(),a&&a.dispatchEvent(F._evtBlur),r.focus(),s.cancel||(s.cancel=!0,e.grid.setCellData(n,o,Z.$value)),l=r.querySelectorAll(".wj-dropdown"),[].forEach.call(l,function(e){var i=t.Control.getControl(e);i&&i instanceof t.input.DropDown&&(i.isDroppedDown=!1)})},I.cellEditEnding.addHandler(j)):this._baseCf.updateCell(e,n,o,r,s,!1)}}if(c||(this._doDisposeCell(r),this._baseCf.updateCell(e,n,o,r,s)),!U&&($||Y)){var Q=F._initCellScope({},H,p,L,G),tt=$?this._gridLink.scope.$parent.$eval(W,Q):null,et=Y?this._gridLink.scope.$parent.$eval(K,Q):null;if(tt||et){for(E=document.createElement("div");r.firstChild;)E.appendChild(r.firstChild);if(r.appendChild(E),tt)for(S in tt)E.style[S]=tt[S];if(et){for(T=t.isArray(et)?et:[et],D="",M=0;M<T.length;M++)if(A=T[M])if(t.isString(A))D+=" "+A;else for(R in A)A[R]&&(D+=" "+R);E.className=D}}}},i.prototype.disposeCell=function(t){this._doDisposeCell(t)},i.prototype._doDisposeCell=function(t){for(var e,n,o=i._templateTypes,r=0;r<o.length;r++)e=u._getTemplContextProp(h[o[r]]),n=t[e],n&&n.cellScope&&n.cellScope.$root&&(n.cellScope.$destroy(),t[e]=null)},i.prototype._updateRowHeight=function(t,e,n,o){var r=e.scrollHeight,s=t.rows,a=n&&n.rowSpan||1;return o===e[i._cellStampProp]&&s.defaultSize*a<r?(s.defaultSize=r/a,!0):!1},i.prototype._initCellScope=function(t,e,i,n,o){return t.$row=e,t.$col=i,t.$item=n,t.$value=o,t},i.prototype._getCellTemplate=function(t){return t&&(t=t.replace(/ class\=\"ng\-scope\"( \"ng\-binding\")?/g,""),t=t.replace(/<span>\s*<\/span>/g,""),t=t.trim()),t},i._cellStampProp="__wjCellStamp",i}(t.grid.CellFactory),s=function(){function t(t){this._requests=[],this._timeOuts=[],this._cellFactory=t}return t.prototype.add=function(t){this._requests.push(t)},t.prototype.execute=function(){for(var t=this._requests;t.length>0;){var e=this._requests.shift(),i=this,n=function(t){return setTimeout(function(){if(i._cellFactory._updateRowHeight(t.panel,t.cell,t.rng,t.cellStamp))i.clear();else{var e=i._timeOuts.indexOf(n);e>-1&&i._timeOuts.splice(e,1)}},0)}(e);this._timeOuts.push(n)}},t.prototype.clear=function(){this._requests.splice(0,this._requests.length),this._clearTimeouts()},t.prototype._clearTimeouts=function(){for(var t=this._timeOuts,e=0;e<t.length;e++)clearTimeout(t[e]);t.splice(0,t.length)},t}(),o||(t.grid=null),a=function(i){function n(t){i.call(this),this._$compile=t,this.scope.dataMap+="map",this.scope.dataType+="type",this.require="^wjFlexGrid",this.terminal=!0,e.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(t,e){return e[n._colTemplateProp]=t[0].innerHTML,'<div class="wjGridColumn"/>'}):(this.transclude=!0,this.template='<div class="wjGridColumn" ng-transclude/>')}return __extends(n,i),Object.defineProperty(n.prototype,"_controlConstructor",{get:function(){return t.grid.Column},enumerable:!0,configurable:!0}),n.prototype._initControl=function(){return new t.grid.Column},n.prototype._createLink=function(){return new l},n._colTemplateProp="$__wjColTemplate",n._colWjLinkProp="$__wjLink",n._cellCtxProp="$_cellCtxProp",n}(e.WjDirective),l=function(i){function n(){i.apply(this,arguments)}return __extends(n,i),n.prototype._initParent=function(){var t=this.parent.control;t.autoGenerateColumns&&(t.autoGenerateColumns=!1,this._safeApply(this.scope,"autoGenerateColumns",!1),t.columns.clear()),i.prototype._initParent.call(this);var e=u._getTemplContextProp(h.Cell),n=this.control[e],o=this[a._cellCtxProp];!n&&o&&(this.control[e]=o),this.control[a._colWjLinkProp]=this},n.prototype._link=function(){var n,o,r,s,l,c,h,p,d=this.tElement[0],f=this.tAttrs[a._colTemplateProp],g=null!=f?f:e.WjDirective._removeTransclude(d.innerHTML),m={};if(!t.isNullOrWhiteSpace(g)){for(n=document.createElement("div"),n.innerHTML=g,o=[],[].forEach.call(n.children,function(t){o.push(t)}),s=0;s<o.length;s++)l=o[s],l.tagName.toLocaleLowerCase()===u._tagName&&(r||(r=this.scope.$parent.$new()),n.removeChild(l),d.appendChild(l),this.directive._$compile(l)(r));c=n.innerHTML,t.isNullOrWhiteSpace(c)||(m.cellTemplate=c)}h=this.tAttrs.ngStyle,p=this.tAttrs.ngClass,h&&(m.cellStyle=h),p&&(m.cellClass=p),(m.cellTemplate||m.cellStyle||m.cellClass)&&(m.templLink=this,this[a._cellCtxProp]=m),i.prototype._link.call(this)},n}(e.WjLink),function(t){t[t.Cell=0]="Cell",t[t.CellEdit=1]="CellEdit",t[t.ColumnHeader=2]="ColumnHeader",t[t.RowHeader=3]="RowHeader",t[t.RowHeaderEdit=4]="RowHeaderEdit",t[t.TopLeft=5]="TopLeft",t[t.GroupHeader=6]="GroupHeader",t[t.Group=7]="Group"}(e.CellTemplateType||(e.CellTemplateType={}));var h=e.CellTemplateType,u=function(t){function i(){t.call(this),this.require=["?^wjFlexGridColumn","?^wjFlexGrid"],this.terminal=!0,e.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(t,e){return e[a._colTemplateProp]=t[0].innerHTML,"<div />"}):(this.transclude=!0,this.template="<div ng-transclude/>")}return __extends(i,t),i._getTemplContextProp=function(t){return"$__cellTempl"+h[t]},i.prototype._initControl=function(){return{}},i.prototype._createLink=function(){return new p},i.prototype._getMetaDataId=function(){return"FlexGridCellTemplate"},i._tagName="wj-flex-grid-cell-template",i}(e.WjDirective),p=function(i){function n(){i.apply(this,arguments)}return __extends(n,i),n.prototype._initParent=function(){var o,r,s,l;if(i.prototype._initParent.call(this),o=this.scope.cellType){r=h[o];var c=this.tAttrs[a._colTemplateProp],p=null!=c?c:e.WjDirective._removeTransclude(this.tElement[0].innerHTML),d=this.control;t.isNullOrWhiteSpace(p)||(d.cellTemplate=p),s=this.tAttrs.ngStyle,l=this.tAttrs.ngClass,s&&(d.cellStyle=s),l&&(d.cellClass=l),(d.cellTemplate||d.cellStyle||d.cellClass)&&(d.templLink=this,this.parent.control[u._getTemplContextProp(r)]=d),n._invalidateGrid(this.parent.control)}},n.prototype._destroy=function(){var t=this.parent&&this.parent.control,e=this.scope.cellType;i.prototype._destroy.call(this),e&&(t[u._getTemplContextProp(h[e])]=void 0,n._invalidateGrid(t))},n._invalidateGrid=function(e){var i=e;i&&(i instanceof t.grid.Column&&(i=i.grid),i&&i.invalidate())},n}(e.WjLink),d=function(e){function i(){e.call(this),this.require="^wjFlexGrid",this.template="<div />"}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.grid.filter.FlexGridFilter},enumerable:!0,configurable:!0}),i}(e.WjDirective),f=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.grid.grouppanel.GroupPanel},enumerable:!0,configurable:!0}),i}(e.WjDirective),g=function(i){function n(t){i.call(this),this._$compile=t,this.require="^wjFlexGrid",this.terminal=!0,e.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(t,e){return e[n._detailTemplateProp]=t[0].innerHTML,"<div />"}):(this.transclude=!0,this.template="<div ng-transclude/>")}return __extends(n,i),Object.defineProperty(n.prototype,"_controlConstructor",{get:function(){return t.grid.detail.FlexGridDetailProvider},enumerable:!0,configurable:!0}),n.prototype._createLink=function(){return new m},n._detailTemplateProp="$__wjDetailTemplate",n._detailScopeProp="$_detailScope",n}(e.WjDirective),m=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype._initParent=function(){var i;t.prototype._initParent.call(this);var n=this,o=this.tAttrs[g._detailTemplateProp],r=this.control;this.itemTemplate=this._getCellTemplate(null!=o?o:e.WjDirective._removeTransclude(this.tElement[0].innerHTML)),i=this._getCellTemplate(this.itemTemplate),this._tmplLink=this.directive._$compile("<div>"+i+"</div>"),r.createDetailCell=function(t,e){var i=n._getCellScope(n.scope.$parent,t,e),o=n._tmplLink(i,function(){})[0];return r.grid.hostElement.appendChild(o),i.$root.$$phase||i.$apply(),o.parentElement.removeChild(o),o},r.disposeDetailCell=function(t){t.detail&&window.angular.element(t.detail).scope().$destroy()},this.parent._isInitialized&&this.control&&this.control.invalidate()},i.prototype._destroy=function(){var e=this.parent&&this.parent.control,i=this.control;i.createDetailCell=null,i.disposeDetailCell=null,t.prototype._destroy.call(this),this._tmplLink=null,e&&e.invalidate()},i.prototype._getCellScope=function(t,e,i){var n=t.$new();return n.$row=e,n.$col=i,n.$item=e.dataItem,n},i.prototype._getCellTemplate=function(t){return t&&(t=t.replace(/ng\-style/g,"style"),t=t.replace(/ class\=\"ng\-scope\"( \"ng\-binding\")?/g,""),t=t.replace(/<span>\s*<\/span>/g,"")),t},i}(e.WjLink),_=function(e){function i(t,i){e.call(this,t,i)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.grid.sheet.FlexSheet},enumerable:!0,configurable:!0}),i}(i),y=function(e){function i(){e.call(this),this.require="^wjFlexSheet"}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.grid.sheet.Sheet},enumerable:!0,configurable:!0}),i.prototype._createLink=function(){return new w},i}(e.WjDirective),w=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype._initControl=function(){var e=t.prototype._initControl.call(this),i=this.scope,n=this.parent.control;return e.name=i.name,i.itemsSource?e.itemsSource=i.itemsSource:(e.rowCount=+i.rowCount,e.columnCount=+i.columnCount),n.sheets.push(e),e},e}(e.WjLink),b=function(e){function i(t,i){e.call(this,t,i)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.grid.multirow.MultiRow},enumerable:!0,configurable:!0}),i}(i)}(e=t.angular||(t.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},function(t){var e;!function(e){var i,n,o,r=window.angular.module("wj.olap",["wj.grid","wj.chart"]);t.olap&&t.olap.PivotGrid&&(r.directive("wjPivotGrid",["$compile","$interpolate",function(t,e){return new i(t,e)}]),r.directive("wjPivotChart",[function(){return new n}]),r.directive("wjPivotPanel",[function(){return new o}])),i=function(e){function i(t,i){e.call(this,t,i)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.olap.PivotGrid},enumerable:!0,configurable:!0}),i}(e.WjFlexGrid),e.WjPivotGrid=i,n=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.olap.PivotChart},enumerable:!0,configurable:!0}),i}(e.WjDirective),e.WjPivotChart=n,o=function(e){function i(){e.call(this),this.transclude=!0,this.template="<div ng-transclude />"}return __extends(i,e),Object.defineProperty(i.prototype,"_controlConstructor",{get:function(){return t.olap.PivotPanel},enumerable:!0,configurable:!0}),i}(e.WjDirective),e.WjPivotPanel=o}(e=t.angular||(t.angular={}))}(wijmo||(wijmo={})),function(t){var e;!function(){window.angular.module("wj",["wj.input","wj.grid","wj.chart","wj.container","wj.gauge","wj.olap"])}(e=t.angular||(t.angular={}))}(wijmo||(wijmo={}));
//# sourceMappingURL=reqWorkbenchJSLibs.min.js.map
